"use strict";(self.webpackChunk_indy_flow_web=self.webpackChunk_indy_flow_web||[]).push([[7891],{"./stories/Other/SubscribePaymentPage.stories.js":(__unused_webpack_module,__webpack_exports__,__webpack_require__)=>{__webpack_require__.r(__webpack_exports__),__webpack_require__.d(__webpack_exports__,{Premium:()=>Premium,PremiumExistingUser:()=>PremiumExistingUser,SubscribePaymentPageAdFreeExistingUserStory:()=>SubscribePaymentPageAdFreeExistingUserStory,SubscribePaymentPageAdFreeStory:()=>SubscribePaymentPageAdFreeStory,__namedExportsOrder:()=>__namedExportsOrder,default:()=>SubscribePaymentPage_stories});var defineProperty=__webpack_require__("../node_modules/.pnpm/@babel+runtime@7.25.7/node_modules/@babel/runtime/helpers/esm/defineProperty.js"),subscription=__webpack_require__("./app/constants/subscription.js"),prop_types=__webpack_require__("../node_modules/.pnpm/prop-types@15.8.1/node_modules/prop-types/index.js"),prop_types_default=__webpack_require__.n(prop_types),Helmet=__webpack_require__("../node_modules/.pnpm/react-helmet@6.1.0_react@18.3.1/node_modules/react-helmet/es/Helmet.js"),RequestProvider=__webpack_require__("./stories/__mocks__/@brightsites/flow-core/lib/providers/RequestProvider.js"),ids=__webpack_require__("./app/constants/ids.js"),Frame=__webpack_require__("./app/component/library/Frame.js"),PaymentFlow=__webpack_require__("./app/component/library/StaticPage/PaymentFlow/index.js"),PaymentFlowLayoutAdFree=__webpack_require__("./app/component/library/StaticPage/PaymentFlow/PaymentFlowLayoutAdFree.js"),extractRelevantDataForSubscriptionPages=__webpack_require__("./app/component/pages/helpers/extractRelevantDataForSubscriptionPages.js"),gdprStub_raw=__webpack_require__("./app/3rdPartySnippets/sourcepoint/gdprStub.raw.js"),jsx_runtime=__webpack_require__("../node_modules/.pnpm/react@18.3.1/node_modules/react/jsx-runtime.js");const SubscriptionPayment=({req:{path},termInfo,isNewUser,configuration:{subscriptionConfig},withHelmet=!0,shouldRenderLoadingSpinner})=>{const subscriptionTrackingName=termInfo.name,{isAdFreeOnly,name,imageSrc}=(0,extractRelevantDataForSubscriptionPages.A)(subscriptionTrackingName,subscriptionConfig),isAdFreeAndPremium=subscriptionTrackingName===subscription.fJ,isAdFreeSubscription=isAdFreeOnly||isAdFreeAndPremium,[PaymentFlowComponent,PaymentContainerComponent]=isAdFreeOnly?[PaymentFlowLayoutAdFree.A,PaymentFlow.YV]:[PaymentFlow.dD,PaymentFlow.HC];return(0,jsx_runtime.jsxs)(Frame.A,{headerType:"simple",children:[withHelmet&&(0,jsx_runtime.jsx)(Helmet.Helmet,{children:(0,jsx_runtime.jsx)("title",{children:"Secure Payment | The Independent"})}),isAdFreeSubscription&&(0,jsx_runtime.jsx)("script",{dangerouslySetInnerHTML:{__html:gdprStub_raw.A}}),(0,jsx_runtime.jsxs)(PaymentFlow.mc,{id:ids.dY,"data-subscription-resource-tracking-name":subscriptionTrackingName,children:[(0,jsx_runtime.jsx)(PaymentFlowComponent,{path,withPaymentInfo:!0,termInfo,isNewUser,packageImage:imageSrc,packageName:name}),(0,jsx_runtime.jsx)(PaymentContainerComponent,{shouldRenderLoadingSpinner})]})]})};SubscriptionPayment.propTypes={req:prop_types_default().object.isRequired,res:prop_types_default().object.isRequired,isNewUser:prop_types_default().bool.isRequired,termInfo:prop_types_default().object,configuration:prop_types_default().object,withHelmet:prop_types_default().bool,shouldRenderLoadingSpinner:prop_types_default().bool};const SecurePayment=(0,RequestProvider.ah)(SubscriptionPayment);var createImage=__webpack_require__("./stories/helpers/createImage.js"),MockOther=__webpack_require__("./stories/helpers/components/MockOther.js");function ownKeys(e,r){var t=Object.keys(e);if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(e);r&&(o=o.filter((function(r){return Object.getOwnPropertyDescriptor(e,r).enumerable}))),t.push.apply(t,o)}return t}function _objectSpread(e){for(var r=1;r<arguments.length;r++){var t=null!=arguments[r]?arguments[r]:{};r%2?ownKeys(Object(t),!0).forEach((function(r){(0,defineProperty.A)(e,r,t[r])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(t)):ownKeys(Object(t)).forEach((function(r){Object.defineProperty(e,r,Object.getOwnPropertyDescriptor(t,r))}))}return e}const mockReqOverrides={path:"/payment"},configurationOverrides={subscriptionConfig:{[subscription.Qw]:{imageSrc:(0,createImage.A)(0,151,0),name:"Independent Premium"},[subscription.XI]:{imageSrc:(0,createImage.A)(0,151,0),name:"Ad Free Only"}}},mockTermInfo={currency:"GBP",price:4,length:"Monthly",firstPayment:"Â£4.00 for 1 month",hasTrial:!1},mockTrialTermInfo=_objectSpread(_objectSpread({},mockTermInfo),{},{hasTrial:!0}),SubscribePaymentPage_stories={title:"Other/Subscribe/Payment",component:SecurePayment,tags:["storyshot:vp:all"]},Premium={args:{withHelmet:!1,termInfo:mockTrialTermInfo,shouldRenderLoadingSpinner:!1},decorators:[Story=>(0,jsx_runtime.jsx)(MockOther.A,{reqOverrides:mockReqOverrides,configurationOverrides,children:(0,jsx_runtime.jsx)(Story,{})})]},PremiumExistingUser={name:"Premium (existing user)",args:{withHelmet:!1,termInfo:mockTermInfo,shouldRenderLoadingSpinner:!1,isNewUser:!1},decorators:[Story=>(0,jsx_runtime.jsx)(MockOther.A,{reqOverrides:mockReqOverrides,configurationOverrides,children:(0,jsx_runtime.jsx)(Story,{})})]},SubscribePaymentPageAdFreeStory={name:"Ad-free",args:{withHelmet:!1,termInfo:_objectSpread(_objectSpread({},mockTermInfo),{},{name:subscription.sR}),shouldRenderLoadingSpinner:!1,isNewUser:!0},decorators:[Story=>(0,jsx_runtime.jsx)(MockOther.A,{reqOverrides:mockReqOverrides,configurationOverrides,children:(0,jsx_runtime.jsx)(Story,{})})]},SubscribePaymentPageAdFreeExistingUserStory={name:"Ad-free (existing user)",args:{withHelmet:!1,termInfo:_objectSpread(_objectSpread({},mockTermInfo),{},{name:subscription.sR}),shouldRenderLoadingSpinner:!1,isNewUser:!1},decorators:[Story=>(0,jsx_runtime.jsx)(MockOther.A,{reqOverrides:mockReqOverrides,configurationOverrides,children:(0,jsx_runtime.jsx)(Story,{})})]},__namedExportsOrder=["Premium","PremiumExistingUser","SubscribePaymentPageAdFreeStory","SubscribePaymentPageAdFreeExistingUserStory"]},"./app/component/library/StaticPage/PaymentFlow/PaymentFlowLayoutAdFree.js":(__unused_webpack_module,__webpack_exports__,__webpack_require__)=>{__webpack_require__.d(__webpack_exports__,{A:()=>__WEBPACK_DEFAULT_EXPORT__});var styled_components__WEBPACK_IMPORTED_MODULE_8__=__webpack_require__("../node_modules/.pnpm/styled-components@6.1.13_react-dom@18.3.1_react@18.3.1/node_modules/styled-components/dist/styled-components.browser.esm.js"),_app_constants_classNames__WEBPACK_IMPORTED_MODULE_10__=__webpack_require__("./app/constants/classNames.js"),_Header_Breadcrumb__WEBPACK_IMPORTED_MODULE_0__=__webpack_require__("./app/component/library/StaticPage/PaymentFlow/Header/Breadcrumb.js"),_Header_Breadcrumb_constants__WEBPACK_IMPORTED_MODULE_9__=__webpack_require__("./app/component/library/StaticPage/PaymentFlow/Header/Breadcrumb.constants.js"),_PaymentFlowLayout__WEBPACK_IMPORTED_MODULE_1__=__webpack_require__("./app/component/library/StaticPage/PaymentFlow/PaymentFlowLayout.js"),_SecurePayment__WEBPACK_IMPORTED_MODULE_2__=__webpack_require__("./app/component/library/StaticPage/PaymentFlow/SecurePayment/index.js"),_SecurePayment_Package_ChosenPackage__WEBPACK_IMPORTED_MODULE_3__=__webpack_require__("./app/component/library/StaticPage/PaymentFlow/SecurePayment/Package/ChosenPackage.js"),_SecurePayment_Package_PackageName__WEBPACK_IMPORTED_MODULE_4__=__webpack_require__("./app/component/library/StaticPage/PaymentFlow/SecurePayment/Package/PackageName.js"),_SecurePayment_Package_PaymentInfo__WEBPACK_IMPORTED_MODULE_5__=__webpack_require__("./app/component/library/StaticPage/PaymentFlow/SecurePayment/Package/PaymentInfo.js"),_SubscriptionRegister_Package_ChosenPackage__WEBPACK_IMPORTED_MODULE_6__=__webpack_require__("./app/component/library/StaticPage/PaymentFlow/SubscriptionRegister/Package/ChosenPackage.js"),_SubscriptionRegister_Package_PackageWrapper__WEBPACK_IMPORTED_MODULE_7__=__webpack_require__("./app/component/library/StaticPage/PaymentFlow/SubscriptionRegister/Package/PackageWrapper.js");const __WEBPACK_DEFAULT_EXPORT__=(0,styled_components__WEBPACK_IMPORTED_MODULE_8__.styled)(_PaymentFlowLayout__WEBPACK_IMPORTED_MODULE_1__.d).withConfig({componentId:"sc-1yoi8ed-0"})(["","{--line-color:",";}",".","{background:",";}","{background:",";}","{color:",";}","{--text-color:",";background:",";","{color:var(--text-color);}","{color:var(--text-color);}","{color:var(--text-color);}.","{display:none;}}"],_Header_Breadcrumb__WEBPACK_IMPORTED_MODULE_0__.TW,(({theme})=>theme.color.divider.light),_Header_Breadcrumb__WEBPACK_IMPORTED_MODULE_0__.bR,_Header_Breadcrumb_constants__WEBPACK_IMPORTED_MODULE_9__.$,(({theme})=>theme.color.semiotic.success),_SubscriptionRegister_Package_PackageWrapper__WEBPACK_IMPORTED_MODULE_7__.U,(({theme})=>theme.color.canvas.secondary),_SubscriptionRegister_Package_ChosenPackage__WEBPACK_IMPORTED_MODULE_6__.h,(({theme})=>theme.color.ink.base),_SecurePayment__WEBPACK_IMPORTED_MODULE_2__.lP,(({theme})=>theme.color.ink.inverted),(({theme})=>theme.color.dark.canvas.secondary),_SecurePayment_Package_ChosenPackage__WEBPACK_IMPORTED_MODULE_3__.h,_SecurePayment_Package_PackageName__WEBPACK_IMPORTED_MODULE_4__.g,_SecurePayment_Package_PaymentInfo__WEBPACK_IMPORTED_MODULE_5__.t6,_app_constants_classNames__WEBPACK_IMPORTED_MODULE_10__.J$)},"./app/component/pages/helpers/extractRelevantDataForSubscriptionPages.js":(__unused_webpack_module,__webpack_exports__,__webpack_require__)=>{__webpack_require__.d(__webpack_exports__,{A:()=>__WEBPACK_DEFAULT_EXPORT__});var _app_constants_subscription__WEBPACK_IMPORTED_MODULE_0__=__webpack_require__("./app/constants/subscription.js");const __WEBPACK_DEFAULT_EXPORT__=(subscriptionTrackingName,subscriptionConfig)=>{const isAdFreeOnly=subscriptionTrackingName===_app_constants_subscription__WEBPACK_IMPORTED_MODULE_0__.sR,subscriptionConfigKey=((trackingName="")=>{switch(trackingName){case _app_constants_subscription__WEBPACK_IMPORTED_MODULE_0__.aZ:return _app_constants_subscription__WEBPACK_IMPORTED_MODULE_0__.Rq;case _app_constants_subscription__WEBPACK_IMPORTED_MODULE_0__.jl:return _app_constants_subscription__WEBPACK_IMPORTED_MODULE_0__.OH;case _app_constants_subscription__WEBPACK_IMPORTED_MODULE_0__.sR:return _app_constants_subscription__WEBPACK_IMPORTED_MODULE_0__.XI;default:return _app_constants_subscription__WEBPACK_IMPORTED_MODULE_0__.Qw}})(subscriptionTrackingName),fallbackConfig=subscriptionConfig[_app_constants_subscription__WEBPACK_IMPORTED_MODULE_0__.Qw],{name,imageSrc}=subscriptionConfig[subscriptionConfigKey]||fallbackConfig;return{isAdFreeOnly,name,imageSrc}}}}]);