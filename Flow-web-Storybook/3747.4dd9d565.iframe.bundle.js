"use strict";(self.webpackChunk_indy_flow_web=self.webpackChunk_indy_flow_web||[]).push([[3747],{"./app/component/icons/facebookIcon.svg":(__unused_webpack_module,__webpack_exports__,__webpack_require__)=>{__webpack_require__.d(__webpack_exports__,{A:()=>__WEBPACK_DEFAULT_EXPORT__});var _path,react__WEBPACK_IMPORTED_MODULE_0__=__webpack_require__("../node_modules/.pnpm/react@18.3.1/node_modules/react/index.js");function _extends(){return _extends=Object.assign?Object.assign.bind():function(n){for(var e=1;e<arguments.length;e++){var t=arguments[e];for(var r in t)({}).hasOwnProperty.call(t,r)&&(n[r]=t[r])}return n},_extends.apply(null,arguments)}const __WEBPACK_DEFAULT_EXPORT__=props=>react__WEBPACK_IMPORTED_MODULE_0__.createElement("svg",_extends({xmlns:"http://www.w3.org/2000/svg",id:"b941eb1404da3df8",viewBox:"0 0 32 32"},props),_path||(_path=react__WEBPACK_IMPORTED_MODULE_0__.createElement("path",{d:"M13.5 31.83q1.02.16 2.09.2h.84q1.06-.04 2.07-.2v-11.2h3.73l.7-4.62H18.5v-3c0-1.27.62-2.5 2.6-2.5h2.02V6.56s-1.83-.31-3.58-.31c-3.65 0-6.04 2.21-6.04 6.22V16H9.44v4.63h4.06z"})))},"./app/component/icons/twitterIcon.svg":(__unused_webpack_module,__webpack_exports__,__webpack_require__)=>{__webpack_require__.d(__webpack_exports__,{A:()=>__WEBPACK_DEFAULT_EXPORT__});var _path,react__WEBPACK_IMPORTED_MODULE_0__=__webpack_require__("../node_modules/.pnpm/react@18.3.1/node_modules/react/index.js");function _extends(){return _extends=Object.assign?Object.assign.bind():function(n){for(var e=1;e<arguments.length;e++){var t=arguments[e];for(var r in t)({}).hasOwnProperty.call(t,r)&&(n[r]=t[r])}return n},_extends.apply(null,arguments)}const __WEBPACK_DEFAULT_EXPORT__=props=>react__WEBPACK_IMPORTED_MODULE_0__.createElement("svg",_extends({xmlns:"http://www.w3.org/2000/svg",id:"3c07479c140c45b1",viewBox:"0 0 36 29.2"},props),_path||(_path=react__WEBPACK_IMPORTED_MODULE_0__.createElement("path",{d:"M31.8 4.6c.7-.1 1.4-.3 2.1-.5s1.4-.4 2.1-.8c-.5.7-1 1.4-1.6 2q-.9.9-2.1 1.8V8c0 1.7-.2 3.4-.6 5q-.6 2.4-1.8 4.8c-.8 1.6-1.7 3-3 4.3-1.2 1.3-2.7 2.5-4.3 3.6s-3.4 1.9-5.3 2.5a23.5 23.5 0 0 1-12.1 0C3.5 27.8 1.7 27 0 25.9c.2 0 .4.1.7.1h1.1a14.2 14.2 0 0 0 9.2-3.2c-.8 0-1.6-.1-2.3-.4s-1.4-.6-2-1.1-1.2-1-1.6-1.6-.8-1.3-1-2.1c.1.1.3.1.5.1h.8c.3 0 .7 0 1-.1s.6-.1 1-.2q-1.35-.3-2.4-.9c-1.05-.6-1.3-1-1.9-1.6-.6-.7-1-1.4-1.2-2.2-.3-.8-.4-1.6-.4-2.6q.75.45 1.5.6.75.3 1.8.3c-1.1-.8-1.9-1.6-2.5-2.7a6.8 6.8 0 0 1-.5-5.2c.2-.6.4-1.2.8-1.8 1 1.2 2.1 2.3 3.2 3.2S8 6.3 9.3 6.9s2.6 1.1 4 1.5c1.4.3 2.9.5 4.4.6-.1-.3-.2-.5-.2-.8v-.9c0-1 .2-2 .5-2.8.4-.9.9-1.6 1.6-2.4.7-.7 1.5-1.3 2.4-1.6 1-.3 1.9-.5 3-.5s2 .2 2.9.6 1.7.9 2.4 1.7c.8-.2 1.6-.4 2.3-.7.8-.3 1.6-.6 2.3-1-.3.8-.6 1.6-1.2 2.3-.4.6-1.1 1.2-1.9 1.7"})))},"./app/component/icons/xIcon.svg":(__unused_webpack_module,__webpack_exports__,__webpack_require__)=>{__webpack_require__.d(__webpack_exports__,{A:()=>__WEBPACK_DEFAULT_EXPORT__});var _path,react__WEBPACK_IMPORTED_MODULE_0__=__webpack_require__("../node_modules/.pnpm/react@18.3.1/node_modules/react/index.js");function _extends(){return _extends=Object.assign?Object.assign.bind():function(n){for(var e=1;e<arguments.length;e++){var t=arguments[e];for(var r in t)({}).hasOwnProperty.call(t,r)&&(n[r]=t[r])}return n},_extends.apply(null,arguments)}const __WEBPACK_DEFAULT_EXPORT__=props=>react__WEBPACK_IMPORTED_MODULE_0__.createElement("svg",_extends({xmlns:"http://www.w3.org/2000/svg",id:"Layer_2-3f443091285db5b7","data-name":"Layer 2",viewBox:"0 0 23.95 23.97"},props),_path||(_path=react__WEBPACK_IMPORTED_MODULE_0__.createElement("path",{d:"M14.28 10.17 23.2 0h-2.11l-7.75 8.83L7.16 0H0l9.38 13.34L0 24h2.14l8.17-9.31L16.84 24H24Zm-2.89 3.29-1-1.33L2.9 1.57h3.24l6.09 8.53.95 1.32 7.91 11.08h-3.25Z"})))},"./app/component/library/Debug/Badge.tsx":(__unused_webpack_module,__webpack_exports__,__webpack_require__)=>{__webpack_require__.d(__webpack_exports__,{A:()=>Debug_Badge});var jsx_runtime=__webpack_require__("../node_modules/.pnpm/react@18.3.1/node_modules/react/jsx-runtime.js"),react=__webpack_require__("../node_modules/.pnpm/react@18.3.1/node_modules/react/index.js"),zIndex_7a2256c3=__webpack_require__("../ui/dist/zIndex-7a2256c3.js"),styled_components_browser_esm=__webpack_require__("../node_modules/.pnpm/styled-components@6.1.13_react-dom@18.3.1_react@18.3.1/node_modules/styled-components/dist/styled-components.browser.esm.js"),h=Object.defineProperty,p=(o,n)=>h(o,"name",{value:n,configurable:!0});const Y=styled_components_browser_esm.styled.div.withConfig({componentId:"sc-1ioan8g-0"})(["position:absolute;z-index:",";cursor:move;"],(({zIndex:o})=>o)),g={x:0,y:0},L=p((({className:o,children:n,initialPosition:d=g,zIndex:m=zIndex_7a2256c3.b})=>{const s=(0,react.useRef)(null),[t,c]=(0,react.useState)(d),[l,f]=(0,react.useState)(!1),[i,x]=(0,react.useState)(g),M=(0,react.useCallback)((e=>{f(!0),x({x:e.clientX-t.x,y:e.clientY-t.y})}),[t]),y=(0,react.useCallback)((e=>{l&&c({x:e.clientX-i.x,y:e.clientY-i.y})}),[l,i]),u=(0,react.useCallback)((()=>{f(!1)}),[]);return(0,react.useEffect)((()=>{if(s.current){const e=s.current.offsetWidth,b=(window.innerWidth-e)/2;c({x:b,y:10})}}),[]),(0,jsx_runtime.jsx)(Y,{className:o,ref:s,onMouseDown:M,onMouseMove:y,onMouseUp:u,onMouseLeave:u,style:{left:t.x,top:t.y},zIndex:m,children:n})}),"Draggable"),Wrapper=styled_components_browser_esm.styled.div.withConfig({componentId:"sc-867hmx-0"})(["padding:5px;background:rgba(255,245,156,0.8);font-family:",";font-size:12px;"],(props=>props.theme.fontFamily.secondaryFont)),List=styled_components_browser_esm.styled.dl.withConfig({componentId:"sc-867hmx-1"})(["margin:0;color:",";"],(({theme})=>theme.color.ink.base)),Row=styled_components_browser_esm.styled.div.withConfig({componentId:"sc-867hmx-2"})(["display:flex;padding:2px 5px;& + &{border-top:1px solid ",";}"],(({theme})=>theme.color.ink.base)),Term=styled_components_browser_esm.styled.dt.withConfig({componentId:"sc-867hmx-3"})(["&::after{content:':';margin-inline-end:1ex;}"]),Value=styled_components_browser_esm.styled.dd.withConfig({componentId:"sc-867hmx-4"})(["margin:0;"]),Debug_Badge=({subscriberOrigin,locale,featureFlags,feed,className})=>(0,jsx_runtime.jsx)(L,{className,initialPosition:{x:800,y:10},children:(0,jsx_runtime.jsx)(Wrapper,{"data-testid":"badge-wrapper",children:(0,jsx_runtime.jsxs)(List,{children:[(0,jsx_runtime.jsxs)(Row,{"data-testid":"badge-row-feed",children:[(0,jsx_runtime.jsx)(Term,{children:"Feed"}),(0,jsx_runtime.jsx)(Value,{"data-testid":"badge-value-feed",dangerouslySetInnerHTML:{__html:feed}})]}),(0,jsx_runtime.jsxs)(Row,{"data-testid":"badge-row-subscriber-origin",children:[(0,jsx_runtime.jsx)(Term,{children:"Subscriber origin"}),(0,jsx_runtime.jsx)(Value,{"data-testid":"badge-value-subscriber-origin",dangerouslySetInnerHTML:{__html:subscriberOrigin}})]}),(0,jsx_runtime.jsxs)(Row,{"data-testid":"badge-row-locale",children:[(0,jsx_runtime.jsx)(Term,{children:"Locale"}),(0,jsx_runtime.jsx)(Value,{"data-testid":"badge-value-locale",dangerouslySetInnerHTML:{__html:locale}})]}),(0,jsx_runtime.jsxs)(Row,{"data-testid":"badge-row-feature-flags",children:[(0,jsx_runtime.jsx)(Term,{children:"Feature flags"}),(0,jsx_runtime.jsx)(List,{children:featureFlags.map(((flag,i)=>(0,jsx_runtime.jsx)(Row,{children:(0,jsx_runtime.jsx)(Value,{"data-testid":`badge-value-feature-flag-${i}`,dangerouslySetInnerHTML:{__html:flag}})},i)))})]})]})})})},"./app/3rdPartySnippets/sourcepoint/gdprStub.raw.js":(__unused_webpack_module,__webpack_exports__,__webpack_require__)=>{__webpack_require__.d(__webpack_exports__,{A:()=>__WEBPACK_DEFAULT_EXPORT__});const __WEBPACK_DEFAULT_EXPORT__='"use strict";function _typeof(t){return(_typeof="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t})(t)}!function(){var t=function(){var t,e,o=[],n=window,r=n;for(;r;){try{if(r.frames.__tcfapiLocator){t=r;break}}catch(t){}if(r===n.top)break;r=r.parent}t||(!function t(){var e=n.document,o=!!n.frames.__tcfapiLocator;if(!o)if(e.body){var r=e.createElement("iframe");r.style.cssText="display:none",r.name="__tcfapiLocator",e.body.appendChild(r)}else setTimeout(t,5);return!o}(),n.__tcfapi=function(){for(var t=arguments.length,n=new Array(t),r=0;r<t;r++)n[r]=arguments[r];if(!n.length)return o;"setGdprApplies"===n[0]?n.length>3&&2===parseInt(n[1],10)&&"boolean"==typeof n[3]&&(e=n[3],"function"==typeof n[2]&&n[2]("set",!0)):"ping"===n[0]?"function"==typeof n[2]&&n[2]({gdprApplies:e,cmpLoaded:!1,cmpStatus:"stub"}):o.push(n)},n.addEventListener("message",(function(t){var e="string"==typeof t.data,o={};if(e)try{o=JSON.parse(t.data)}catch(t){}else o=t.data;var n="object"===_typeof(o)&&null!==o?o.__tcfapiCall:null;n&&window.__tcfapi(n.command,n.version,(function(o,r){var a={__tcfapiReturn:{returnValue:o,success:r,callId:n.callId}};t&&t.source&&t.source.postMessage&&t.source.postMessage(e?JSON.stringify(a):a,"*")}),n.parameter)}),!1))};"undefined"!=typeof module?module.exports=t:t()}();\n'},"./app/component/library/AmpAuth.js":(__unused_webpack_module,__webpack_exports__,__webpack_require__)=>{__webpack_require__.d(__webpack_exports__,{A:()=>__WEBPACK_DEFAULT_EXPORT__});var prop_types__WEBPACK_IMPORTED_MODULE_7__=__webpack_require__("../node_modules/.pnpm/prop-types@15.8.1/node_modules/prop-types/index.js"),prop_types__WEBPACK_IMPORTED_MODULE_7___default=__webpack_require__.n(prop_types__WEBPACK_IMPORTED_MODULE_7__),react_helmet__WEBPACK_IMPORTED_MODULE_0__=__webpack_require__("../node_modules/.pnpm/react-helmet@6.1.0_react@18.3.1/node_modules/react-helmet/es/Helmet.js"),_brightsites_flow_core_lib_providers_RequestProvider__WEBPACK_IMPORTED_MODULE_1__=__webpack_require__("./stories/__mocks__/@brightsites/flow-core/lib/providers/RequestProvider.js"),_app_constants_cookies__WEBPACK_IMPORTED_MODULE_6__=__webpack_require__("./app/constants/cookies.ts"),_app_services_featureFlag__WEBPACK_IMPORTED_MODULE_2__=__webpack_require__("./app/services/featureFlag.js"),_app_util_newsletterKey__WEBPACK_IMPORTED_MODULE_3__=__webpack_require__("./app/util/newsletterKey.js"),_helper__WEBPACK_IMPORTED_MODULE_4__=__webpack_require__("./app/component/library/helper.js"),react_jsx_runtime__WEBPACK_IMPORTED_MODULE_5__=__webpack_require__("../node_modules/.pnpm/react@18.3.1/node_modules/react/jsx-runtime.js");const AmpAuth=({req,res,article,section,configuration})=>{if((0,_app_services_featureFlag__WEBPACK_IMPORTED_MODULE_2__.G7)(req,res,_app_constants_cookies__WEBPACK_IMPORTED_MODULE_6__.IP))return null;const regSourceSection=article&&article.sections&&article.sections[0].name||section&&section.section&&section.section.name||"News",regSourceMethod=encodeURIComponent((article?"Article":"Section")+"+Signpost"),newsletterKey=(0,_app_util_newsletterKey__WEBPACK_IMPORTED_MODULE_3__.t5)(article||section,configuration.newslettersConfig),json={authorization:"/internal-api/login-authorization.json?rid=READER_ID&url=CANONICAL_URL&ref=DOCUMENT_REFERRER&_=RANDOM",noPingback:"true",login:{"sign-in":"/login?noframe&rid=READER_ID&url=SOURCE_URL&return=RETURN_URL","register-newsletter":`/register?noframe&rid=READER_ID&url=SOURCE_URL&return=RETURN_URL&regSourceSection=${regSourceSection}&regSourceMethod=${regSourceMethod}${newsletterKey&&`&newsletter=${newsletterKey}`}`},authorizationFallbackResponse:{error:"true",fullName:"",loggedIn:!1,nickname:!1,subscriber:!1},namespace:"indy"},tags=(0,_helper__WEBPACK_IMPORTED_MODULE_4__.B_)({article,config:configuration.newslettersConfig}),pianoJSON={authorization:"development"===configuration.jsGlobals.pianoEnvironment?`https://sandbox.tinypass.com/xbuilder/experience/executeAmp?protocol_version=1&aid=bhx3BCVktB&reader_id=READER_ID&url=SOURCE_URL&referer=DOCUMENT_REFERRER&_=RANDOM&tags=${tags}`:`https://experience.tinypass.com/xbuilder/experience/executeAmp?protocol_version=1&aid=SEz5CAOYyJ&reader_id=READER_ID&url=SOURCE_URL&referer=DOCUMENT_REFERRER&_=RANDOM&tags=${tags}`,noPingback:"true",authorizationFallbackResponse:{error:!0},namespace:"indyPiano"};return(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_5__.jsx)(react_helmet__WEBPACK_IMPORTED_MODULE_0__.Helmet,{children:(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_5__.jsx)("script",{id:"amp-access",type:"application/json",children:JSON.stringify([json,pianoJSON])})})};AmpAuth.propTypes={req:prop_types__WEBPACK_IMPORTED_MODULE_7___default().object,res:prop_types__WEBPACK_IMPORTED_MODULE_7___default().object,article:prop_types__WEBPACK_IMPORTED_MODULE_7___default().object,section:prop_types__WEBPACK_IMPORTED_MODULE_7___default().object,configuration:prop_types__WEBPACK_IMPORTED_MODULE_7___default().object};const __WEBPACK_DEFAULT_EXPORT__=(0,_brightsites_flow_core_lib_providers_RequestProvider__WEBPACK_IMPORTED_MODULE_1__.ah)(AmpAuth)},"./app/component/library/Common/Accordion/index.js":(__unused_webpack_module,__webpack_exports__,__webpack_require__)=>{__webpack_require__.d(__webpack_exports__,{A:()=>_Accordion__WEBPACK_IMPORTED_MODULE_0__.A,o:()=>_Accordion__WEBPACK_IMPORTED_MODULE_0__.o});var _Accordion__WEBPACK_IMPORTED_MODULE_0__=__webpack_require__("./app/component/library/Common/Accordion/Accordion.js")},"./app/component/library/Footer.js":(__unused_webpack_module,__webpack_exports__,__webpack_require__)=>{__webpack_require__.d(__webpack_exports__,{J:()=>FooterWrapper,A:()=>library_Footer});var prop_types=__webpack_require__("../node_modules/.pnpm/prop-types@15.8.1/node_modules/prop-types/index.js"),prop_types_default=__webpack_require__.n(prop_types),styled_components_browser_esm=__webpack_require__("../node_modules/.pnpm/styled-components@6.1.13_react-dom@18.3.1_react@18.3.1/node_modules/styled-components/dist/styled-components.browser.esm.js"),defineProperty=__webpack_require__("../node_modules/.pnpm/@babel+runtime@7.25.7/node_modules/@babel/runtime/helpers/esm/defineProperty.js"),objectWithoutProperties=__webpack_require__("../node_modules/.pnpm/@babel+runtime@7.25.7/node_modules/@babel/runtime/helpers/esm/objectWithoutProperties.js"),jsx_runtime=__webpack_require__("../node_modules/.pnpm/react@18.3.1/node_modules/react/jsx-runtime.js");const _excluded=["children"];function ownKeys(e,r){var t=Object.keys(e);if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(e);r&&(o=o.filter((function(r){return Object.getOwnPropertyDescriptor(e,r).enumerable}))),t.push.apply(t,o)}return t}function _objectSpread(e){for(var r=1;r<arguments.length;r++){var t=null!=arguments[r]?arguments[r]:{};r%2?ownKeys(Object(t),!0).forEach((function(r){(0,defineProperty.A)(e,r,t[r])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(t)):ownKeys(Object(t)).forEach((function(r){Object.defineProperty(e,r,Object.getOwnPropertyDescriptor(t,r))}))}return e}const MockFooter=_ref=>{let{children}=_ref,props=(0,objectWithoutProperties.A)(_ref,_excluded);return(0,jsx_runtime.jsx)("div",_objectSpread(_objectSpread({},props),{},{children}))};MockFooter.propTypes={children:prop_types_default().any};const Footer=MockFooter;var RequestProvider=__webpack_require__("./stories/__mocks__/@brightsites/flow-core/lib/providers/RequestProvider.js"),Icon=__webpack_require__("../ui/dist/Icon.js"),devices=__webpack_require__("./app/constants/devices.js"),cookies=__webpack_require__("./app/constants/cookies.ts"),featureFlag=__webpack_require__("./app/services/featureFlag.js"),facebookIcon=__webpack_require__("./app/component/icons/facebookIcon.svg"),twitterIcon=__webpack_require__("./app/component/icons/twitterIcon.svg"),xIcon=__webpack_require__("./app/component/icons/xIcon.svg");const List=styled_components_browser_esm.styled.ul.withConfig({componentId:"sc-16d5z5s-0"})(["padding:0;margin:0;list-style:none;"]),SocialListItem=styled_components_browser_esm.styled.li.withConfig({componentId:"sc-16d5z5s-1"})(["display:flex;height:62px;align-items:center;"]),SocialLink=styled_components_browser_esm.styled.a.withConfig({componentId:"sc-16d5z5s-2"})(["display:inline-block;width:32px;height:32px;margin:0 15px 0 0;border-radius:50%;background:",";cursor:pointer;text-decoration:none;svg{width:60%;height:60%;margin:20%;fill:",";}&.fb-link{background:",";&:hover{background:",";}svg{width:100%;height:100%;margin:0%;}}&.tw-link{background:",";}&.x-link{background:",";&:hover{background:",";}}"],(({theme})=>theme.color.actionBase.base),(({theme})=>theme.color.ink.inverted),(props=>props.theme.color.social.facebook.base),(props=>props.theme.color.social.facebook.alt),(({theme})=>theme.color.social.twitter.base),(props=>props.theme.color.social.x.base),(props=>props.theme.color.social.x.alt)),SocialList=({name,facebookPage,twitterPage,req,res})=>{const twitterRebrand=(0,featureFlag.G7)(req,res,cookies.vH);return(0,jsx_runtime.jsx)(List,{children:(0,jsx_runtime.jsxs)(SocialListItem,{children:[(0,jsx_runtime.jsx)(SocialLink,{className:"fb-link",rel:"noopener","aria-label":`Visit ${name} on Facebook`,href:facebookPage,children:(0,jsx_runtime.jsx)(facebookIcon.A,{})},"facebook"),(0,jsx_runtime.jsx)(SocialLink,{className:twitterRebrand?"x-link":"tw-link",rel:"noopener","aria-label":`Visit ${name} on Twitter`,href:twitterPage,children:twitterRebrand?(0,jsx_runtime.jsx)(xIcon.A,{}):(0,jsx_runtime.jsx)(twitterIcon.A,{})},"twitter")]})})};SocialList.propTypes={name:prop_types_default().string,twitterPage:prop_types_default().string,facebookPage:prop_types_default().string,req:prop_types_default().object.isRequired,res:prop_types_default().object.isRequired};const Footer_SocialList=(0,RequestProvider.ah)(SocialList);var ids=__webpack_require__("./app/constants/ids.js"),subscriberOrigin=__webpack_require__("./app/constants/subscriberOrigin.js"),getSubscriberOrigin=__webpack_require__("./app/util/getSubscriberOrigin.js");const isPrivacyLink=({title})=>"Privacy settings"===title,isExternalLink=({path})=>!/^\//.test(path),FooterMenu_styles_List=styled_components_browser_esm.styled.ul.withConfig({componentId:"sc-2grh3o-0"})(["padding:0;margin:0;list-style:none;"]),ListItem=styled_components_browser_esm.styled.li.withConfig({componentId:"sc-2grh3o-1"})([""]),Link=styled_components_browser_esm.styled.a.withConfig({componentId:"sc-2grh3o-2"})(["display:block;padding:6px 0;color:",";cursor:pointer;",""],(({theme})=>theme.color.ink.base),(({theme})=>theme.textStyle.footer.navItemLink)),FooterMenu_FooterMenu=(0,RequestProvider.ah)((({menu,req})=>{const location=(0,getSubscriberOrigin.A)(req),isValidLocation=[subscriberOrigin.FB,subscriberOrigin.vV,subscriberOrigin.Ts].includes(location),isUS=location===subscriberOrigin.Ts;return(0,jsx_runtime.jsx)(FooterMenu_styles_List,{children:(children=menu,children.filter((menuItem=>(!isUS||!(({title})=>"Subscribe"===title)(menuItem))&&(!(({title})=>["Donations Terms & Conditions","Donate"].includes(title))(menuItem)&&!isPrivacyLink(menuItem)||isValidLocation)))).map((menuItem=>(0,jsx_runtime.jsx)(ListItem,{children:isPrivacyLink(menuItem)&&(0,jsx_runtime.jsx)(Link,{id:ids.Dp})||isExternalLink(menuItem)&&(0,jsx_runtime.jsx)(Link,{rel:"noopener",href:menuItem.path,children:menuItem.title})||(0,jsx_runtime.jsx)(Link,{href:menuItem.path,children:menuItem.title})},menuItem.id)))});var children}));var logoStampNoBackground=__webpack_require__("./app/component/icons/logoStampNoBackground.svg");const FooterComponent=Footer.default||Footer,BaseLogoStamp=(0,Icon.Sy)(logoStampNoBackground.A),FooterWrapper=(0,styled_components_browser_esm.styled)(FooterComponent).withConfig({componentId:"sc-139f79w-0"})(["display:flex;position:relative;box-sizing:border-box;flex-wrap:wrap;justify-content:space-between;padding:32px 20px;margin:",";border-top:","px solid ",";background-color:",";@media ","{margin:",";}@media ","{padding-right:40px;padding-left:40px;margin:",";.wrapped_by_ads &{margin:32px 0;}}&.hidden{display:none;}"],(({isSecurePaymentPage})=>!isSecurePaymentPage&&"32px 12px"),(props=>props.$suppressLine?0:1),(props=>props.theme.color.divider.light),(props=>props.theme.color.canvas.base),devices.n5,(({isSecurePaymentPage})=>!isSecurePaymentPage&&"32px 16px 72px"),devices.BY,(({isSecurePaymentPage})=>!isSecurePaymentPage&&"32px 16px")),FooterNav=styled_components_browser_esm.styled.nav.withConfig({componentId:"sc-139f79w-1"})(["display:flex;width:100%;",";"],(({theme})=>theme.textStyle.footer.nav)),FooterList=styled_components_browser_esm.styled.ul.withConfig({componentId:"sc-139f79w-2"})(["display:grid;width:100%;grid-template-columns:1fr 1fr;padding:0;margin:0;list-style:none;@media ","{grid-template-columns:1fr 1fr 1fr 1fr;}@media ","{display:flex;flex-wrap:wrap;align-items:flex-start;}"],devices.n5,devices.BY),FooterListItem=styled_components_browser_esm.styled.li.withConfig({componentId:"sc-139f79w-3"})(["width:100%;margin-bottom:20px;&:first-of-type{grid-row:span 2;}&:nth-of-type(4){order:5;}@media ","{width:auto;grid-row:span 2;&:nth-of-type(2),&:nth-of-type(3){grid-row:span 1;}&:nth-of-type(3){order:5;}&:nth-of-type(4){order:0;}}@media ","{width:50%;flex:1 0 145px;margin-bottom:20px;&:nth-of-type(3){order:0;}}"],devices.n5,devices.BY),Section=styled_components_browser_esm.styled.a.withConfig({componentId:"sc-139f79w-4"})(["display:block;padding:0;margin:0 0 8px;color:",";pointer-events:none;",";"],(props=>props.theme.color.ink.base),(({theme})=>theme.textStyle.footer.navSectionLink)),LogoStamp=(0,styled_components_browser_esm.styled)(BaseLogoStamp).withConfig({componentId:"sc-139f79w-5"})(["display:block;width:72px;height:72px;margin-bottom:30px;border-radius:50%;background-color:",";"],(props=>props.theme.color.primary.base)),Footer_Footer=({res:{locals:{data,menu:{footerMenu},configuration:{name,domain,facebookPage,twitterPage}}},req,isSecurePaymentPage})=>{var _footerMenu$menu;return(0,jsx_runtime.jsx)(FooterWrapper,{$suppressLine:!(null==data||!data.suppressLine),isSecurePaymentPage,children:(0,jsx_runtime.jsx)(FooterNav,{children:(0,jsx_runtime.jsx)(FooterList,{children:null==footerMenu||null===(_footerMenu$menu=footerMenu.menu)||void 0===_footerMenu$menu?void 0:_footerMenu$menu.map((({title,path,children},index)=>(0,jsx_runtime.jsxs)(FooterListItem,{children:[0===index&&(0,jsx_runtime.jsx)("a",{href:"/","aria-label":"Back to homepage",children:(0,jsx_runtime.jsx)(LogoStamp,{})}),(0,jsx_runtime.jsx)(Section,{href:path,children:title}),children&&(0,jsx_runtime.jsx)(FooterMenu_FooterMenu,{req,menu:children}),0===index&&(0,jsx_runtime.jsx)(Footer_SocialList,{name,facebookPage,twitterPage,domain})]},title+index)))})})})};Footer_Footer.propTypes={res:prop_types_default().object.isRequired,req:prop_types_default().object.isRequired,isSecurePaymentPage:prop_types_default().bool};const library_Footer=(0,RequestProvider.ah)(Footer_Footer)},"./app/component/library/Frame.js":(__unused_webpack_module,__webpack_exports__,__webpack_require__)=>{__webpack_require__.d(__webpack_exports__,{A:()=>library_Frame});var prop_types=__webpack_require__("../node_modules/.pnpm/prop-types@15.8.1/node_modules/prop-types/index.js"),prop_types_default=__webpack_require__.n(prop_types),styled_components_browser_esm=__webpack_require__("../node_modules/.pnpm/styled-components@6.1.13_react-dom@18.3.1_react@18.3.1/node_modules/styled-components/dist/styled-components.browser.esm.js"),constants=__webpack_require__("../node_modules/.pnpm/@brightsites+flow-core@0.11.8-2.3_@babel+core@7.25.8_@types+react-dom@18.3.1_@types+react@18._dtrebnckutlhmqlcqr5irxysze/node_modules/@brightsites/flow-core/lib/constants.js"),RequestProvider=__webpack_require__("./stories/__mocks__/@brightsites/flow-core/lib/providers/RequestProvider.js"),Symbols=__webpack_require__("../ui/dist/Symbols.js"),constants_cookies=__webpack_require__("./app/constants/cookies.ts"),articleTypeNames=__webpack_require__("./app/constants/articleTypeNames.js"),cookieLocale=__webpack_require__("./app/constants/cookieLocale.js"),devices=__webpack_require__("./app/constants/devices.js"),ids=__webpack_require__("./app/constants/ids.js"),publication=__webpack_require__("./app/constants/publication.js"),constants_server=__webpack_require__("./app/constants/server.js"),services_article=__webpack_require__("./app/services/article.js"),featureFlag=__webpack_require__("./app/services/featureFlag.js"),sectionPaths=__webpack_require__("./app/constants/sectionPaths.js");const isNewsSectionServerSide=req=>req.path.includes(sectionPaths._G);var CommonMeta=__webpack_require__("./app/component/library/Head/CommonMeta.js"),IndyHydrateIsland=__webpack_require__("./app/component/library/Hydration/IndyHydrateIsland.js");const InstallServiceworker=()=>null;var MPU=__webpack_require__("./app/component/library/Ads/MPU.js"),AmpAuth=__webpack_require__("./app/component/library/AmpAuth.js"),Helmet=__webpack_require__("../node_modules/.pnpm/react-helmet@6.1.0_react@18.3.1/node_modules/react-helmet/es/Helmet.js"),defineProperty=__webpack_require__("../node_modules/.pnpm/@babel+runtime@7.25.7/node_modules/@babel/runtime/helpers/esm/defineProperty.js"),manifest=__webpack_require__("./app/_build/manifest.json");const util_determineUserSubscriptionStatus=(cookies={})=>"true"===cookies[constants_cookies.iR]?"premium":"true"===cookies[constants_cookies.eY]?"registered":"anonymous";var dayjs_min=__webpack_require__("../node_modules/.pnpm/dayjs@1.11.10/node_modules/dayjs/dayjs.min.js"),dayjs_min_default=__webpack_require__.n(dayjs_min),advancedFormat=__webpack_require__("../node_modules/.pnpm/dayjs@1.11.10/node_modules/dayjs/plugin/advancedFormat.js"),advancedFormat_default=__webpack_require__.n(advancedFormat),utc=__webpack_require__("../node_modules/.pnpm/dayjs@1.11.10/node_modules/dayjs/plugin/utc.js"),utc_default=__webpack_require__.n(utc);var constants_subscriberOrigin=__webpack_require__("./app/constants/subscriberOrigin.js");const relatedArticlesMap={"manual-1":"A5","audience-1":"A7","manual-2":"A8","audience-2":"B1","manual-3":"B2","auto-3":"B3","audience-3":"B4"},getCommonComponentsListFromArticle=(article,domain="",isSubscriber,subscriberOrigin=constants_subscriberOrigin.FB)=>{var _article$sections,_article$body,_article$body2,_article$liveblog;const list=[];null!==(_article$sections=article.sections)&&void 0!==_article$sections&&null!==(_article$sections=_article$sections[0])&&void 0!==_article$sections&&_article$sections.name&&list.push("A2");if((null===(_article$body=article.body)||void 0===_article$body?void 0:_article$body.find((({type})=>"related"===type)))&&!(0,services_article.jh)(article,articleTypeNames.Wl)){const isEspanol=domain===publication.mv;let count=1;for(let item in article.body){var _article$body$item$da;const hasAutoLink=null===(_article$body$item$da=article.body[item].data)||void 0===_article$body$item$da?void 0:_article$body$item$da.autolink;if("related"===article.body[item].type){var _article$body$item$da2;const relatedComponentType=hasAutoLink?`auto-${count}`:null!==(_article$body$item$da2=article.body[item].data)&&void 0!==_article$body$item$da2&&_article$body$item$da2.topicLink?`audience-${count}`:`manual-${count}`;!hasAutoLink||isSubscriber||isEspanol?(relatedArticlesMap["auto-1"]="A6",relatedArticlesMap["auto-2"]="A9"):(relatedArticlesMap["auto-1"]="D1",relatedArticlesMap["auto-2"]="D2"),list.push(relatedArticlesMap[relatedComponentType]),count++}}}if(null===(_article$body2=article.body)||void 0===_article$body2?void 0:_article$body2.find((({type})=>"listbulleted"===type))){const bulletedListType=article.isLiveBlog?"B7":"A4";list.push(bulletedListType)}if(!0!==article.commenting||(0,services_article.jh)(article,articleTypeNames.Wl)||list.push("A3"),article.body){const topicLinks=article.body?(0,services_article.vI)(article.body):0,nonTopicLinks=article.body?(0,services_article.Mo)(article.body,domain):0;topicLinks&&list.push("B5"),nonTopicLinks&&list.push("B6")}article.liveblog&&list.push("6");if((null===(_article$liveblog=article.liveblog)||void 0===_article$liveblog||null===(_article$liveblog=_article$liveblog.posts)||void 0===_article$liveblog?void 0:_article$liveblog.some((({postJson})=>postJson.some((({type})=>"article-link"===type)))))&&list.push("7"),(0,services_article.jh)(article,articleTypeNames.Wl)&&list.push("B8"),(0,services_article.jh)(article,articleTypeNames.gc)){const{productsForCarousel,hasProductComparison}=article||{};hasProductComparison?list.push("C2"):null!=productsForCarousel&&productsForCarousel.length&&list.push("C1")}return article.premium||(subscriberOrigin===constants_subscriberOrigin.Ts?list.push("F2"):list.push("F1")),list},getDesktopComponentsListFromArticle=(article,isSubscriber)=>{var _article$sidebar;if((0,services_article.jh)(article,articleTypeNames.HN)||(0,services_article.jh)(article,articleTypeNames.KD)||(0,services_article.jh)(article,articleTypeNames.Wl)||(0,services_article.jh)(article,articleTypeNames.Rc)||article.premium||isSubscriber)return[];const list=[];return null===(_article$sidebar=article.sidebar)||void 0===_article$sidebar||_article$sidebar.layoutSettings.forEach((comp=>{"indy100 Most Popular"===comp.feedSource&&list.push("1"),"MostPopular"===comp.type&&list.push("2"),"PopularVideos"===comp.type&&list.push("3"),"SponsoredFeatures"===comp.type&&list.push("9")})),list},getMobileComponentsListFromArticle=article=>{var _article$sections2;const list=[];return null!==(_article$sections2=article.sections)&&void 0!==_article$sections2&&null!==(_article$sections2=_article$sections2[0])&&void 0!==_article$sections2&&_article$sections2.name&&list.push("A1"),list},getCommonComponentsListFromSection=section=>{var _section$section,_section$components,_section$components2;const list=[];null!==(_section$section=section.section)&&void 0!==_section$section&&_section$section.name&&list.push("A2"),null===(_section$components=section.components)||void 0===_section$components||_section$components.forEach((component=>{"MostCommented"===component.name&&list.push("8")}));return(null==section||null===(_section$components2=section.components)||void 0===_section$components2?void 0:_section$components2.filter((({type})=>"Voucher"===type)).length)>0&&list.push("B9"),list},getMobileComponentsListFromSection=section=>{var _section$section2;const list=[];return null!==(_section$section2=section.section)&&void 0!==_section$section2&&_section$section2.name&&list.push("A1"),list};var getSubscriberOrigin=__webpack_require__("./app/util/getSubscriberOrigin.js");function ownKeys(e,r){var t=Object.keys(e);if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(e);r&&(o=o.filter((function(r){return Object.getOwnPropertyDescriptor(e,r).enumerable}))),t.push.apply(t,o)}return t}function _objectSpread(e){for(var r=1;r<arguments.length;r++){var t=null!=arguments[r]?arguments[r]:{};r%2?ownKeys(Object(t),!0).forEach((function(r){(0,defineProperty.A)(e,r,t[r])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(t)):ownKeys(Object(t)).forEach((function(r){Object.defineProperty(e,r,Object.getOwnPropertyDescriptor(t,r))}))}return e}dayjs_min_default().extend(utc_default()),dayjs_min_default().extend(advancedFormat_default());const getDateTime=timestamp=>{const dateTime=dayjs_min_default().unix(timestamp).utc().locale("en");return{time:dateTime.format("hh:mm:ss"),date:dateTime.format("dddd, D MMMM YYYY")}},getAffiliateLinksCount=article=>{var _article$extra;const body=article.body||[],verdict=(null===(_article$extra=article.extra)||void 0===_article$extra?void 0:_article$extra.verdict)||[];if(!article.containsAffiliateLinks)return 0;return([...body,...verdict].reduce(((acc,{data})=>data?acc+data.markup:acc),"").match(/data-affiliate="true"/gi)||[]).length},getDataFromArticle=(article,domain,isSubscriber,subscriberOrigin)=>{var _article$extra2,_article$extra3,_article$articleTypes,_article$contentSourc,_article$authors,_article$topics,_article$tags,_article$extra4;const{path,publish}=article,{date,time}=getDateTime(publish),channels=(null==path?void 0:path.slice(1).split("/").slice(0,-1))||[],commercialCampaign=null===(_article$extra2=article.extra)||void 0===_article$extra2?void 0:_article$extra2.commercialCampaign,hasSponsorBadge=article.sponsorPrefix||!0===(null===(_article$extra3=article.extra)||void 0===_article$extra3?void 0:_article$extra3.isShowSponsoredCapsule);let articleCategory=null===(_article$articleTypes=article.articleTypes)||void 0===_article$articleTypes||null===(_article$articleTypes=_article$articleTypes[0])||void 0===_article$articleTypes?void 0:_article$articleTypes.name;const contentSource=(null===(_article$contentSourc=article.contentSource)||void 0===_article$contentSourc?void 0:_article$contentSourc.map((x=>x.name)).join(","))||"",pageType=(article=>"liveblog"===(null==article?void 0:article.type)?"Live Blog Article":(0,services_article.jh)(article,articleTypeNames.Wl)?"Video Article":"Article")(article),articleId=(null==article?void 0:article.remoteId)||(null==article?void 0:article.id),pageName=`${null==path?void 0:path.slice(1).split("/").slice(0,-1).join("/")}/${pageType.toLowerCase()+articleId}`||"",topicLinks=article.body?(0,services_article.vI)(article.body):0,nonTopicLinks=article.body?(0,services_article.Mo)(article.body,domain):0;"Commercial"!==articleCategory&&hasSponsorBadge&&(articleCategory=`${articleCategory} - commercial`);const data=_objectSpread(_objectSpread(_objectSpread({page_name:pageName,page_type:pageType,site_sections:(null==channels?void 0:channels.join(":"))||"",article_premium_status:null!=article&&article.premium?"premium":"free",article_id:articleId,article_id_root:null==article?void 0:article.id,article_title:null==article?void 0:article.title,article_author:null==article||null===(_article$authors=article.authors)||void 0===_article$authors?void 0:_article$authors.map((x=>x.name)).join(","),article_category:articleCategory,article_publication_time:time,pixel_id:null==article?void 0:article.id,published_date:date,first_published_date:date,homepage_section:"",article_page_filename:(null==path?void 0:path.split("/").slice(-1)[0])||"",lead_media_item:(0,services_article.H4)(article.hero),article_topic_tags:(null==article||null===(_article$topics=article.topics)||void 0===_article$topics?void 0:_article$topics.map((x=>x.name)).join(","))||(null==article||null===(_article$tags=article.tags)||void 0===_article$tags?void 0:_article$tags.map((x=>x.name)).join(","))||"",word_count:null==article?void 0:article.wordCount,content_source:contentSource,components_list:getCommonComponentsListFromArticle(article,domain,isSubscriber,subscriberOrigin).join(","),desktop_components_list:getDesktopComponentsListFromArticle(article,isSubscriber).join(","),mobile_components_list:getMobileComponentsListFromArticle(article).join(","),internal_links_count:article.body?(0,services_article.lB)(article.body,domain):0,internal_topic_links_count:topicLinks,internal_non_topic_links_count:nonTopicLinks,article_swap:(null===(_article$extra4=article.extra)||void 0===_article$extra4?void 0:_article$extra4.autoVideo)||(0,services_article.H4)(article.hero),commercial_campaign:commercialCampaign},getAffiliateLinksCount(article)>0?{affiliate_links_count:getAffiliateLinksCount(article)}:{}),(0,services_article.jh)(article,articleTypeNames.Wl)?{video_title:null==article?void 0:article.title}:{}),(article=>{const{productCarouselFailure}=article||{};if((0,services_article.jh)(article,articleTypeNames.gc))return{product_carousel_failure:productCarouselFailure}})(article)||{});return data},getDataByType=({object,type,isSubscriber,configuration,subscriberOrigin})=>{const{domain}=configuration;return((type,object)=>"article"===type)(type)?getDataFromArticle(object,domain,isSubscriber,subscriberOrigin):((type,object)=>"section"===type)(type)?(section=>{const{path,extra}=section.section,channels=(null==path?void 0:path.slice(1).split("/"))||[],pageType="/"===path?"frontpage":path.startsWith("/topic/")?"Topic":path.startsWith("/author/")?"Author":"Channel frontpage",sectionType=!0===(null==extra?void 0:extra.isCommercial)?"Commercial":"News",commercialCampaign=null==extra?void 0:extra.commercialCampaign;return{page_type:pageType,site_sections:(null==channels?void 0:channels.join(":"))||"",is_topic_page:"Topic"===pageType,components_list:getCommonComponentsListFromSection(section).join(","),mobile_components_list:getMobileComponentsListFromSection(section).join(","),section_type:sectionType,commercial_campaign:commercialCampaign}})(object):((type,object)=>"story"===type)(type)?(story=>{const{publish}=story,{date,time}=getDateTime(publish);return{page_type:"AMP Story",article_id:story.id,article_publication_time:time,published_date:date,first_published_date:date}})(object):{}};function adobe_ownKeys(e,r){var t=Object.keys(e);if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(e);r&&(o=o.filter((function(r){return Object.getOwnPropertyDescriptor(e,r).enumerable}))),t.push.apply(t,o)}return t}const determineUserLoginStatus=({cookies}={})=>"true"===cookies[constants_cookies.eY]?"logged in":"not logged in",getWebData=(req,res)=>{var _manifest$mainJs;const originalPath=req.originalUrl.split("?")[0],path=req.query.path||originalPath,cookies=req.cookies,{configuration}=res.locals,{domain,baseUrl}=configuration,data=((req,res,isSubscriber)=>{const{object,type}=(res=>res.locals.article?{object:res.locals.article,type:"article"}:res.locals.section?{object:res.locals.section,type:"section"}:res.locals.story?{object:res.locals.story,type:"story"}:{object:null,type:null})(res),subscriberOrigin=(0,getSubscriberOrigin.A)(req);return getDataByType({object,type,isSubscriber,configuration:res.locals.configuration,subscriberOrigin})})(req,res,null==cookies?void 0:cookies.subscriber);return function adobe_objectSpread(e){for(var r=1;r<arguments.length;r++){var t=null!=arguments[r]?arguments[r]:{};r%2?adobe_ownKeys(Object(t),!0).forEach((function(r){(0,defineProperty.A)(e,r,t[r])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(t)):adobe_ownKeys(Object(t)).forEach((function(r){Object.defineProperty(e,r,Object.getOwnPropertyDescriptor(t,r))}))}return e}({page_url:`${baseUrl}${path}`,actual_url:`${baseUrl}${path}`,page_domain:domain,page_path:path,user_status:util_determineUserSubscriptionStatus(null==req?void 0:req.cookies),logged_in_status:determineUserLoginStatus(req),main_js_version:null===(_manifest$mainJs=manifest["main.js"])||void 0===_manifest$mainJs?void 0:_manifest$mainJs.split("/")[2]},data)};var jsx_runtime=__webpack_require__("../node_modules/.pnpm/react@18.3.1/node_modules/react/jsx-runtime.js");const AdobeAnalytics=({req,res})=>{const webData=getWebData(req,res);return(0,jsx_runtime.jsx)(Helmet.Helmet,{children:(0,jsx_runtime.jsx)("script",{id:ids.aM,type:"application/json",children:JSON.stringify(webData)})})};AdobeAnalytics.propTypes={res:prop_types_default().object.isRequired,req:prop_types_default().object.isRequired};const Adobe=(0,RequestProvider.ah)(AdobeAnalytics),ComscoreAnalytics=({res:{locals:{configuration}}})=>{var _configuration$comsco;return(null==configuration||null===(_configuration$comsco=configuration.comscore)||void 0===_configuration$comsco?void 0:_configuration$comsco.clientId)&&(0,jsx_runtime.jsx)("script",{"data-testid":"comscore-analytics","data-comscore-client-id":configuration.comscore.clientId,src:"/js/comscore.raw.js"})};ComscoreAnalytics.propTypes={config:prop_types_default().object,res:prop_types_default().object.isRequired};const Comscore=(0,RequestProvider.ah)(ComscoreAnalytics);var Badge=__webpack_require__("./app/component/library/Debug/Badge.tsx"),Footer=__webpack_require__("./app/component/library/Footer.js"),FrameInner=__webpack_require__("./app/component/library/FrameInner.js");const queryParams=(containerId,auth=null,env=null)=>auth?new URLSearchParams({id:containerId,gtm_auth:auth,gtm_preview:env,gtm_cookies_win:"x"}).toString():new URLSearchParams({id:containerId}).toString(),Frame=styled_components_browser_esm.styled.iframe.withConfig({componentId:"sc-lt6hli-0"})(["display:none;visibility:hidden;"]),GTM=({res:{locals:{configuration}}})=>{var _configuration$gtm,_configuration$gtm2,_configuration$gtm3;const gtmContainerId=null==configuration||null===(_configuration$gtm=configuration.gtm)||void 0===_configuration$gtm?void 0:_configuration$gtm.containerId,auth=null==configuration||null===(_configuration$gtm2=configuration.gtm)||void 0===_configuration$gtm2?void 0:_configuration$gtm2.auth,env=null==configuration||null===(_configuration$gtm3=configuration.gtm)||void 0===_configuration$gtm3?void 0:_configuration$gtm3.env;return gtmContainerId?(0,jsx_runtime.jsx)("noscript",{children:(0,jsx_runtime.jsx)(Frame,{src:`https://www.googletagmanager.com/ns.html?${queryParams(gtmContainerId,auth,env)}`,height:0,width:0})}):null};GTM.propTypes={res:prop_types_default().object.isRequired};const library_GTM=(0,RequestProvider.ah)(GTM);var Header=__webpack_require__("./app/component/library/Header.js"),subscription=__webpack_require__("./app/constants/subscription.js");const AD_FREE_SUBS=[subscription.fJ,subscription.sR],DONATION_SUBS=[subscription.jl,subscription.aZ],PREMIUM_SUBS=[subscription.n6],getEnabledSubTypesForOrigin=(req,res)=>{const allEnabledSubs=((req,res)=>{const subscriberOrigin=(0,getSubscriberOrigin.A)(req,res);switch(res.locals.configuration.domain===publication.mv?"es":subscriberOrigin){case constants_subscriberOrigin.FB:return[...PREMIUM_SUBS,...AD_FREE_SUBS,...DONATION_SUBS];case constants_subscriberOrigin.vV:return[...PREMIUM_SUBS,...AD_FREE_SUBS];case constants_subscriberOrigin.Ts:return[...DONATION_SUBS];default:return[]}})(req,res),hasType=subsOfType=>allEnabledSubs.some((sub=>subsOfType.includes(sub)));return{premium:hasType(PREMIUM_SUBS),adFree:hasType(AD_FREE_SUBS),donations:hasType(DONATION_SUBS)}};var LoginDrawer=__webpack_require__("./app/component/library/Header/LoginDrawer.js"),LoginDrawerAmp=__webpack_require__("./app/component/library/Header/LoginDrawerAmp.js");const LoginDrawerWrapper=({req,res,redirectUrl})=>{const isNoAmpFFEnabled=(0,featureFlag.G7)(req,res,constants_cookies.R7),enabledSubs=getEnabledSubTypesForOrigin(req,res);return isNoAmpFFEnabled?(0,jsx_runtime.jsx)(IndyHydrateIsland.A,{children:(0,jsx_runtime.jsx)(LoginDrawer.A,{originalUrl:null!=redirectUrl?redirectUrl:req.originalUrl,enabledSubs})}):(0,jsx_runtime.jsx)(LoginDrawerAmp.A,{enabledSubs})};LoginDrawerWrapper.propTypes={req:prop_types_default().object.isRequired,res:prop_types_default().object.isRequired,redirectUrl:prop_types_default().string};const Header_LoginDrawerWrapper=(0,RequestProvider.ah)(LoginDrawerWrapper);var es=__webpack_require__("../node_modules/.pnpm/react-i18next@15.0.2_i18next@23.0.0_react-dom@18.3.1_react@18.3.1/node_modules/react-i18next/dist/es/index.js"),determineSupportNowOrDonateCopy=__webpack_require__("./app/util/determineSupportNowOrDonateCopy.ts"),isUserActiveDonatorOnServer=__webpack_require__("./app/util/isUserActiveDonatorOnServer.js"),Icon=__webpack_require__("../ui/dist/Icon.js"),classNames=__webpack_require__("./app/constants/classNames.js"),PageState=__webpack_require__("./app/context/PageState.js"),Overlay=__webpack_require__("./app/component/library/Common/Overlay/index.js"),EditionSwitcher=__webpack_require__("./app/component/library/EditionSwitcher/EditionSwitcher.tsx"),RegisterLoginButton=__webpack_require__("./app/component/library/Header/RegisterLoginButton.js"),CloseButton=__webpack_require__("./app/component/library/Menu/DrawerMenu/CloseButton.js"),react=__webpack_require__("../node_modules/.pnpm/react@18.3.1/node_modules/react/index.js"),Styles=__webpack_require__("./app/config/theme/Styles.js"),activeTriggers=__webpack_require__("./app/constants/activeTriggers.js"),drawerMenu=__webpack_require__("./app/constants/drawerMenu.js"),getActiveStatus=__webpack_require__("./app/util/getActiveStatus.js");const getDescStringNoLang=(childLinks,andMore)=>`${childLinks[0].title}${childLinks[1]?`, ${childLinks[1].title}`:""} ${andMore}`;var Accordion=__webpack_require__("./app/component/library/Common/Accordion/index.js"),ExpandedNavList=__webpack_require__("./app/component/library/Menu/DrawerMenu/ExpandedNavList.js"),NavTrigger=__webpack_require__("./app/component/library/Menu/DrawerMenu/NavTrigger.js"),StampSVG=__webpack_require__("./app/component/library/Menu/DrawerMenu/StampSVG.js"),logoStampNoBackground=__webpack_require__("./app/component/icons/logoStampNoBackground.svg");const LogoIcon=(0,Icon.Sy)(logoStampNoBackground.A),StampSVGClimate=(0,styled_components_browser_esm.styled)(LogoIcon).withConfig({componentId:"sc-13x0l9y-0"})(["width:18px;height:18px;margin-right:","px;border-radius:9px;background:var(--climate-gradient);float:left;"],(({theme})=>theme.spacing.x0_5));function NavListWrapper_ownKeys(e,r){var t=Object.keys(e);if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(e);r&&(o=o.filter((function(r){return Object.getOwnPropertyDescriptor(e,r).enumerable}))),t.push.apply(t,o)}return t}function NavListWrapper_objectSpread(e){for(var r=1;r<arguments.length;r++){var t=null!=arguments[r]?arguments[r]:{};r%2?NavListWrapper_ownKeys(Object(t),!0).forEach((function(r){(0,defineProperty.A)(e,r,t[r])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(t)):NavListWrapper_ownKeys(Object(t)).forEach((function(r){Object.defineProperty(e,r,Object.getOwnPropertyDescriptor(t,r))}))}return e}const HiddenTriggerArrowIcon=(0,styled_components_browser_esm.styled)(NavTrigger.HK).withConfig({componentId:"sc-1kdrnth-0"})(["display:none;"]),StyledTriggerArrow=(0,styled_components_browser_esm.styled)(NavTrigger.i3).withConfig({componentId:"sc-1kdrnth-1"})(["margin-right:","px;[aria-expanded='true'] &{transform:rotate(180deg);}"],(({theme})=>theme.spacing.x1_5)),Wrapper=styled_components_browser_esm.styled.nav.withConfig({componentId:"sc-1kdrnth-2"})(["position:relative;width:100%;background:",";clear:both;.","{border-bottom:1px solid ",";}"],(({theme})=>theme.color.canvas.secondary),classNames.P5,(({theme})=>theme.color.divider.light)),WrapperNoIndy100=(0,styled_components_browser_esm.styled)(Wrapper).withConfig({componentId:"sc-1kdrnth-3"})(["padding-bottom:200px;"]),NavListWrapper=({andMore="& more",domain,menu=[],originalUrl})=>{const[menuLocal,setMenuLocal]=(0,react.useState)([]);(0,react.useEffect)((()=>{setMenuLocal(JSON.parse(JSON.stringify(menu)))}),[menu,setMenuLocal]);const StyledWrapper=domain===publication.mv?WrapperNoIndy100:Wrapper,getActiveTrigger=item=>{const activeStatus=(0,getActiveStatus.zm)(item,originalUrl,drawerMenu.r,menu);return[activeTriggers.vu,activeTriggers.ue,activeTriggers.M2].includes(activeStatus)?drawerMenu.f:""},getStamp=(itemPath,type)=>{const relativeItemPath=(0,getActiveStatus.BM)(itemPath);return relativeItemPath===drawerMenu.r.best&&"small"===type||(relativeItemPath===drawerMenu.r.climate&&"climate"===type||(relativeItemPath===drawerMenu.r.premium&&"premium"===type||(relativeItemPath===drawerMenu.r.tv&&"small"===type||relativeItemPath===drawerMenu.r.tvEspanol&&"small"===type)))},otherIndex=menu.findIndex((item=>(0,getActiveStatus.BM)(item.path)===drawerMenu.r.other)),expandedSection=otherIndex>-1?menu[otherIndex]:{};otherIndex>-1&&menuLocal.splice(otherIndex,1);const mainMenu=menuLocal.map((item=>{var _item$children;const hasChildren=null===(_item$children=item.children)||void 0===_item$children?void 0:_item$children.length;return NavListWrapper_objectSpread(NavListWrapper_objectSpread({},item),{},{active:getActiveTrigger(item),desc:hasChildren?getDescStringNoLang(item.children,andMore):null,stampSmall:getStamp(item.path,"small"),stampClimate:getStamp(item.path,"climate"),stampPremium:getStamp(item.path,"premium"),styledArrow:hasChildren?"":"drawer-nav-arrow__side",styledLink:hasChildren?"":"drawer-nav-link__standalone"})})),isPremiumListItem=mainMenu.find((item=>(0,getActiveStatus.zm)(item,originalUrl,drawerMenu.r,menu)===activeTriggers.M2)),isClimateListItem=mainMenu.find((item=>(0,getActiveStatus.zm)(item,originalUrl,drawerMenu.r,menu)===activeTriggers.ue)),theme=isPremiumListItem?Styles.lF:isClimateListItem?Styles.$1:Styles.$7,menuSections=mainMenu.map((item=>({trigger:(0,jsx_runtime.jsx)(styled_components_browser_esm.ThemeProvider,{theme,children:(0,jsx_runtime.jsxs)(NavTrigger.l9,{className:item.active,children:[(0,jsx_runtime.jsxs)(NavTrigger.N_,{href:item.path,className:item.styledLink,children:[(0,jsx_runtime.jsxs)(NavTrigger.hE,{className:classNames.df,children:[item.stampSmall&&(0,jsx_runtime.jsx)(styled_components_browser_esm.ThemeProvider,{theme:Styles.$7,children:(0,jsx_runtime.jsx)(StampSVG.A,{})}),item.stampClimate&&(0,jsx_runtime.jsx)(styled_components_browser_esm.ThemeProvider,{theme:Styles.$1,children:(0,jsx_runtime.jsx)(StampSVGClimate,{})}),item.stampPremium&&(0,jsx_runtime.jsx)(styled_components_browser_esm.ThemeProvider,{theme:Styles.lF,children:(0,jsx_runtime.jsx)(StampSVG.A,{})}),item.title]}),item.desc&&(0,jsx_runtime.jsx)(NavTrigger.u6,{children:item.desc})]}),(0,jsx_runtime.jsx)(StyledTriggerArrow,{className:item.styledArrow,children:(0,jsx_runtime.jsx)(NavTrigger.HK,{})})]})}),content:(0,jsx_runtime.jsx)(ExpandedNavList.B8,{children:item.children&&item.children.map(((child,i)=>(0,jsx_runtime.jsx)(ExpandedNavList.ck,{children:(0,jsx_runtime.jsxs)(ExpandedNavList.N_,{href:child.path,children:[child.title,(0,jsx_runtime.jsx)(ExpandedNavList.HK,{})]})},`drawer-menu-item=${i}`)))})})));return(0,jsx_runtime.jsxs)(StyledWrapper,{className:classNames.Ls,children:[(0,jsx_runtime.jsx)(HiddenTriggerArrowIcon,{}),(0,jsx_runtime.jsx)(Accordion.A,{name:"drawer-menu",sections:menuSections}),(null==expandedSection?void 0:expandedSection.children)&&(0,jsx_runtime.jsx)(ExpandedNavList.Ay,{menu:expandedSection.children})]})};NavListWrapper.propTypes={andMore:prop_types_default().string,domain:prop_types_default().string.isRequired,menu:prop_types_default().array,originalUrl:prop_types_default().string.isRequired};const DrawerMenu_NavListWrapper=NavListWrapper;var Search=__webpack_require__("./app/component/library/Menu/DrawerMenu/Search.js"),SupportDrawerContent=__webpack_require__("./app/component/library/Menu/DrawerMenu/SupportDrawerContent/index.js"),TempLinks=__webpack_require__("./app/component/library/Menu/DrawerMenu/TempLinks.js"),_16_close=__webpack_require__("./app/component/icons/16/close.svg"),launch=__webpack_require__("./app/component/icons/24/launch.svg"),indy100Logo=__webpack_require__("./app/component/icons/indy100Logo.svg"),indy100Wordmark=__webpack_require__("./app/component/icons/indy100Wordmark.svg");const DrawerMenu_Icon=Icon.Ay.default||Icon.Ay,StyledIndy100Logo=(0,styled_components_browser_esm.styled)(indy100Logo.A).withConfig({componentId:"sc-vkhnlm-0"})([""]),StyledIndy100Wordmark=(0,styled_components_browser_esm.styled)(indy100Wordmark.A).withConfig({componentId:"sc-vkhnlm-1"})([""]),CloseIcon=(0,styled_components_browser_esm.styled)(DrawerMenu_Icon).attrs({svg:_16_close.A,size:"small"}).withConfig({componentId:"sc-vkhnlm-2"})([""]),Link=styled_components_browser_esm.styled.a.withConfig({componentId:"sc-vkhnlm-3"})(["--bg:",";--color:",";display:flex;width:100vw;max-width:",";box-sizing:border-box;align-items:center;gap:20px;padding:18px;border-top:1px solid ",";border-bottom:1px solid ",";background-color:var(--bg);color:var(--color);",",","{overflow:visible;width:110px;}path,rect{fill:var(--color);}&:hover,&:focus,&:active{--bg:",";--color:",";color:var(--color);}@media ","{width:",";}"],(({theme})=>theme.color.canvas.base),(({theme})=>theme.color.ink.base),(({theme})=>theme.dimension.drawer.width),(({theme})=>theme.color.divider.light),(({theme})=>theme.color.divider.light),StyledIndy100Logo,StyledIndy100Wordmark,(({theme})=>theme.color.actionTransparent.alt),(({theme})=>theme.color.ink.inverted),devices.kF,(({theme})=>theme.dimension.drawer.width)),LinkWrapper=styled_components_browser_esm.styled.div.withConfig({componentId:"sc-vkhnlm-4"})(["padding-bottom:200px;"]),NewTabIcon=(0,styled_components_browser_esm.styled)(DrawerMenu_Icon).attrs({svg:launch.A}).withConfig({componentId:"sc-vkhnlm-5"})(["margin-left:auto;"]),StyledEditionSwitcher=(0,styled_components_browser_esm.styled)(EditionSwitcher.A).withConfig({componentId:"sc-vkhnlm-6"})(["margin-top:-49px;@media ","{margin-top:-56px;}"],devices.n5),DrawerMenu_Wrapper=styled_components_browser_esm.styled.div.withConfig({componentId:"sc-vkhnlm-7"})(["width:",";min-height:100vh;background:",";font:",";"],(({theme})=>theme.dimension.drawer.width),(({theme})=>theme.color.canvas.secondary),(({theme})=>theme.textStyle.drawerMenu.base)),DrawerMenu=({andMoreText,changeText,closeText,domain,isLoggedIn,isSubscriber,locale,menuData,originalUrl,serverEnv,tempLinks,replaceSubscribeWithSupport,supportButtonCopy,addSupportContentToDrawer,isUSSubscriberOrigin,isActiveRecurringDonator})=>{const isEspanol=domain===publication.mv,structuredMenuData=(menuData=>null==menuData?void 0:menuData.map((([title,path,children,active])=>({title,path,active:!!active,children:null==children?void 0:children.map((([title,childPath])=>({title,path:childPath.startsWith("https:")||childPath.startsWith("/")?childPath:`${path}/${childPath}`})))}))))(menuData);return(0,jsx_runtime.jsx)(PageState.A.Consumer,{children:({defaultState:{drawerMenuOpen},dispatchers:{closeDrawerMenu}})=>(0,jsx_runtime.jsx)(Overlay._,{className:"drawer-menu",isHidden:!drawerMenuOpen,returnFocus:`#${ids.BI}`,onBackgroundClick:closeDrawerMenu,children:(0,jsx_runtime.jsxs)(DrawerMenu_Wrapper,{id:ids.OX,children:[(0,jsx_runtime.jsxs)(CloseButton.J,{onClick:closeDrawerMenu,id:ids.Bw,children:[(0,jsx_runtime.jsx)(CloseIcon,{}),closeText]}),(0,jsx_runtime.jsx)(StyledEditionSwitcher,{className:classNames.Cb,changeText,domain,isHeader:!1,locale,serverEnv,id:"drawer-edition-switcher"}),!isEspanol&&(0,jsx_runtime.jsx)(RegisterLoginButton.Ay,{isLoggedIn,isSubscriber,replaceSubscribeWithSupport,isUSSubscriberOrigin,isActiveRecurringDonator,supportButtonCopy}),addSupportContentToDrawer&&isUSSubscriberOrigin&&(0,jsx_runtime.jsx)(SupportDrawerContent.A,{}),(0,jsx_runtime.jsx)(Search.A,{}),(null==tempLinks?void 0:tempLinks.length)>0&&(0,jsx_runtime.jsx)(TempLinks.A,{menu:tempLinks}),(null==structuredMenuData?void 0:structuredMenuData.length)>0&&(0,jsx_runtime.jsx)(DrawerMenu_NavListWrapper,{andMore:andMoreText,domain,menu:structuredMenuData,originalUrl}),!isEspanol&&(0,jsx_runtime.jsx)(LinkWrapper,{children:(0,jsx_runtime.jsxs)(Link,{href:"https://www.indy100.com",children:[(0,jsx_runtime.jsx)(StyledIndy100Logo,{}),(0,jsx_runtime.jsx)(StyledIndy100Wordmark,{}),(0,jsx_runtime.jsx)(NewTabIcon,{})]})})]})})})};DrawerMenu.propTypes={andMoreText:prop_types_default().string.isRequired,changeText:prop_types_default().string.isRequired,closeText:prop_types_default().string.isRequired,domain:prop_types_default().string.isRequired,isLoggedIn:prop_types_default().string,isSubscriber:prop_types_default().string,locale:prop_types_default().string.isRequired,menuData:prop_types_default().array.isRequired,originalUrl:prop_types_default().string.isRequired,serverEnv:prop_types_default().string.isRequired,tempLinks:prop_types_default().array,replaceSubscribeWithSupport:prop_types_default().bool,addSupportContentToDrawer:prop_types_default().bool,isUSSubscriberOrigin:prop_types_default().bool,isActiveRecurringDonator:prop_types_default().bool,supportButtonCopy:prop_types_default().string};const DrawerMenu_DrawerMenu=DrawerMenu;var DrawerMenuAmp=__webpack_require__("./app/component/library/Menu/DrawerMenu/DrawerMenuAmp.js"),process=__webpack_require__("../node_modules/.pnpm/process@0.11.10/node_modules/process/browser.js");const DrawerMenuWithHydration=({configuration,req,req:{cookies,originalUrl},res,res:{locals}})=>{const isNoAmpFFEnabled=(0,featureFlag.G7)(req,res,constants_cookies.R7),replaceSubscribeWithSupport=(0,featureFlag.G7)(req,res,constants_cookies.lY),addSupportContentToDrawer=(0,featureFlag.G7)(req,res,constants_cookies.cw),isUSSubscriberOrigin=(0,getSubscriberOrigin.A)(req)===constants_subscriberOrigin.Ts,isActiveRecurringDonator=(0,isUserActiveDonatorOnServer.A)(req,res),{domain,locale}=configuration,{menu}=locals,{headerMenu,tempLinks}=menu,menuData=((navData,domain)=>null==navData?void 0:navData.map((({title,path,active,children})=>{const domainMatchStr=`//www.${domain}`,cleanPath=path.split(domainMatchStr).slice(-1)[0],relativePathRoot=`${cleanPath}/`,section=[title.trim(),cleanPath,null==children?void 0:children.map((({title,path:childPath})=>{const cleanChildPath=childPath.split(domainMatchStr).slice(-1)[0],relativeCleanChildPath=cleanChildPath.startsWith(relativePathRoot)?cleanChildPath.split(relativePathRoot).slice(-1)[0]:cleanChildPath;return[title.trim(),relativeCleanChildPath]}))];return active&&section.push(active),section})))(null==headerMenu?void 0:headerMenu.menu,domain),supportButtonCopy=(0,determineSupportNowOrDonateCopy.A)(req,res);return(0,jsx_runtime.jsx)(es.wD,{i18n:req.i18n,children:t=>isNoAmpFFEnabled?(0,jsx_runtime.jsx)(IndyHydrateIsland.A,{children:(0,jsx_runtime.jsx)(DrawerMenu_DrawerMenu,{andMoreText:t("andMore"),changeText:t("change"),closeText:t("close"),isLoggedIn:null==cookies?void 0:cookies[constants_cookies.eY],isSubscriber:null==cookies?void 0:cookies[constants_cookies.iR],tempLinks:null==tempLinks?void 0:tempLinks.menu,serverEnv:process.env.SERVER,replaceSubscribeWithSupport,supportButtonCopy,addSupportContentToDrawer,isUSSubscriberOrigin,isActiveRecurringDonator,originalUrl,domain,locale,menuData})}):(0,jsx_runtime.jsx)(DrawerMenuAmp.A,{req,res,serverEnv:process.env.SERVER,replaceSubscribeWithSupport,supportButtonCopy,addSupportContentToDrawer,isUSSubscriberOrigin,isActiveRecurringDonator})})};DrawerMenuWithHydration.propTypes={configuration:prop_types_default().object.isRequired,req:prop_types_default().object.isRequired,res:prop_types_default().object.isRequired};const DrawerMenu_DrawerMenuWithHydration=(0,RequestProvider.ah)(DrawerMenuWithHydration);var devices_331a8065=__webpack_require__("../ui/dist/devices-331a8065.js"),Icon_d4f7b391=__webpack_require__("../ui/dist/Icon-d4f7b391.js");__webpack_require__("../ui/dist/Icon.constants-aeed18dd.js"),__webpack_require__("../ui/dist/Symbols-7395c1ec.js"),__webpack_require__("../node_modules/.pnpm/react-side-effect@2.1.2_react@18.3.1/node_modules/react-side-effect/lib/index.js");function NotificationPrompt_ownKeys(e,r){var t=Object.keys(e);if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(e);r&&(o=o.filter((function(r){return Object.getOwnPropertyDescriptor(e,r).enumerable}))),t.push.apply(t,o)}return t}var c=Object.defineProperty,n=(l,t)=>c(l,"name",{value:t,configurable:!0});const r=n((l=>react.createElement("svg",function NotificationPrompt_objectSpread(e){for(var r=1;r<arguments.length;r++){var t=null!=arguments[r]?arguments[r]:{};r%2?NotificationPrompt_ownKeys(Object(t),!0).forEach((function(r){(0,defineProperty.A)(e,r,t[r])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(t)):NotificationPrompt_ownKeys(Object(t)).forEach((function(r){Object.defineProperty(e,r,Object.getOwnPropertyDescriptor(t,r))}))}return e}({xmlns:"http://www.w3.org/2000/svg",id:"d705ac78c0432424",fill:"none",viewBox:"0 0 80 80"},l),react.createElement("path",{fill:"#EC1A2E",d:"M40 0a40 40 0 1 0 0 80 40 40 0 0 0 0-80"}),react.createElement("path",{fill:"#fff",d:"M63.14 55.61c-.8-.44-.55-.3-4.36-2.55 0 0-2.9.55-6.68 1.37l.17.06.16.12.16.15q.12.16.2.35l.04.19.02.08v.08q0 .08-.02.15l-.02.1-.04.08h-.1l-.02-.08-.02-.1-.04-.1-.06-.12-.06-.13-.08-.13-.1-.13q-.04-.07-.1-.11l-.12-.1-.11-.09a1 1 0 0 0-.3-.18l-.8.18.07.02a1.4 1.4 0 0 1 .5.34 1 1 0 0 1 .2.35l.04.19v.3q0 .06-.03.11l-.04.08h-.08l-.04-.08-.02-.1-.04-.1-.06-.12-.06-.13-.08-.13-.1-.13q-.04-.07-.1-.11l-.11-.1q-.05-.06-.12-.09l-.1-.08-.11-.06-.08-.04-.06-.03-2.14-1.82.08-.55-.23-1.28.22-.54v-1.83l-2.34 2.1-.07-.07 6.87-8.08-.06-.15-2-.35v-.1h3.6c.37.47 1.17.6 1.75.44l.03-.08-.73-1.16.3-.2q.42-.29.83.3c.27.4.4.9.08 1.2l.06.08c.47-.06.9-.3 1.2-.67.4-.54.33-1.35-.17-1.94-.43-.49-1.2-1.25-1.2-1.25a2 2 0 0 0-1.28-2.08c-1.94-.78-3.42-1.34-3.42-1.34h-4.67l-.02-.1 4.65-.56 1.4-1.22 5.27-2.11a1.2 1.2 0 0 0 .73-.77c.69-1.88 2.8-7.5 2.8-7.5l6.5-8.8-.04-.08-4.28 3.05-.06-.06 1.82-3.63-.08-.05-2.8 4.02-.08-.03.32-4.02-.1-.02-1.01 4.08h-.1l-1.65-4.09-.1.03 1.22 4.88-.15 2.29h-.09l-.26-2-2.88-4.9-.08.04 2.31 5.18.18 3.82h-.1l-.5-3.56-3.77-4.79-.08.06 3.26 5 .21 5.25h-.09l-.66-4.96-4.2-4.38-.07.06 3.57 4.66.42 6.03h-.1l-.96-5.73-4.35-3.73-.07.07 3.77 4.07.64 6.3-.1.02-1.27-5.93-4.41-3-.06.07 3.78 3.34 1.02 6.23-.1.03-1.63-5.82-4.2-2.3-.05.08 3.6 2.63 1.17 6.04-.09.02-1.88-5.54-3.94-1.5-.04.1 3.3 1.88 1.38 5.51-.09.03-2.1-4.94-3.73-.68-.02.1 3.09 1.1 1.59 4.81-.08.04-2.39-4.1-3.14-.26-.01.1 2.46.8 1.85 3.9-.08.05-2.58-3.13-2.84.17v.1l2.25.42 2.06 3.03-.07.06-2.68-2.22-3.04.68.02.1h2.48l2.29 2.16-.05.08-2.77-1.3-3.17.5v.1l2.82.11 2.4 1.52-.03.09-2.64-.9-4.26.8v.1l4-.1 2.44 1.13-.03.08-2.55-.6-6.43 1.08v.1l5.04.38.01.09-4.04.72v.1l2.76.15v.1l-3.15.82h.01-.01l1.34 1.76-.08.08-3.06-2.6-7.93-11-7.2-3.69-5.72-5.15-1.74-4.73-.1.02.63 5.35 2.78 4.46-.08.06-4.04-3.35-1.92-3.71-.1.02.68 4.36 1.97 3.58-.07.05-3.21-2.61-1.66-2.5-.1.04.77 3.38 2.05 3.02-.06.06-3.19-1.83-1.4-1.78-.1.05.91 2.62 1.48 1.86-.05.06-1.47-.28-.04.1 3.13 2.94-.03.08-2.72-.16-.02.14 3.89 2.4-.02.1-1.8.14-.01.1 4.5 1.71v.09l-1.76.6.01.11 10.87.8v.08l-6.05.05-.12 1.24 7.59-.12v.1l-5.43.58-.25 1.48 7.39-1.02.02.09-5.76 1.32-.09 1.71 7.59-2.08.03.1-6.26 2.44.04 1.56 7.66-3.19.04.08-6.19 3.34.21 1.6 7.5-3.82.06.08-6.14 3.89.35 1.35 7.24-3.97.05.08-5.62 3.75.54 1.44 5.97-3.56.06.08-3.92 2.9.68 1.37 2.9-1.77.06.06-1.1.95.55 1.09.64-.24.92-.32.5-.19.24-.1q.12-.05.24-.13.23-.15.44-.32l.1-.08.09-.1.18-.2q.09-.08.16-.19l.14-.2.12-.2.1-.19a3 3 0 0 0 .22-.63l.05-.18.01-.07.1.02v.06l-.03.2q0 .12-.07.3l-.12.38-.09.2-.1.22-.14.23-.15.23-.17.21-.1.1-.1.1q-.22.22-.45.4l-.25.15-.26.15-1.4.61-8.36 3.13-5.47 8.57.32.22 6.1-7.08.08.05-3.63 5.34 2.23-.34 3.36-4.97.08.05-2.45 4.81 2.1-.13 2.27-4.65.1.04-1.55 4.56 2.13-.15 1.32-4.36.1.01-.74 4.28 2.17-.42.46-3.93h.1v3.74l1.61-.9-.24-2.83.1-.02.56 2.58.58.33.42 1.16.63.22 1.28 1.03.48.39v.02l-.04.06-.83-.37q-4.64 1.27-9.24 2.7h.02l3.12 1.8 1.53.88.71.4.17.1.08.04.04.02.03.01v.01l.02.02q.15.1.3.23.24.24.34.56a1.3 1.3 0 0 1-.05.82l-.04.1-.1-.04.03-.1a1.3 1.3 0 0 0-.02-.72 1 1 0 0 0-.32-.45 1 1 0 0 0-.27-.19l-.03-.01-.05-.02-.08-.03-.18-.08-.75-.32-1.62-.73-1.04-.45-2.4.76c-1.02.33-.96 1.7.01 2.05q2.17.84 4.37 1.6a3.8 3.8 0 0 0 3.2-.2l3.83-1.75a54 54 0 0 0 6.55-4.53l.06.07-2.98 2.84c2.02-.9 4-1.76 5.3-2.29a36 36 0 0 0 4.45-2.68l.06.07-2.05 1.85c2.32-.44 6.14-.8 8.2-.8 2.75 0 2.8-2.36 1.36-3.17m-6.95-16.3 1.11 1.05.17.24.04.08.07.17.04.17.01.19v.09l-.02.09-.06.18-.04.08-.04.07-.08-.05.03-.08.03-.07.04-.16v-.16a1 1 0 0 0-.16-.43l-.04-.07-.15-.17q-.6-.46-1.23-.9zm-2.2-.98a.5.5 0 0 1 .14-.3l.07-.05.1-.05.02-.02.12-.02h.02l.06.12-.01.02-.08.07-.01.03-.02.04-.03.04v.02l-.01.04v.15l.01.05v.02l.03.04.02.03.02.03q.03 0 .04.03h.02l.03.02.1.03q.06 0 .11-.02l.05-.01.02-.01.03-.03.04-.03.02-.02.02-.03v-.02q.03 0 .03-.03l.02-.04.02-.06v-.14l.1-.05.02.03q.04.04.06.1l.02.03.02.1v.08q0 .05-.02.08v.03l-.1.2-.19.17-.01.02-.03.01-.02.01-.06.02-.14.03h-.05l-.26-.06-.03-.01-.1-.07-.05-.05-.06-.05-.08-.13-.03-.08v-.02l-.01-.02v-.03l-.02-.12zm-.14 2.66.1-.2.07-.09.03-.02.02-.02h.01l.02-.02.2-.1q.16-.05.32-.02.06 0 .1.03l.08.03.06.05.07.05.05.05.04.05.01.04.04.08-.08.07-.07-.05-.03-.02-.04-.01-.1-.03-.07-.01h-.16l-.1.04-.11.05-.02.01-.03.03-.04.04-.07.1-.03.05-.01.06-.04.1v.15l.01.04.02.08-.06.04-.07-.06-.03-.04-.04-.05-.03-.05-.02-.08-.03-.08v-.09zM17.83 18l.12-.08 3.22 4.29 5.29 2.53-.07.15-5.68-2.2zm-5.16 3.58.1-.12 3.45 3.25 6.99 2.26-.05.14-7.4-1.88zm-1.78 1.88.1-.1 3.71 3.02 8.27 2.26-.04.16-8.6-1.86zm.67 4.47.04-.15 11.44 2.36-.03.16-8.48-1.3zm12.2 3.98-6.02-.55-3.04-.89.04-.15 9.04 1.43zm.25-6.22-6.1-2.02-2.52-3.48.1-.09 2.93 3.12 5.66 2.34zm.77 2.19-.1-.05v-1.31l.13-.02.15.8 2.69-1.38.06.11zm.37 2.04.02-1.31.13-.02.14.8L29 27.5l.06.1-3.8 2.37zm1.13 1.87-.11-.06.02-1.32.12-.01.15.8 3.75-2.04.07.1zm1.5 1.54-.12-.05.02-1.33h.13l.14.8 3.67-1.92.07.1zm1.87 1.33-.1-.06.02-1.3.13-.03.14.8 3.23-1.69.08.1zm2.01 1.27-.1-.05.03-1.29.11-.02.16.78 2.68-1.37.06.1zm1.99 1.22-.1-.05.02-1.26h.12l.15.73 1.9-.9.07.1zm1.63 1.23-.09-.06.05-1.05h.11l.12.55 1.37-.6.05.1zm1.23 1.32-.1-.06.12-.96.12.01.05.47 1.66-.73.07.1zm1 2.99-.1-.07.14-.76h.11l.02.3.8-.33.06.1zm-.32-1.6-.1-.06.13-.76h.12l.04.3 1.17-.56.06.1zm-4.52 8.97-.06-.05.18-.35-.35-.15.02-.1h.92l.02.09zm2.59 0-.07-.05.19-.35-.36-.15.02-.1h.92l.03.09zm.67 15.01-.92-.32-.93-.3-1.86-.6h-.01a.24.24 0 0 1-.17-.32.2.2 0 0 1 .17-.16l1.9-.53.04.09-1.26.66 1.3.57.88.4.89.42zm9.8-16.23-.07-.05.17-.48-.49-.12v-.08l1.13-.2.04.09zm-1.96-2.81v-.08l1.7-.57.05.07-1 1.49-.08-.03.15-.8zm-.73 3.48v-.08l.9-.17.05.08-.62.68-.09-.04.13-.37zm.07-6.23v-.08l1.72-.5.05.07-1.05 1.45-.09-.04.18-.8zm4.46 3.45-.08-.05.16-.47-.48-.12V46l1.13-.18.04.08zm1.39-4.38.2-.46-.48-.16.02-.08 1.14-.1.04.07-.85.78zm1.49-5.03h.92l.02.08-.72.57-.07-.06.19-.35-.36-.16zm-.46 6.71-.63.67-.08-.04.13-.37-.37-.1v-.08l.9-.16zm-.06-5.01-1.13.88-.06-.06.3-.57-.58-.25.01-.1h1.44zm-2.1-2.26h1.14l.03.08-.9.7-.07-.06.24-.44-.47-.2zm-.12 6.5-.9 1.11-.09-.04.18-.61-.63-.12v-.1l1.4-.31zm-.12-2.76.04.07-1.13 1.3-.08-.04.24-.74-.77-.16v-.1zm-.62-2.07-1.13.87-.08-.06.32-.56-.6-.25.03-.1h1.44zm-2.16-1.67h.92l.02.08-.72.56-.07-.05.19-.35-.36-.16zm-.41 3.36.04.08-1.24 1.3-.09-.06.29-.76-.8-.21v-.1zm-2.84 7.5v-.1l1.41-.28.04.08-.93 1.09-.08-.04.19-.62zm.64-9.65h1.43l.03.09-1.13.87-.07-.06.3-.56-.58-.25zm-.08 7-.86 1.15-.08-.04.14-.63-.63-.08v-.1l1.38-.38zm-.43-2.3-.9 1.06-.07-.05.17-.59-.6-.12v-.09l1.35-.28zm-1.62-2.05 1.13-.18.04.08-.77.84-.08-.05.16-.47-.49-.12zm-2.96 7.94-.07-.05.2-.35-.37-.16.02-.08h.92l.03.08zm.75 2.03-.06-.06.18-.34-.35-.16.01-.08h.92l.03.08zm1.05-3.4-.08-.05.24-.45-.47-.18.01-.1 1.15-.03.03.08zm.71 1.93-.07-.06.24-.44-.46-.2.02-.08h1.15l.02.08zm1.11 1.64-.07-.05.2-.35-.37-.16.03-.08h.92l.02.08zm-3.93 9.52-.32.1-.24.08-.23.06-.32.1-.05-.14.03-.02.28-.1.34-.15.08-.03.35-.14.96-.36.12-.04.24-.09 1-.35q.64-.22 1.27-.4l.17-.06.4-.12.54-.14.65-.16.14-.04.3-.07h.03l.05.14h-.03l-.3.12-.2.07-.56.2-.52.17-.12.04-.46.16-1.25.4-.32.11-.93.31-.44.14zm9.84-1.82-.31.1-.75.27-.17.06-.54.19-.79.27-1.72.6-1.1.4-.6.23-.55.2-.24.08-.5.19-.2.08-.77.26-.3.11-.4.14-.03.01-.06-.14.03-.01.4-.16.29-.13.74-.32.15-.05.55-.23.25-.1.53-.2.6-.24 1.11-.4 1.73-.6.4-.14.39-.12.72-.22.75-.22.33-.1.44-.12.05.14zM42.7 56.7v-.1l.1-.02h.28l.04.02.09.02.17.07.17.11.16.15.04.05a1 1 0 0 1 .17.3l.04.19.02.08v.08q0 .08-.02.14l-.01.11-.03.08h-.1l-.03-.08-.03-.09-.1-.23-.07-.13-.08-.12-.1-.12-.08-.08-.02-.04-.11-.1-.12-.08-.12-.08-.1-.05-.08-.04zm2.8-.73h.03l.18.08.17.11.16.14.12.18a1 1 0 0 1 .13.36l.01.08V57l-.03.25-.03.09h-.09l-.03-.09-.03-.1-.04-.1-.06-.12-.07-.13-.08-.12-.1-.13q-.04-.07-.1-.11l-.12-.1-.11-.09-.22-.13-.08-.04-.03-.01-.7.17-.1.02.09.03.34.18a1 1 0 0 1 .37.5l.05.19.01.08v.08l-.03.24q0 .05-.03.08h-.1l-.02-.08-.04-.09-.04-.1-.05-.13-.07-.12-.08-.13q-.04-.07-.1-.12l-.1-.12-.12-.1q-.05-.05-.11-.08l-.12-.07-.1-.06-.08-.04-.07-.03-1.25-1.44-.61-3.44.12-.05 2.37 2.89.83-.02 2.11 1.18zm3.76-.9v-.08h.35l.08.01.08.03a1 1 0 0 1 .33.2l.13.1.03.04a1 1 0 0 1 .2.35l.04.19v.3l-.02.1-.04.09h-.08l-.04-.08-.03-.1-.04-.1-.05-.12-.07-.13-.08-.13-.09-.13-.1-.11-.06-.05-.06-.06-.11-.08-.11-.08-.1-.06-.09-.04-.08-.04zm2.95 1.91-.14.05-.12.03-.27.08q-.59.16-1.17.28l-.11.03-1.11.24-.3.04-.1.02-.16.02h-.02l-.03-.14.02-.01.15-.05.08-.03.3-.1c.36-.11.8-.23 1.18-.32l.65-.13.56-.1.3-.03.1-.02.17-.01h.02l.03.14zm1.37-1.36h-.02l-.03-.15h.02l.2-.06a34 34 0 0 1 2.02-.45h.02l.8-.14.67-.1h.05l.39-.05.12-.01.2-.02h.03l.02.15h-.03l-.19.05-.14.03-.36.08-.39.09-.32.07-.68.13-.13.03q-.96.18-1.92.3l-.13.02zm6.3.18-.26.04-.45.08q-.5.1-.99.16l-.56.08-.12.02-.46.07-.44.06-.7.1-.39.06-.13.02-.47.06-.48.07-.22.02-.3.03-.02-.14.29-.07.2-.04.5-.1.25-.06.21-.04.21-.04.3-.06.57-.1.58-.08.58-.08.56-.08.66-.07.33-.04.63-.05h.08l.28-.02h.02l.02.15z"}))),"SvgLogoSolid80"),s=styled_components_browser_esm.styled.div.withConfig({componentId:"sc-17j7mtb-0"})(["display:flex;gap:","px;"],(({theme:l})=>l.spacing.x1)),a=styled_components_browser_esm.styled.button.withConfig({componentId:"sc-17j7mtb-1"})(["flex-grow:1;padding:","px 0;border-radius:",";font:",";"],(({theme:l})=>l.spacing.x1),(({theme:l})=>l.dimension.notificationWidget.borderRadius),(({theme:l})=>l.textStyle.button.base)),p=(0,styled_components_browser_esm.styled)(a).withConfig({componentId:"sc-17j7mtb-2"})(["background:linear-gradient(180deg,#276fbf 0%,#1f5898 100%);color:",";&:hover{background:linear-gradient(180deg,#276fbf 0%,#0f2c4c 100%);}"],(({theme:l})=>l.color.ink.inverted)),z=(0,styled_components_browser_esm.styled)(a).withConfig({componentId:"sc-17j7mtb-3"})(["border:1px solid #d3d3d3;background:#fbfbfb;&:hover{background:linear-gradient(180deg,#fbfbfb 0%,#d3d3d3 100%);}"]),v=styled_components_browser_esm.styled.p.withConfig({componentId:"sc-17j7mtb-4"})(["margin:0 0 ","px;font-size:14px;"],(({theme:l})=>l.spacing.x3)),f=styled_components_browser_esm.styled.h2.withConfig({componentId:"sc-17j7mtb-5"})(["margin:0 0 ","px;font-size:14px;@media ","{font-size:16px;}"],(({theme:l})=>l.spacing.x1),devices_331a8065.t),g=(0,styled_components_browser_esm.styled)(Icon_d4f7b391.I).withConfig({componentId:"sc-17j7mtb-6"})(["width:68px;height:68px;flex-shrink:0;@media ","{width:80px;height:80px;}"],devices_331a8065.t),x=styled_components_browser_esm.styled.div.withConfig({componentId:"sc-17j7mtb-7"})(["display:flex;width:",";box-sizing:border-box;gap:","px;padding:","px;margin:0 ","px;background:#e7e8e9;box-shadow:0 4px 8px 0 ",";font-family:",";@media ","{width:",";padding:","px;}"],(({theme:l})=>l.dimension.notificationWidget.widthMobile),(({theme:l})=>l.spacing.x2),(({theme:l})=>l.spacing.x2),(({theme:l})=>l.spacing.x2),(({theme:l})=>l.color.shadow.light),(l=>l.theme.fontFamily.secondaryFont),devices_331a8065.t,(({theme:l})=>l.dimension.notificationWidget.widthDesktop),(({theme:l})=>l.spacing.x3)),E=n((({classNameAccept:l,classNameDeny:t})=>(0,jsx_runtime.jsxs)(x,{children:[(0,jsx_runtime.jsx)(g,{svg:r}),(0,jsx_runtime.jsxs)("div",{children:[(0,jsx_runtime.jsx)(f,{children:"Stay up to date with notifications from TheIndependent"}),(0,jsx_runtime.jsx)(v,{children:"Notifications can be managed in browser preferences."}),(0,jsx_runtime.jsxs)(s,{children:[(0,jsx_runtime.jsx)(z,{className:t,children:"Not now"}),(0,jsx_runtime.jsx)(p,{className:l,children:"Yes please"})]})]})]})),"NotificationPrompt");var zIndex=__webpack_require__("./app/constants/zIndex.js");const NotificationPromptUI=E.default||E,NotificationPrompt_Wrapper=styled_components_browser_esm.styled.div.withConfig({componentId:"sc-1exdb30-0"})(["position:fixed;left:50%;z-index:",";opacity:0;transform:translateX(-50%) translateY(-100%);transition:transform 300ms ease-in-out,opacity 300ms ease-in-out;&.","{opacity:1;transform:translateX(-50%) translateY(0%);}"],zIndex.pi,classNames.Wh),library_NotificationPrompt=()=>(0,jsx_runtime.jsx)(NotificationPrompt_Wrapper,{className:classNames.Wd,children:(0,jsx_runtime.jsx)(NotificationPromptUI,{classNameAccept:classNames.ve,classNameDeny:classNames.fv})}),articleIsOverOneYearOld=articleDate=>(timestamp=>{const lastUpdated=dayjs_min_default().unix(timestamp);return dayjs_min_default()().diff(lastUpdated,"days")})(dayjs_min_default()(articleDate).unix())>365,PianoTags=({res,domain})=>{if(domain===publication.mv)return;const{jsGlobals={}}=res.locals,{article,pageType,topictags=[],isLiveBlog}=jsGlobals,tags=[...topictags],pianoData={tags};try{var _article$authors,_article$hierarchy;if(article)pianoData.contentCreated=article.publish,pianoData.contentAuthor=null===(_article$authors=article.authors)||void 0===_article$authors?void 0:_article$authors[0].name,pianoData.contentSection=null===(_article$hierarchy=article.hierarchy)||void 0===_article$hierarchy?void 0:_article$hierarchy[0].name,article.isCommercialArticle&&tags.push("commercial-article"),article.isCommercial&&tags.push("commercial"),article.premium&&tags.push("premium"),jsGlobals.type&&tags.push(jsGlobals.type),"Service"!==pianoData.contentSection&&tags.push("article"),articleIsOverOneYearOld(article.publish)&&tags.push("archive"),article.newsletterKey&&tags.push(article.newsletterKey),isLiveBlog&&tags.push("isLiveBlog");else["category","index"].includes(pageType)&&tags.push("section")}catch{}return"index"===pageType&&tags.push("s_index"),(0,jsx_runtime.jsx)("script",{type:"application/json",id:ids.p3,dangerouslySetInnerHTML:{__html:JSON.stringify(pianoData)}})};PianoTags.propTypes={res:prop_types_default().object.isRequired,domain:prop_types_default().string.isRequired};const library_PianoTags=(0,RequestProvider.ah)(PianoTags);var ReactCDNLoader=__webpack_require__("./stories/__mocks__/\0#app/component/library/ReactCDNLoader.js"),CustomPropTypes=__webpack_require__("./app/types/CustomPropTypes.js");const Sentry=({res})=>{var _res$locals;const{cdn}=(null==res||null===(_res$locals=res.locals)||void 0===_res$locals||null===(_res$locals=_res$locals.configuration)||void 0===_res$locals?void 0:_res$locals.sentry)||{};return cdn?(0,jsx_runtime.jsx)("script",{src:cdn,crossOrigin:"anonymous"}):null};Sentry.propTypes={res:prop_types_default().shape({locals:prop_types_default().shape({configuration:prop_types_default().shape({sentry:prop_types_default().shape({cdn:CustomPropTypes.A.url})})})})};const Scripts_Sentry=(0,RequestProvider.ah)(Sentry);var customEvents=__webpack_require__("./app/constants/customEvents.js");__webpack_require__("../node_modules/.pnpm/lodash@4.17.21/node_modules/lodash/set.js");const isGDPRCountries=req=>[constants_subscriberOrigin.FB,constants_subscriberOrigin.vV].includes((0,getSubscriberOrigin.A)(req));var gdprStub_raw=__webpack_require__("./app/3rdPartySnippets/sourcepoint/gdprStub.raw.js");function SourcePoint_ownKeys(e,r){var t=Object.keys(e);if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(e);r&&(o=o.filter((function(r){return Object.getOwnPropertyDescriptor(e,r).enumerable}))),t.push.apply(t,o)}return t}function SourcePoint_objectSpread(e){for(var r=1;r<arguments.length;r++){var t=null!=arguments[r]?arguments[r]:{};r%2?SourcePoint_ownKeys(Object(t),!0).forEach((function(r){(0,defineProperty.A)(e,r,t[r])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(t)):SourcePoint_ownKeys(Object(t)).forEach((function(r){Object.defineProperty(e,r,Object.getOwnPropertyDescriptor(t,r))}))}return e}const SourcePoint=({req,res,res:{locals:{configuration}}})=>{var _config$web;const location=(0,getSubscriberOrigin.A)(req),isUKorEU=[constants_subscriberOrigin.FB,constants_subscriberOrigin.vV].includes(location),isUS=location===constants_subscriberOrigin.Ts,config=null==configuration?void 0:configuration.sourcepoint,configInline=SourcePoint_objectSpread(SourcePoint_objectSpread({accountId:null==config?void 0:config.accountId,baseEndpoint:null==config?void 0:config.baseEndpoint,gdpr:SourcePoint_objectSpread({},(null==config||null===(_config$web=config.web)||void 0===_config$web?void 0:_config$web.useGroup)&&{groupPmId:null==config?void 0:config.propertyGroup.gdprPrivacyManagerId})},isUS&&{ccpa:{includeGppApi:!0}}),{},{isSPA:!1,joinHref:!0});return config&&(((req,res)=>{var _res$locals$configura;return isGDPRCountries(req)&&((null===(_res$locals$configura=res.locals.configuration)||void 0===_res$locals$configura||null===(_res$locals$configura=_res$locals$configura.cmp)||void 0===_res$locals$configura?void 0:_res$locals$configura.enabled)||(0,featureFlag.G7)(req,res,constants_cookies.TE))})(req,res)||isUS)?(0,jsx_runtime.jsxs)(jsx_runtime.Fragment,{children:[isUKorEU&&(0,jsx_runtime.jsx)("script",{dangerouslySetInnerHTML:{__html:gdprStub_raw.A}}),isUS&&(0,jsx_runtime.jsxs)(jsx_runtime.Fragment,{children:[(0,jsx_runtime.jsx)("script",{dangerouslySetInnerHTML:{__html:'(function () { var e = false; var c = window; var t = document; function r() { if (!c.frames["__uspapiLocator"]) { if (t.body) { var a = t.body; var e = t.createElement("iframe"); e.style.cssText = "display:none"; e.name = "__uspapiLocator"; a.appendChild(e) } else { setTimeout(r, 5) } } } r(); function p() { var a = arguments; __uspapi.a = __uspapi.a || []; if (!a.length) { return __uspapi.a } else if (a[0] === "ping") { a[2]({ gdprAppliesGlobally: e, cmpLoaded: false }, true) } else { __uspapi.a.push([].slice.apply(a)) } } function l(t) { var r = typeof t.data === "string"; try { var a = r ? JSON.parse(t.data) : t.data; if (a.__cmpCall) { var n = a.__cmpCall; c.__uspapi(n.command, n.parameter, function (a, e) { var c = { __cmpReturn: { returnValue: a, success: e, callId: n.callId } }; t.source.postMessage(r ? JSON.stringify(c) : c, "*") }) } } catch (a) { } } if (typeof __uspapi !== "function") { c.__uspapi = p; __uspapi.msgHandler = l; c.addEventListener("message", l, false) } })();\n'}}),(0,jsx_runtime.jsx)("script",{dangerouslySetInnerHTML:{__html:'window.__gpp_addFrame=function(e){if(!window.frames[e])if(document.body){var t=document.createElement("iframe");t.style.cssText="display:none",t.name=e,document.body.appendChild(t)}else window.setTimeout(window.__gpp_addFrame,10,e)},window.__gpp_stub=function(){var e=arguments;if(__gpp.queue=__gpp.queue||[],__gpp.events=__gpp.events||[],!e.length||1==e.length&&"queue"==e[0])return __gpp.queue;if(1==e.length&&"events"==e[0])return __gpp.events;var t=e[0],p=e.length>1?e[1]:null,s=e.length>2?e[2]:null;if("ping"===t)p({gppVersion:"1.1",cmpStatus:"stub",cmpDisplayStatus:"hidden",signalStatus:"not ready",supportedAPIs:["2:tcfeuv2","5:tcfcav1","6:uspv1","7:usnatv1","8:uscav1","9:usvav1","10:uscov1","11:usutv1","12:usctv1"],cmpId:0,sectionList:[],applicableSections:[],gppString:"",parsedSections:{}},!0);else if("addEventListener"===t){"lastId"in __gpp||(__gpp.lastId=0),__gpp.lastId++;var n=__gpp.lastId;__gpp.events.push({id:n,callback:p,parameter:s}),p({eventName:"listenerRegistered",listenerId:n,data:!0,pingData:{gppVersion:"1.1",cmpStatus:"stub",cmpDisplayStatus:"hidden",signalStatus:"not ready",supportedAPIs:["2:tcfeuv2","5:tcfcav1","6:uspv1","7:usnatv1","8:uscav1","9:usvav1","10:uscov1","11:usutv1","12:usctv1"],cmpId:0,sectionList:[],applicableSections:[],gppString:"",parsedSections:{}}},!0)}else if("removeEventListener"===t){for(var a=!1,i=0;i<__gpp.events.length;i++)if(__gpp.events[i].id==s){__gpp.events.splice(i,1),a=!0;break}p({eventName:"listenerRemoved",listenerId:s,data:a,pingData:{gppVersion:"1.1",cmpStatus:"stub",cmpDisplayStatus:"hidden",signalStatus:"not ready",supportedAPIs:["2:tcfeuv2","5:tcfcav1","6:uspv1","7:usnatv1","8:uscav1","9:usvav1","10:uscov1","11:usutv1","12:usctv1"],cmpId:0,sectionList:[],applicableSections:[],gppString:"",parsedSections:{}}},!0)}else"hasSection"===t?p(!1,!0):"getSection"===t||"getField"===t?p(null,!0):__gpp.queue.push([].slice.apply(e))},window.__gpp_msghandler=function(e){var t="string"==typeof e.data;try{var p=t?JSON.parse(e.data):e.data}catch(e){p=null}if("object"==typeof p&&null!==p&&"__gppCall"in p){var s=p.__gppCall;window.__gpp(s.command,(function(p,n){var a={__gppReturn:{returnValue:p,success:n,callId:s.callId}};e.source.postMessage(t?JSON.stringify(a):a,"*")}),"parameter"in s?s.parameter:null,"version"in s?s.version:"1.1")}},"__gpp"in window&&"function"==typeof window.__gpp||(window.__gpp=window.__gpp_stub,window.addEventListener("message",window.__gpp_msghandler,!1),window.__gpp_addFrame("__gppLocator"));\n'}})]}),(0,jsx_runtime.jsx)("script",{dangerouslySetInnerHTML:{__html:`\nwindow.__SP_CONFIG__ = ${JSON.stringify(configInline)};\nwindow.__SP_SCRIPT_TAG_ID__ = '${ids.X6}';\nwindow.__SP_EVENT_ERROR__ = '${customEvents.eO}';\n`}}),(0,jsx_runtime.jsx)("script",{src:manifest["sourcepoint.js"]}),(0,jsx_runtime.jsx)("script",{id:ids.X6,src:`${null==config?void 0:config.baseEndpoint}/unified/wrapperMessagingWithoutDetection.js`,async:!0,"data--onerror":`this.error=1;window.dispatchEvent(new CustomEvent('${customEvents.eO}'));`})]}):null};SourcePoint.propTypes={req:prop_types_default().object.isRequired,res:prop_types_default().object.isRequired};const Scripts_SourcePoint=(0,RequestProvider.ah)(SourcePoint);var MessageBanner=__webpack_require__("../ui/dist/MessageBanner.js"),cookie=__webpack_require__("./app/public/js/utils/cookie.ts"),decodeJWT=__webpack_require__("./app/util/decodeJWT.ts");const SuccessBanners_getUserEmail=jwt=>{try{const{email}=(0,decodeJWT.A)(jwt);return email}catch{return null}},SuccessBanners_useUserEmail=()=>{const[userEmail,setUserEmail]=(0,react.useState)(null),[error,setError]=(0,react.useState)(null);return(0,react.useEffect)((()=>{const userJWT=(0,cookie.Ri)(constants_cookies.QO);userJWT?setUserEmail(SuccessBanners_getUserEmail(userJWT)):setError("No JWT found")}),[]),{userEmail,error}},SuccessBannerWithEmail_MessageBanner=MessageBanner.Ay.default||MessageBanner.Ay,SuccessBannerWithEmail=({messageBuilder,fallback})=>{const{userEmail,error}=SuccessBanners_useUserEmail();if(error)return null;const successMessage=userEmail?messageBuilder(userEmail):fallback;return(0,jsx_runtime.jsx)(SuccessBannerWithEmail_MessageBanner,{variant:MessageBanner.MQ,children:successMessage})};SuccessBannerWithEmail.propTypes={messageBuilder:prop_types_default().func.isRequired,fallback:prop_types_default().string.isRequired};const SuccessBanners_SuccessBannerWithEmail=SuccessBannerWithEmail,SuccessBanners_ConsentOrPaySuccessBanner=()=>SuccessBanners_SuccessBannerWithEmail({messageBuilder:userEmail=>`Thank you for subscribing! A confirmation email will be sent to ${userEmail}.`,fallback:"Thank you for subscribing!"}),SuccessBanners_UpgradeSuccessBanner=()=>SuccessBanners_SuccessBannerWithEmail({messageBuilder:userEmail=>`Success! A confirmation email will be sent to ${userEmail}.`,fallback:"Success!"}),successBanners={showAdFreeSuccessMessage:(0,jsx_runtime.jsx)(SuccessBanners_ConsentOrPaySuccessBanner,{}),showUpgradeSuccessMessage:(0,jsx_runtime.jsx)(SuccessBanners_UpgradeSuccessBanner,{})},SuccessBanners_getSuccessBannerFromQuery=query=>{if(!(query&&query instanceof URLSearchParams))return null;const successMessage=Object.keys(successBanners).find((key=>query.has(key)));if(!successMessage)return null;const SuccessBanner=successBanners[successMessage];return SuccessBanner||null};function SuccessBannerManager(){const[successBanner,setSuccessBanner]=(0,react.useState)(null);return(0,react.useEffect)((()=>{window&&setSuccessBanner(SuccessBanners_getSuccessBannerFromQuery(new URLSearchParams(window.location.search)))}),[]),successBanner}var SuccessHint=__webpack_require__("./app/component/library/SuccessHint/SuccessHint.js");const Prompt=styled_components_browser_esm.styled.div.withConfig({componentId:"sc-7lnyz3-0"})(["display:",";position:",";bottom:0;z-index:1000000;width:100vw;&.hidden{display:none;}&.bottom-piano-prompt{position:relative;}&.sticky-prompt{position:sticky;}&.hide{display:none;}&.active{background-color:",";box-shadow:0 -29px 65px 35px ",";}"],(props=>props.$articlePreview?"none":""),(({$isPremium})=>$isPremium?"relative":"sticky"),(props=>props.theme.color.canvas.base),(({theme})=>theme.color.shadow)),PianoPrompt=({article,req:{path}})=>{const articlePreview=path.startsWith("/preview");return(0,jsx_runtime.jsx)(Prompt,{$isPremium:null==article?void 0:article.premium,$articlePreview:articlePreview,id:"footerPrompt"})};PianoPrompt.propTypes={article:prop_types_default().object,req:prop_types_default().object};const ThirdParty_PianoPrompt=(0,RequestProvider.ah)(PianoPrompt),Frame_Symbols=Symbols.Ay.default||Symbols.Ay,Frame_Wrapper=styled_components_browser_esm.styled.div.withConfig({componentId:"sc-11dbwmc-0"})([""]),OutOfPageSlotMPU=(0,styled_components_browser_esm.styled)(MPU.A).withConfig({componentId:"sc-11dbwmc-1"})(["display:none;position:absolute;@media ","{display:block;}"],devices.BY),Frame_Frame=({headerType,className="",children,section,article,loginDrawerReturnUrl,SimpleHeaderLogo,domain,req,req:{flowPreview,cookies},res,res:{locals:{server,configuration,isStorybook}}})=>{var _configuration$cmp;return(0,jsx_runtime.jsxs)(jsx_runtime.Fragment,{children:[(0,jsx_runtime.jsx)(CommonMeta.A,{}),!flowPreview&&(0,jsx_runtime.jsxs)(jsx_runtime.Fragment,{children:[(0,featureFlag.G7)(req,res,constants_cookies.MC)&&(0,jsx_runtime.jsx)(Scripts_Sentry,{}),(null==configuration?void 0:configuration.adobe)&&(0,jsx_runtime.jsx)(Adobe,{}),((null==configuration||null===(_configuration$cmp=configuration.cmp)||void 0===_configuration$cmp?void 0:_configuration$cmp.enabled)||(0,featureFlag.G7)(req,res,constants_cookies.TE))&&(0,jsx_runtime.jsx)(Scripts_SourcePoint,{}),(null==configuration?void 0:configuration.comscore)&&(null==configuration?void 0:configuration.locale)===cookieLocale.gf&&(0,jsx_runtime.jsx)(Comscore,{})]}),(0,jsx_runtime.jsx)(library_PianoTags,{}),(0,jsx_runtime.jsx)(AmpAuth.A,{}),(article&&!(null!=article&&article.sensitive)&&!(0,services_article.jh)(article,articleTypeNames.Wl)||section)&&!flowPreview&&(0,jsx_runtime.jsx)(OutOfPageSlotMPU,{id:"out-of-page",sizes:"1x1",width:1,height:1}),(0,jsx_runtime.jsxs)(Frame_Wrapper,{children:[((null==article?void 0:article.isLiveBlog)||isNewsSectionServerSide(req))&&(0,jsx_runtime.jsx)(library_NotificationPrompt,{}),(0,jsx_runtime.jsx)(IndyHydrateIsland.A,{children:(0,jsx_runtime.jsx)(SuccessBannerManager,{})}),(0,jsx_runtime.jsx)(Header.A,{headerType,SimpleHeaderLogo}),(0,jsx_runtime.jsx)(FrameInner.A,{id:ids.ur,className,headerType,children}),(0,jsx_runtime.jsx)(Footer.A,{}),!cookies.subscriber&&domain!==publication.mv&&(0,jsx_runtime.jsx)(ThirdParty_PianoPrompt,{}),!isStorybook&&(0,jsx_runtime.jsx)(SuccessHint.A,{isHidden:!0}),!(0,featureFlag.G7)(req,res,constants_cookies.R7)&&(0,jsx_runtime.jsx)(InstallServiceworker,{src:`/${constants.SW_FILENAME}`,layout:"nodisplay"})]}),(0,jsx_runtime.jsx)(DrawerMenu_DrawerMenuWithHydration,{}),"/login"!==req.url&&(0,jsx_runtime.jsx)(Header_LoginDrawerWrapper,{redirectUrl:null!=loginDrawerReturnUrl?loginDrawerReturnUrl:req.url}),server!==constants_server.u0&&(0,featureFlag.G7)(req,constants_cookies.kL)&&(0,jsx_runtime.jsx)(IndyHydrateIsland.A,{id:ids.qq,children:(0,jsx_runtime.jsx)(Badge.A,{subscriberOrigin:req.cookies[constants_cookies.vR],locale:req.cookies[constants_cookies.ss],featureFlags:Object.keys(req.cookies).filter((key=>key.startsWith("feat__"))),feed:res.locals.feed})}),(0,jsx_runtime.jsx)(Frame_Symbols,{}),(0,jsx_runtime.jsx)(ReactCDNLoader.A,{}),!flowPreview&&(0,jsx_runtime.jsx)(jsx_runtime.Fragment,{children:(null==configuration?void 0:configuration.gtm)&&(0,jsx_runtime.jsx)(library_GTM,{})}),(0,jsx_runtime.jsx)("script",{async:"",src:"https://securepubads.g.doubleclick.net/tag/js/gpt.js"}),(0,jsx_runtime.jsx)("script",{async:"",src:"/js/adobe.raw.js"})]})};Frame_Frame.propTypes={headerType:prop_types_default().string,className:prop_types_default().string,domain:prop_types_default().string,children:prop_types_default().any.isRequired,req:prop_types_default().object.isRequired,res:prop_types_default().object.isRequired,section:prop_types_default().object,article:prop_types_default().object,loginDrawerReturnUrl:prop_types_default().string,SimpleHeaderLogo:prop_types_default().func};const library_Frame=(0,styled_components_browser_esm.styled)((0,RequestProvider.ah)(Frame_Frame)).withConfig({componentId:"sc-11dbwmc-2"})(["flex-direction:column;"])},"./app/component/library/Head/CommonMeta.js":(__unused_webpack_module,__webpack_exports__,__webpack_require__)=>{__webpack_require__.d(__webpack_exports__,{A:()=>__WEBPACK_DEFAULT_EXPORT__});var prop_types__WEBPACK_IMPORTED_MODULE_3__=__webpack_require__("../node_modules/.pnpm/prop-types@15.8.1/node_modules/prop-types/index.js"),prop_types__WEBPACK_IMPORTED_MODULE_3___default=__webpack_require__.n(prop_types__WEBPACK_IMPORTED_MODULE_3__),react_helmet__WEBPACK_IMPORTED_MODULE_0__=__webpack_require__("../node_modules/.pnpm/react-helmet@6.1.0_react@18.3.1/node_modules/react-helmet/es/Helmet.js"),styled_components__WEBPACK_IMPORTED_MODULE_4__=__webpack_require__("../node_modules/.pnpm/styled-components@6.1.13_react-dom@18.3.1_react@18.3.1/node_modules/styled-components/dist/styled-components.browser.esm.js"),_brightsites_flow_core_lib_providers_RequestProvider__WEBPACK_IMPORTED_MODULE_1__=__webpack_require__("./stories/__mocks__/@brightsites/flow-core/lib/providers/RequestProvider.js"),react_jsx_runtime__WEBPACK_IMPORTED_MODULE_2__=__webpack_require__("../node_modules/.pnpm/react@18.3.1/node_modules/react/jsx-runtime.js");const CommonMeta=({res:{locals:{configuration}},theme})=>(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_2__.jsxs)(react_helmet__WEBPACK_IMPORTED_MODULE_0__.Helmet,{children:[(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_2__.jsx)("meta",{property:"og:site_name",content:configuration.name}),(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_2__.jsx)("meta",{name:"viewport",content:"width=device-width, initial-scale=1.0, user-scalable=no, minimum-scale=1.0, maximum-scale=1.0"}),(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_2__.jsx)("meta",{name:"theme-color",content:theme.color.canvas.secondary})]});CommonMeta.propTypes={res:prop_types__WEBPACK_IMPORTED_MODULE_3___default().object.isRequired,theme:prop_types__WEBPACK_IMPORTED_MODULE_3___default().shape({color:prop_types__WEBPACK_IMPORTED_MODULE_3___default().shape({canvas:prop_types__WEBPACK_IMPORTED_MODULE_3___default().shape({secondary:prop_types__WEBPACK_IMPORTED_MODULE_3___default().string})})})};const __WEBPACK_DEFAULT_EXPORT__=(0,_brightsites_flow_core_lib_providers_RequestProvider__WEBPACK_IMPORTED_MODULE_1__.ah)((0,styled_components__WEBPACK_IMPORTED_MODULE_4__.withTheme)(CommonMeta))},"./app/component/library/Header/LoginDrawerAmp.js":(__unused_webpack_module,__webpack_exports__,__webpack_require__)=>{__webpack_require__.d(__webpack_exports__,{A:()=>__WEBPACK_DEFAULT_EXPORT__});var prop_types__WEBPACK_IMPORTED_MODULE_11__=__webpack_require__("../node_modules/.pnpm/prop-types@15.8.1/node_modules/prop-types/index.js"),prop_types__WEBPACK_IMPORTED_MODULE_11___default=__webpack_require__.n(prop_types__WEBPACK_IMPORTED_MODULE_11__),styled_components__WEBPACK_IMPORTED_MODULE_9__=__webpack_require__("../node_modules/.pnpm/styled-components@6.1.13_react-dom@18.3.1_react@18.3.1/node_modules/styled-components/dist/styled-components.browser.esm.js"),_brightsites_flow_core_lib_component_amp_Sidebar__WEBPACK_IMPORTED_MODULE_0__=__webpack_require__("./stories/__mocks__/@brightsites/flow-core/lib/component/amp/Sidebar.js"),_brightsites_flow_core_lib_providers_RequestProvider__WEBPACK_IMPORTED_MODULE_1__=__webpack_require__("./stories/__mocks__/@brightsites/flow-core/lib/providers/RequestProvider.js"),_app_constants_devices__WEBPACK_IMPORTED_MODULE_2__=__webpack_require__("./app/constants/devices.js"),_app_constants_ids__WEBPACK_IMPORTED_MODULE_10__=__webpack_require__("./app/constants/ids.js"),_Subscribe_Subscribe_types__WEBPACK_IMPORTED_MODULE_3__=__webpack_require__("./app/component/library/Subscribe/Subscribe.types.js"),_LoginDrawer__WEBPACK_IMPORTED_MODULE_4__=__webpack_require__("./app/component/library/Header/LoginDrawer.js"),_loginDrawer_LoggedInPanel__WEBPACK_IMPORTED_MODULE_5__=__webpack_require__("./app/component/library/Header/loginDrawer/LoggedInPanel.js"),_loginDrawer_LoggedOutPanel__WEBPACK_IMPORTED_MODULE_6__=__webpack_require__("./app/component/library/Header/loginDrawer/LoggedOutPanel.js"),_loginDrawer_LoggedOutPanelAmp__WEBPACK_IMPORTED_MODULE_7__=__webpack_require__("./app/component/library/Header/loginDrawer/LoggedOutPanelAmp.js"),react_jsx_runtime__WEBPACK_IMPORTED_MODULE_8__=__webpack_require__("../node_modules/.pnpm/react@18.3.1/node_modules/react/jsx-runtime.js");const Sidebar=_brightsites_flow_core_lib_component_amp_Sidebar__WEBPACK_IMPORTED_MODULE_0__.A.default||_brightsites_flow_core_lib_component_amp_Sidebar__WEBPACK_IMPORTED_MODULE_0__.A,Wrapper=styled_components__WEBPACK_IMPORTED_MODULE_9__.styled.div.withConfig({componentId:"sc-1ebrp5c-0"})(["height:100vh;.close{position:absolute;top:15px;right:20px;z-index:1;}"]),LoggedInWrapper=styled_components__WEBPACK_IMPORTED_MODULE_9__.styled.div.withConfig({componentId:"sc-1ebrp5c-1"})(["width:100vw;@media ","{width:240px;}"],_app_constants_devices__WEBPACK_IMPORTED_MODULE_2__.r7),LoginDrawer=({req:{originalUrl},enabledSubs})=>{const returnUrl=originalUrl||"/";return(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_8__.jsxs)(react_jsx_runtime__WEBPACK_IMPORTED_MODULE_8__.Fragment,{children:[(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_8__.jsx)(_LoginDrawer__WEBPACK_IMPORTED_MODULE_4__.H,{id:_app_constants_ids__WEBPACK_IMPORTED_MODULE_10__.H9,on:"tap:drawer.open"}),(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_8__.jsx)(Sidebar,{id:"drawer",class:"login-drawer",layout:"nodisplay",side:"right",on:"drawerOpen:login-form-email.focus",children:(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_8__.jsxs)(Wrapper,{children:[(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_8__.jsx)("button",{className:"close",on:"tap:drawer.close",children:""}),(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_8__.jsx)(_loginDrawer_LoggedOutPanel__WEBPACK_IMPORTED_MODULE_6__.s,{children:(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_8__.jsx)("div",{"amp-access":"NOT indy.loggedIn","amp-access-hide":"true",children:(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_8__.jsx)(_loginDrawer_LoggedOutPanelAmp__WEBPACK_IMPORTED_MODULE_7__.Ay,{returnUrl,enabledSubs})})}),(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_8__.jsx)(LoggedInWrapper,{children:(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_8__.jsx)("div",{"amp-access":"indy.loggedIn","amp-access-hide":"true",children:(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_8__.jsx)(_loginDrawer_LoggedInPanel__WEBPACK_IMPORTED_MODULE_5__.A,{})})})]})})]})};LoginDrawer.propTypes={req:prop_types__WEBPACK_IMPORTED_MODULE_11___default().object,enabledSubs:_Subscribe_Subscribe_types__WEBPACK_IMPORTED_MODULE_3__.l};const __WEBPACK_DEFAULT_EXPORT__=(0,_brightsites_flow_core_lib_providers_RequestProvider__WEBPACK_IMPORTED_MODULE_1__.ah)(LoginDrawer)},"./stories/__mocks__/\0#app/component/library/ReactCDNLoader.js":(__unused_webpack_module,__webpack_exports__,__webpack_require__)=>{__webpack_require__.d(__webpack_exports__,{A:()=>__WEBPACK_DEFAULT_EXPORT__});const __WEBPACK_DEFAULT_EXPORT__=()=>null},"../ui/dist/MessageBanner.js":(__unused_webpack_module,__webpack_exports__,__webpack_require__)=>{__webpack_require__.d(__webpack_exports__,{$8:()=>l,Ay:()=>d,HX:()=>O,MQ:()=>e,uq:()=>D});var _babel_runtime_helpers_defineProperty__WEBPACK_IMPORTED_MODULE_0__=__webpack_require__("../node_modules/.pnpm/@babel+runtime@7.25.7/node_modules/@babel/runtime/helpers/esm/defineProperty.js"),_babel_runtime_helpers_objectWithoutProperties__WEBPACK_IMPORTED_MODULE_11__=__webpack_require__("../node_modules/.pnpm/@babel+runtime@7.25.7/node_modules/@babel/runtime/helpers/esm/objectWithoutProperties.js"),react_jsx_runtime__WEBPACK_IMPORTED_MODULE_1__=__webpack_require__("../node_modules/.pnpm/react@18.3.1/node_modules/react/jsx-runtime.js"),_index_e71f7d5b_js__WEBPACK_IMPORTED_MODULE_2__=__webpack_require__("../ui/dist/index-e71f7d5b.js"),react__WEBPACK_IMPORTED_MODULE_3__=__webpack_require__("../node_modules/.pnpm/react@18.3.1/node_modules/react/index.js"),styled_components__WEBPACK_IMPORTED_MODULE_10__=__webpack_require__("../node_modules/.pnpm/styled-components@6.1.13_react-dom@18.3.1_react@18.3.1/node_modules/styled-components/dist/styled-components.browser.esm.js"),_index_457e74fa_js__WEBPACK_IMPORTED_MODULE_4__=__webpack_require__("../ui/dist/index-457e74fa.js"),_Icon_d4f7b391_js__WEBPACK_IMPORTED_MODULE_5__=__webpack_require__("../ui/dist/Icon-d4f7b391.js"),_devices_331a8065_js__WEBPACK_IMPORTED_MODULE_6__=__webpack_require__("../ui/dist/devices-331a8065.js");__webpack_require__("../ui/dist/Icon.constants-aeed18dd.js"),__webpack_require__("../ui/dist/Symbols-7395c1ec.js"),__webpack_require__("../node_modules/.pnpm/react-side-effect@2.1.2_react@18.3.1/node_modules/react-side-effect/lib/index.js");const _excluded=["children","messageTimeout","className","variant"],_excluded2=["children"],_excluded3=["children"];function ownKeys(e,r){var t=Object.keys(e);if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(e);r&&(o=o.filter((function(r){return Object.getOwnPropertyDescriptor(e,r).enumerable}))),t.push.apply(t,o)}return t}function _objectSpread(e){for(var r=1;r<arguments.length;r++){var t=null!=arguments[r]?arguments[r]:{};r%2?ownKeys(Object(t),!0).forEach((function(r){(0,_babel_runtime_helpers_defineProperty__WEBPACK_IMPORTED_MODULE_0__.A)(e,r,t[r])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(t)):ownKeys(Object(t)).forEach((function(r){Object.defineProperty(e,r,Object.getOwnPropertyDescriptor(t,r))}))}return e}var g=Object.defineProperty,r=(t,o)=>g(t,"name",{value:o,configurable:!0});const l="is-active",m="info",e="success",n="error",R={[m]:void 0,[n]:_index_457e74fa_js__WEBPACK_IMPORTED_MODULE_4__.s,[e]:_index_457e74fa_js__WEBPACK_IMPORTED_MODULE_4__.Y},T=styled_components__WEBPACK_IMPORTED_MODULE_10__.styled.header.attrs({role:"alert"}).withConfig({componentId:"sc-1strae-0"})(["--transition:300ms ease-in-out;--variant-color:",";display:flex;position:fixed;top:0;left:0;z-index:",";width:100%;min-height:56px;box-sizing:border-box;align-items:center;justify-content:flex-start;gap:10px;padding:","px ","px;border-bottom:4px solid var(--variant-color);background-color:",";box-shadow:0 4px 4px ",";color:var(--variant-color);font:bold 16px/20px ",";opacity:0;transform:translateY(-100%);transition:transform var(--transition),opacity var(--transition);@media ","{justify-content:center;}@media ","{min-height:72px;font-size:20px;line-height:24px;}&.","{opacity:1;transform:translateY(0%);}"],(({theme:t,$variant:o})=>t.color.semiotic[o]),(({theme:t})=>t.zIndex.header+1),(({theme:t})=>t.spacing.x1),(({theme:t})=>t.spacing.x1_5),(({theme:t})=>t.color.canvas.base),(({theme:t})=>t.color.shadow.dark),(({theme:t})=>t.fontFamily.secondaryFont),_devices_331a8065_js__WEBPACK_IMPORTED_MODULE_6__.t,_devices_331a8065_js__WEBPACK_IMPORTED_MODULE_6__.l,l),_=(0,styled_components__WEBPACK_IMPORTED_MODULE_10__.styled)(_Icon_d4f7b391_js__WEBPACK_IMPORTED_MODULE_5__.I).attrs((({$variant:t})=>({svg:R[t]}))).withConfig({componentId:"sc-1strae-1"})(["flex-shrink:0;color:var(--variant-color);"]),d=r((_ref=>{let{children:t,messageTimeout:o=8e3,className:f,variant:s=m}=_ref,x=(0,_babel_runtime_helpers_objectWithoutProperties__WEBPACK_IMPORTED_MODULE_11__.A)(_ref,_excluded);const[i,c]=(0,react__WEBPACK_IMPORTED_MODULE_3__.useState)(!1);return(0,react__WEBPACK_IMPORTED_MODULE_3__.useEffect)((()=>{c(!0);const v=setTimeout((()=>c(!1)),o);return()=>clearTimeout(v)}),[o]),(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_1__.jsxs)(T,_objectSpread(_objectSpread({},x),{},{className:(0,_index_e71f7d5b_js__WEBPACK_IMPORTED_MODULE_2__.c)(f,{[l]:i}),$variant:s,"aria-hidden":!i,children:[[n,e].includes(s)&&(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_1__.jsx)(_,{$variant:s}),t]}))}),"MessageBannerBase"),D=r((_ref2=>{let{children:t}=_ref2,o=(0,_babel_runtime_helpers_objectWithoutProperties__WEBPACK_IMPORTED_MODULE_11__.A)(_ref2,_excluded2);return(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_1__.jsx)(d,_objectSpread(_objectSpread({variant:n},o),{},{children:t}))}),"MessageBannerError"),O=r((_ref3=>{let{children:t}=_ref3,o=(0,_babel_runtime_helpers_objectWithoutProperties__WEBPACK_IMPORTED_MODULE_11__.A)(_ref3,_excluded3);return(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_1__.jsx)(d,_objectSpread(_objectSpread({variant:e},o),{},{children:t}))}),"MessageBannerSuccess")}}]);