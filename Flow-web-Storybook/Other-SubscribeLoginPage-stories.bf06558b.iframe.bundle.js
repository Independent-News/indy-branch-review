"use strict";(self.webpackChunk_indy_flow_web=self.webpackChunk_indy_flow_web||[]).push([[3810],{"./stories/Other/SubscribeLoginPage.stories.js":(__unused_webpack_module,__webpack_exports__,__webpack_require__)=>{__webpack_require__.r(__webpack_exports__),__webpack_require__.d(__webpack_exports__,{AnonymousFormLoggedOut:()=>AnonymousFormLoggedOut,LoginFormLoggedOut:()=>LoginFormLoggedOut,RegisterFormLoggedOut:()=>RegisterFormLoggedOut,__namedExportsOrder:()=>__namedExportsOrder,default:()=>SubscribeLoginPage_stories});var prop_types=__webpack_require__("../node_modules/.pnpm/prop-types@15.8.1/node_modules/prop-types/index.js"),prop_types_default=__webpack_require__.n(prop_types),Helmet=__webpack_require__("../node_modules/.pnpm/react-helmet@6.1.0_react@18.3.1/node_modules/react-helmet/es/Helmet.js"),styled_components_browser_esm=__webpack_require__("../node_modules/.pnpm/styled-components@6.1.13_react-dom@18.3.1_react@18.3.1/node_modules/styled-components/dist/styled-components.browser.esm.js"),RequestProvider=__webpack_require__("./stories/__mocks__/@brightsites/flow-core/lib/providers/RequestProvider.js"),Styles=__webpack_require__("./app/config/theme/Styles.js"),ids=__webpack_require__("./app/constants/ids.js"),Footer=__webpack_require__("./app/component/library/Footer.js"),Frame=__webpack_require__("./app/component/library/Frame.js"),IndyHydrateIsland=__webpack_require__("./app/component/library/Hydration/IndyHydrateIsland.js"),doForgottenPasswordRedirectForSubscriptions=__webpack_require__("./app/public/js/doForgottenPasswordRedirectForSubscriptions.js"),defineProperty=__webpack_require__("../node_modules/.pnpm/@babel+runtime@7.25.7/node_modules/@babel/runtime/helpers/esm/defineProperty.js"),react=__webpack_require__("../node_modules/.pnpm/react@18.3.1/node_modules/react/index.js"),Icon=__webpack_require__("../ui/dist/Icon.js"),adobeConstants=__webpack_require__("./app/constants/adobeConstants.ts"),customEvents=__webpack_require__("./app/constants/customEvents.js"),loginRegForm=__webpack_require__("./app/constants/loginRegForm.js"),piano=__webpack_require__("./app/constants/piano.js"),testIds=__webpack_require__("./app/constants/testIds.js"),digital_data_session=__webpack_require__("./app/public/js/modules/digital-data/digital-data-session.ts"),util=__webpack_require__("./app/public/js/modules/util.ts"),js_piano=__webpack_require__("./app/public/js/piano.js"),defaultLogin=__webpack_require__("./app/component/library/LoginRegForm/defaultLogin.js"),CompleteYourProfileForm_styles=__webpack_require__("./app/component/library/StaticPage/PaymentFlow/Confirmation/OnboardingJourney/Card/CompleteYourProfileForm/CompleteYourProfileForm.styles.js"),LoginRegForm=__webpack_require__("./app/component/library/LoginRegForm/LoginRegForm.js"),useIsExistingUser=__webpack_require__("./app/component/library/LoginRegForm/useIsExistingUser.js"),PaymentFlow=__webpack_require__("./app/component/library/StaticPage/PaymentFlow/index.js"),objectWithoutProperties=__webpack_require__("../node_modules/.pnpm/@babel+runtime@7.25.7/node_modules/@babel/runtime/helpers/esm/objectWithoutProperties.js");const BREADCRUMB_ACCOUNT="account",Wrapper=styled_components_browser_esm.styled.header.withConfig({componentId:"sc-c8h3nd-0"})(["position:relative;padding:","px 0;background-color:",";text-align:center;"],(({theme})=>theme.spacing.x1_5),(({theme})=>theme.color.primary.light)),Title=styled_components_browser_esm.styled.h2.withConfig({componentId:"sc-c8h3nd-1"})(["margin:0 0 ","px;color:",";font:",";letter-spacing:",";"],(({theme})=>theme.spacing.x0_25),(({theme})=>theme.color.ink.base),(({theme})=>theme.textStyle.subscriptionConfirmationPage.onboardingTitle.font),(({theme})=>theme.textStyle.subscriptionConfirmationPage.onboardingTitle.letterSpacing)),OrderedList=styled_components_browser_esm.styled.ol.withConfig({componentId:"sc-c8h3nd-2"})(["display:flex;align-items:center;justify-content:center;gap:","px;padding:0;margin:0;list-style:none;"],(({theme})=>theme.spacing.x0_25)),Breadcrumb=styled_components_browser_esm.styled.li.withConfig({componentId:"sc-c8h3nd-3"})(["display:flex;align-items:center;gap:","px;color:",";font:",";text-transform:uppercase;&[aria-current='page']{color:",";font-weight:bold;}&:not(:last-child)::after{display:block;color:",";content:'/';}"],(({theme})=>theme.spacing.x0_25),(({theme})=>theme.color.ink.light),(({theme})=>theme.textStyle.subscriptionConfirmationPage.onboardingBreadcrumb),(({theme})=>theme.color.ink.base),(({theme})=>theme.color.ink.light)),PaymentBreadcrumb=(0,styled_components_browser_esm.styled)(Breadcrumb).withConfig({componentId:"sc-c8h3nd-4"})([""]),OnboardingBreadcrumb=(0,styled_components_browser_esm.styled)(Breadcrumb).withConfig({componentId:"sc-c8h3nd-5"})([""]);var jsx_runtime=__webpack_require__("../node_modules/.pnpm/react@18.3.1/node_modules/react/jsx-runtime.js");const _excluded=["title","currentPage","children"];function ownKeys(e,r){var t=Object.keys(e);if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(e);r&&(o=o.filter((function(r){return Object.getOwnPropertyDescriptor(e,r).enumerable}))),t.push.apply(t,o)}return t}function _objectSpread(e){for(var r=1;r<arguments.length;r++){var t=null!=arguments[r]?arguments[r]:{};r%2?ownKeys(Object(t),!0).forEach((function(r){(0,defineProperty.A)(e,r,t[r])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(t)):ownKeys(Object(t)).forEach((function(r){Object.defineProperty(e,r,Object.getOwnPropertyDescriptor(t,r))}))}return e}const PaymentFlowBreadcrumbs=_ref=>{let{title="Create account",currentPage=BREADCRUMB_ACCOUNT,children}=_ref,rest=(0,objectWithoutProperties.A)(_ref,_excluded);return(0,jsx_runtime.jsxs)(Wrapper,_objectSpread(_objectSpread({},rest),{},{children:[(0,jsx_runtime.jsx)(Title,{children:title}),(0,jsx_runtime.jsxs)(OrderedList,{"aria-label":"Breadcrumb",children:[(0,jsx_runtime.jsx)(Breadcrumb,_objectSpread(_objectSpread({},currentPage===BREADCRUMB_ACCOUNT&&{"aria-current":"page"}),{},{children:"Account"})),(0,jsx_runtime.jsx)(PaymentBreadcrumb,_objectSpread(_objectSpread({},"payment"===currentPage&&{"aria-current":"page"}),{},{children:"Payment"})),(0,jsx_runtime.jsx)(OnboardingBreadcrumb,_objectSpread(_objectSpread({},"onboarding"===currentPage&&{"aria-current":"page"}),{},{children:"Onboarding"}))]}),children]}))};PaymentFlowBreadcrumbs.propTypes={children:prop_types_default().node,title:prop_types_default().string,currentPage:prop_types_default().oneOf([BREADCRUMB_ACCOUNT,"payment","onboarding"])};const PaymentFlowBreadcrumbs_PaymentFlowBreadcrumbs=PaymentFlowBreadcrumbs;var devices=__webpack_require__("../ui/dist/devices.js"),LoginReg_styles=__webpack_require__("./app/component/library/LoginRegForm/LoginReg.styles.js");const LoginRegFormWithBreadcrumbsAndPayment_styles_Wrapper=styled_components_browser_esm.styled.div.withConfig({componentId:"sc-1y58qmp-0"})(["",":hover{color:inherit;}","{margin-top:","px;@media ","{margin-top:","px;}}"],LoginReg_styles.RB,CompleteYourProfileForm_styles.Uz,(({theme})=>theme.spacing.x1),devices.n5,(({theme})=>theme.spacing.x2)),BackButton=styled_components_browser_esm.styled.a.withConfig({componentId:"sc-1y58qmp-1"})(["position:absolute;top:50%;left:","px;background:none;color:",";transform:translateY(-50%);&:hover{color:",";}@media ","{left:260px;}"],(({theme})=>theme.spacing.x3),(({theme})=>theme.color.ink.base),(({theme})=>theme.color.ink.base),devices.L_);var _path;function _extends(){return _extends=Object.assign?Object.assign.bind():function(n){for(var e=1;e<arguments.length;e++){var t=arguments[e];for(var r in t)({}).hasOwnProperty.call(t,r)&&(n[r]=t[r])}return n},_extends.apply(null,arguments)}const chevronLeft=props=>react.createElement("svg",_extends({xmlns:"http://www.w3.org/2000/svg",id:"ea3d0d170a88e445",viewBox:"0 0 16 16"},props),_path||(_path=react.createElement("path",{fill:"currentColor",d:"M12 1.4 10.6 0l-8 8 8 8 1.4-1.4L5.4 8z"})));function LoginRegFormWithBreadcrumbsAndPayment_ownKeys(e,r){var t=Object.keys(e);if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(e);r&&(o=o.filter((function(r){return Object.getOwnPropertyDescriptor(e,r).enumerable}))),t.push.apply(t,o)}return t}function LoginRegFormWithBreadcrumbsAndPayment_objectSpread(e){for(var r=1;r<arguments.length;r++){var t=null!=arguments[r]?arguments[r]:{};r%2?LoginRegFormWithBreadcrumbsAndPayment_ownKeys(Object(t),!0).forEach((function(r){(0,defineProperty.A)(e,r,t[r])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(t)):LoginRegFormWithBreadcrumbsAndPayment_ownKeys(Object(t)).forEach((function(r){Object.defineProperty(e,r,Object.getOwnPropertyDescriptor(t,r))}))}return e}const LoginRegFormWithBreadcrumbsAndPayment_Icon=Icon.Ay.default||Icon.Ay,parseOfferAndTermIdsFromQuery=()=>{const[offerId,termId,stripeElementsSuccessTermId]=(0,util.ow)([piano.l_,piano.DC,piano.jL]).map((({value})=>value));return{offerId,termId,stripeElementsSuccessTermId}},showPianoCheckout=()=>{const{offerId,termId}=parseOfferAndTermIdsFromQuery();(0,js_piano.Re)({offerId,termId,trackingData:(0,digital_data_session.SA)(adobeConstants.I),isPaymentFlow:!0})},handleSuccessfulSubmission=()=>{location.reload()},handlePianoCheckoutEventsDefault=()=>{(0,js_piano.ll)(),(0,js_piano.eN)()},LoginRegFormWithBreadcrumbsAndPayment=({isUserLoggedIn=!1,existingUserOverride,forgottenPasswordLink,className,ChoosePaymentMethodButton,choosePaymentMethodSpinnerColor,choosePaymentMethodContent,handlePianoCheckoutEvents=handlePianoCheckoutEventsDefault,OptInPolicyComponent})=>{const[userEmail,setUserEmail]=(0,react.useState)(null),{userExists,isCheckingUserExists,reset}=(0,useIsExistingUser.A)(userEmail,existingUserOverride),handlePianoCheckoutEventsRef=(0,react.useRef)(handlePianoCheckoutEvents),formType=null===userExists?loginRegForm.l8:userExists?loginRegForm.fB:loginRegForm.n,breadcrumbsTitle=isUserLoggedIn?"Payment":null===userExists?"Log in or create an account":userExists?"Log in":"Create an account";return(0,react.useEffect)((()=>{if(isUserLoggedIn){const onPianoReady=()=>{handlePianoCheckoutEventsRef.current();const{stripeElementsSuccessTermId}=parseOfferAndTermIdsFromQuery();stripeElementsSuccessTermId||showPianoCheckout()};return document.addEventListener(customEvents.VW,onPianoReady),()=>{document.removeEventListener(customEvents.VW,onPianoReady)}}}),[isUserLoggedIn]),(0,jsx_runtime.jsxs)(LoginRegFormWithBreadcrumbsAndPayment_styles_Wrapper,{className,children:[(0,jsx_runtime.jsx)(PaymentFlowBreadcrumbs_PaymentFlowBreadcrumbs,LoginRegFormWithBreadcrumbsAndPayment_objectSpread(LoginRegFormWithBreadcrumbsAndPayment_objectSpread({title:breadcrumbsTitle},isUserLoggedIn&&{currentPage:"payment"}),{},{children:null!==userExists&&(0,jsx_runtime.jsx)(BackButton,{as:"button",onClick:reset,"data-testid":testIds.gn,"aria-label":"Reset form",children:(0,jsx_runtime.jsx)(LoginRegFormWithBreadcrumbsAndPayment_Icon,{svg:chevronLeft,size:Icon.Kk})})})),isUserLoggedIn?(0,jsx_runtime.jsx)(PaymentFlow.HC,{onClick:showPianoCheckout,ChoosePaymentMethodButton,spinnerColor:choosePaymentMethodSpinnerColor,"data-testid":testIds.YH,children:choosePaymentMethodContent}):(0,jsx_runtime.jsx)(LoginRegForm.A,{formType,isWaiting:isCheckingUserExists,onLogin:defaultLogin.A,setUserEmail,onLoginSuccess:handleSuccessfulSubmission,onRegisterSuccess:handleSuccessfulSubmission,loggedInPasswordHelperText:"Enter your password to log in and continue to payment",emailLabel:"Email",ctaCopy:"Continue to payment",forgottenPasswordLink,OptInPolicyComponent,children:formType===loginRegForm.n&&(0,jsx_runtime.jsx)(CompleteYourProfileForm_styles.Uz,{buttonCopy:"Continue to payment"})})]})};LoginRegFormWithBreadcrumbsAndPayment.propTypes={isUserLoggedIn:prop_types_default().bool,existingUserOverride:prop_types_default().oneOf([null,prop_types_default().bool]),forgottenPasswordLink:prop_types_default().node,className:prop_types_default().string,ChoosePaymentMethodButton:prop_types_default().elementType,choosePaymentMethodSpinnerColor:prop_types_default().string,choosePaymentMethodContent:prop_types_default().node,handlePianoCheckoutEvents:prop_types_default().func,OptInPolicyComponent:prop_types_default().elementType};const LoginRegFormWithBreadcrumbsAndPayment_LoginRegFormWithBreadcrumbsAndPayment=LoginRegFormWithBreadcrumbsAndPayment;var OptInPolicyPreTicked=__webpack_require__("./app/component/library/OptInPolicyPreTicked.js");const SubscribeLoginContent_styles_Wrapper=styled_components_browser_esm.styled.div.withConfig({componentId:"sc-yrk8t-0"})(["","{@media ","{max-width:unset;}}"],LoginReg_styles.rx,devices.V),ForgotPasswordLink=(0,styled_components_browser_esm.styled)(LoginReg_styles.XC).withConfig({componentId:"sc-yrk8t-1"})(["&:hover{color:",";}"],(({theme})=>theme.color.actionBrand.base)),forgottenPasswordLink=(0,jsx_runtime.jsx)(ForgotPasswordLink,{href:"/forgotten-password","data-testid":"subscribe-login-forgot-password-link",onClick:evt=>{evt.preventDefault(),(0,doForgottenPasswordRedirectForSubscriptions.A)()},children:"Forgotten Password"}),SubscribeLoginContent=({isUserLoggedIn=!1,existingUserOverride})=>(0,jsx_runtime.jsx)(SubscribeLoginContent_styles_Wrapper,{children:(0,jsx_runtime.jsx)(LoginRegFormWithBreadcrumbsAndPayment_LoginRegFormWithBreadcrumbsAndPayment,{isUserLoggedIn,existingUserOverride,forgottenPasswordLink,OptInPolicyComponent:OptInPolicyPreTicked.A})});SubscribeLoginContent.propTypes={isUserLoggedIn:prop_types_default().bool,existingUserOverride:prop_types_default().oneOf([null,prop_types_default().bool])};const SubscriptionLogin_SubscribeLoginContent=SubscribeLoginContent;var NativeImage=__webpack_require__("./app/component/library/Common/NativeImage.tsx");styled_components_browser_esm.styled.a.withConfig({componentId:"sc-z65ey7-0"})(["position:absolute;top:50%;left:","px;background:none;color:",";transform:translateY(-50%);&:hover{color:",";}@media ","{left:260px;}"],(({theme})=>theme.spacing.x3),(({theme})=>theme.color.ink.base),(({theme})=>theme.color.ink.base),devices.L_);const Logo=(0,styled_components_browser_esm.styled)(NativeImage.A).withConfig({componentId:"sc-z65ey7-1"})(["display:block;max-width:277px;height:auto;margin:0 auto;aspect-ratio:1 / 0.086;@media ","{max-width:370px;}@media ","{max-width:510px;}"],devices.n5,devices.L_),SubscriptionLogin_Wrapper=(0,styled_components_browser_esm.styled)(Frame.A).withConfig({componentId:"sc-1iu7uyc-0"})(["& + ","{width:100%;margin-top:0;margin-left:0;}"],Footer.J),SubscriptionLogin=({withHelmet=!0,headerLogoSource="https://static.independent.co.uk/static-assets/images/premium.png",headerLogoAlt="Independent premium",isUserLoggedIn,existingUserOverride})=>(0,jsx_runtime.jsxs)(SubscriptionLogin_Wrapper,{headerType:"simple",SimpleHeaderLogo:()=>(0,jsx_runtime.jsx)(Logo,{src:headerLogoSource,alt:headerLogoAlt}),children:[withHelmet&&(0,jsx_runtime.jsx)(Helmet.Helmet,{children:(0,jsx_runtime.jsx)("title",{children:"Subscription Login | The Independent"})}),(0,jsx_runtime.jsx)(styled_components_browser_esm.ThemeProvider,{theme:Styles.lF,children:(0,jsx_runtime.jsx)(IndyHydrateIsland.A,{id:ids.K2,children:(0,jsx_runtime.jsx)(SubscriptionLogin_SubscribeLoginContent,{isUserLoggedIn,existingUserOverride})})})]});SubscriptionLogin.propTypes={withHelmet:prop_types_default().bool,headerLogoSource:prop_types_default().string,headerLogoAlt:prop_types_default().string,isUserLoggedIn:prop_types_default().bool,existingUserOverride:prop_types_default().oneOf([null,prop_types_default().bool])};const SubscriptionLogin_SubscriptionLogin=(0,RequestProvider.ah)(SubscriptionLogin);var MockOther=__webpack_require__("./stories/helpers/components/MockOther.js");const headerLogo=(0,__webpack_require__("./stories/helpers/createImage.js").A)(0,151,0,1,[370,30]),SubscribeLoginPage_stories={title:"Other/Subscribe/Login",component:SubscriptionLogin_SubscriptionLogin,tags:["storyshot:vp:all"],decorators:[Story=>(0,jsx_runtime.jsx)(MockOther.A,{children:(0,jsx_runtime.jsx)(Story,{})})]},AnonymousFormLoggedOut={name:"Anonymous Form (logged out)",args:{withHelmet:!1,headerLogoSource:headerLogo}},RegisterFormLoggedOut={name:"Register Form (logged out)",args:{withHelmet:!1,headerLogoSource:headerLogo,existingUserOverride:!1}},LoginFormLoggedOut={name:"Login Form (logged out)",args:{withHelmet:!1,headerLogoSource:headerLogo,existingUserOverride:!0}},__namedExportsOrder=["AnonymousFormLoggedOut","RegisterFormLoggedOut","LoginFormLoggedOut"]},"./app/constants/adobeConstants.ts":(__unused_webpack_module,__webpack_exports__,__webpack_require__)=>{__webpack_require__.d(__webpack_exports__,{I:()=>TRACKING_PAYMENT_KEYS});const TRACKING_PAYMENT_KEYS=["subscription_length","subscription_price","subscription_package","initial_selected_package","marketing_opt_in","selling_page_variant"]},"./app/public/js/modules/digital-data/digital-data-session.ts":(__unused_webpack_module,__webpack_exports__,__webpack_require__)=>{__webpack_require__.d(__webpack_exports__,{Ei:()=>removeDigitalDataByKeys,SA:()=>getDigitalDataByKeys,mb:()=>storeDigitalData});var _babel_runtime_helpers_defineProperty__WEBPACK_IMPORTED_MODULE_0__=__webpack_require__("../node_modules/.pnpm/@babel+runtime@7.25.7/node_modules/@babel/runtime/helpers/esm/defineProperty.js");function ownKeys(e,r){var t=Object.keys(e);if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(e);r&&(o=o.filter((function(r){return Object.getOwnPropertyDescriptor(e,r).enumerable}))),t.push.apply(t,o)}return t}function _objectSpread(e){for(var r=1;r<arguments.length;r++){var t=null!=arguments[r]?arguments[r]:{};r%2?ownKeys(Object(t),!0).forEach((function(r){(0,_babel_runtime_helpers_defineProperty__WEBPACK_IMPORTED_MODULE_0__.A)(e,r,t[r])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(t)):ownKeys(Object(t)).forEach((function(r){Object.defineProperty(e,r,Object.getOwnPropertyDescriptor(t,r))}))}return e}const getDigitalData=()=>{var _sessionStorage$getIt;const value=null!==(_sessionStorage$getIt=sessionStorage.getItem("digitalData"))&&void 0!==_sessionStorage$getIt?_sessionStorage$getIt:"{}";return JSON.parse(value)},storeDigitalData=data=>{const stored=getDigitalData(),merged=Object.assign({},stored,data),newValue=JSON.stringify(merged);sessionStorage.setItem("digitalData",newValue)},getDigitalDataByKeys=keys=>{const stored=getDigitalData();return keys.reduce(((acc,curr)=>_objectSpread(_objectSpread({},acc),{},{[curr]:stored[curr]})),{})},removeDigitalDataByKeys=keys=>{const stored=getDigitalData();keys.forEach((key=>delete stored[key])),sessionStorage.setItem("digitalData",JSON.stringify(stored))}},"./app/component/library/OptInPolicyPreTicked.js":(__unused_webpack_module,__webpack_exports__,__webpack_require__)=>{__webpack_require__.d(__webpack_exports__,{A:()=>__WEBPACK_DEFAULT_EXPORT__});var _babel_runtime_helpers_defineProperty__WEBPACK_IMPORTED_MODULE_0__=__webpack_require__("../node_modules/.pnpm/@babel+runtime@7.25.7/node_modules/@babel/runtime/helpers/esm/defineProperty.js"),_indy_ui_Form__WEBPACK_IMPORTED_MODULE_1__=__webpack_require__("../ui/dist/Form.js"),_app_constants_ids__WEBPACK_IMPORTED_MODULE_3__=__webpack_require__("./app/constants/ids.js"),_app_constants_testIds__WEBPACK_IMPORTED_MODULE_4__=__webpack_require__("./app/constants/testIds.js"),react_jsx_runtime__WEBPACK_IMPORTED_MODULE_2__=__webpack_require__("../node_modules/.pnpm/react@18.3.1/node_modules/react/jsx-runtime.js");function ownKeys(e,r){var t=Object.keys(e);if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(e);r&&(o=o.filter((function(r){return Object.getOwnPropertyDescriptor(e,r).enumerable}))),t.push.apply(t,o)}return t}const __WEBPACK_DEFAULT_EXPORT__=props=>(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_2__.jsx)(_indy_ui_Form__WEBPACK_IMPORTED_MODULE_1__.Sc,function _objectSpread(e){for(var r=1;r<arguments.length;r++){var t=null!=arguments[r]?arguments[r]:{};r%2?ownKeys(Object(t),!0).forEach((function(r){(0,_babel_runtime_helpers_defineProperty__WEBPACK_IMPORTED_MODULE_0__.A)(e,r,t[r])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(t)):ownKeys(Object(t)).forEach((function(r){Object.defineProperty(e,r,Object.getOwnPropertyDescriptor(t,r))}))}return e}({id:_app_constants_ids__WEBPACK_IMPORTED_MODULE_3__.Et,"data-testid":_app_constants_testIds__WEBPACK_IMPORTED_MODULE_4__.Z,label:"By registering, you agree to receive emails about our services, offers and ways to enjoy our journalism. Untick to opt out",defaultChecked:!0},props))},"./app/component/library/Register/RegisterForm/Policies.js":(__unused_webpack_module,__webpack_exports__,__webpack_require__)=>{__webpack_require__.d(__webpack_exports__,{IN:()=>RecaptchaPolicy,ZZ:()=>Privacy,lx:()=>Policies});var prop_types__WEBPACK_IMPORTED_MODULE_3__=__webpack_require__("../node_modules/.pnpm/prop-types@15.8.1/node_modules/prop-types/index.js"),prop_types__WEBPACK_IMPORTED_MODULE_3___default=__webpack_require__.n(prop_types__WEBPACK_IMPORTED_MODULE_3__),styled_components__WEBPACK_IMPORTED_MODULE_1__=__webpack_require__("../node_modules/.pnpm/styled-components@6.1.13_react-dom@18.3.1_react@18.3.1/node_modules/styled-components/dist/styled-components.browser.esm.js"),_app_constants_links__WEBPACK_IMPORTED_MODULE_2__=__webpack_require__("./app/constants/links.js"),react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__=__webpack_require__("../node_modules/.pnpm/react@18.3.1/node_modules/react/jsx-runtime.js");const Wrapper=styled_components__WEBPACK_IMPORTED_MODULE_1__.styled.div.withConfig({componentId:"sc-1gvjd3p-0"})(["margin-top:24px;"]),Privacy=styled_components__WEBPACK_IMPORTED_MODULE_1__.styled.div.withConfig({componentId:"sc-1gvjd3p-1"})(["color:",";font-family:",";font-size:12px;line-height:16px;text-align:left;a{color:",";font-weight:bold;text-decoration:underline;&:hover{color:",";}}"],(({theme:{color}})=>color.ink.base),(({theme:{fontFamily}})=>fontFamily.secondaryFont),(({theme:{color}})=>color.ink.base),(({$isPremium,theme:{color}})=>$isPremium?color.premium.actionBrand.alt:color.actionBrand.alt)),RecaptchaPolicy=(0,styled_components__WEBPACK_IMPORTED_MODULE_1__.styled)(Privacy).withConfig({componentId:"sc-1gvjd3p-2"})(["margin-top:16px;"]),Policies=({isPremium,buttonCopy,className,tabIndex=0})=>(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxs)(Wrapper,{$isPremium:isPremium,className,children:[(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxs)(Privacy,{children:["By clicking ‘",buttonCopy,"’ you confirm that your data has been entered correctly and you have read and agree to our ",(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsx)("a",{href:_app_constants_links__WEBPACK_IMPORTED_MODULE_2__.IC,target:"_blank",rel:"noopener noreferrer",tabIndex,children:"Terms of use,"})," ",(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsx)("a",{href:_app_constants_links__WEBPACK_IMPORTED_MODULE_2__.xv,rel:"noopener noreferrer",target:"_blank",tabIndex,children:"Cookie policy"})," and ",(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsx)("a",{href:_app_constants_links__WEBPACK_IMPORTED_MODULE_2__.RS,target:"_blank",rel:"noopener noreferrer",tabIndex,children:"Privacy policy"}),"."]}),(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxs)(RecaptchaPolicy,{children:["This site is protected by reCAPTCHA and the Google ",(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsx)("a",{target:"_blank",rel:"noopener noreferrer",href:"https://policies.google.com/privacy?hl=en",tabIndex,children:"Privacy notice"})," and ",(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsx)("a",{target:"_blank",rel:"noopener noreferrer",href:"https://policies.google.com/terms?hl=en",tabIndex,children:"Terms of service"})," apply."]})]});Policies.propTypes={buttonCopy:prop_types__WEBPACK_IMPORTED_MODULE_3___default().string.isRequired,isPremium:prop_types__WEBPACK_IMPORTED_MODULE_3___default().bool,className:prop_types__WEBPACK_IMPORTED_MODULE_3___default().string,tabIndex:prop_types__WEBPACK_IMPORTED_MODULE_3___default().number}},"./app/component/library/StaticPage/PaymentFlow/Confirmation/OnboardingJourney/Card/CompleteYourProfileForm/CompleteYourProfileForm.styles.js":(__unused_webpack_module,__webpack_exports__,__webpack_require__)=>{__webpack_require__.d(__webpack_exports__,{Uz:()=>StyledPolicies,q:()=>StyledForm});var styled_components__WEBPACK_IMPORTED_MODULE_3__=__webpack_require__("../node_modules/.pnpm/styled-components@6.1.13_react-dom@18.3.1_react@18.3.1/node_modules/styled-components/dist/styled-components.browser.esm.js"),_indy_ui_Form__WEBPACK_IMPORTED_MODULE_0__=__webpack_require__("../ui/dist/Form.js"),_indy_ui_devices__WEBPACK_IMPORTED_MODULE_1__=__webpack_require__("../ui/dist/devices.js"),_app_component_library_Register_RegisterForm_Policies__WEBPACK_IMPORTED_MODULE_2__=__webpack_require__("./app/component/library/Register/RegisterForm/Policies.js");const StyledForm=(0,styled_components__WEBPACK_IMPORTED_MODULE_3__.styled)(_indy_ui_Form__WEBPACK_IMPORTED_MODULE_0__.lV).withConfig({componentId:"sc-11hsfpu-0"})(["@media ","{max-width:363px;margin:0 auto;}@media ","{max-width:312px;}"],_indy_ui_devices__WEBPACK_IMPORTED_MODULE_1__.n5,_indy_ui_devices__WEBPACK_IMPORTED_MODULE_1__.BY),StyledPolicies=(styled_components__WEBPACK_IMPORTED_MODULE_3__.styled.a.withConfig({componentId:"sc-11hsfpu-1"})(["display:block;margin-top:","px;color:",";font:",";text-align:center;text-decoration:underline;&:hover{color:",";}"],(({theme})=>theme.spacing.x7),(({theme})=>theme.color.ink.base),(({theme})=>theme.textStyle.subscriptionConfirmationPage.completeYourProfileForm.terms),(({theme})=>theme.color.ink.base)),(0,styled_components__WEBPACK_IMPORTED_MODULE_3__.styled)(_app_component_library_Register_RegisterForm_Policies__WEBPACK_IMPORTED_MODULE_2__.lx).withConfig({componentId:"sc-11hsfpu-2"})(["margin-top:","px;",",","{text-align:center;a{font-weight:normal;&:hover{color:",";}}}@media ","{margin-top:","px;}"],(({theme})=>theme.spacing.x1),_app_component_library_Register_RegisterForm_Policies__WEBPACK_IMPORTED_MODULE_2__.ZZ,_app_component_library_Register_RegisterForm_Policies__WEBPACK_IMPORTED_MODULE_2__.IN,(({theme})=>theme.color.ink.base),_indy_ui_devices__WEBPACK_IMPORTED_MODULE_1__.BY,(({theme})=>theme.spacing.x2)))},"./app/constants/taboola.js":(__unused_webpack_module,__webpack_exports__,__webpack_require__)=>{__webpack_require__.d(__webpack_exports__,{Ch:()=>ID_TABOOLA_NEWSROOM,DM:()=>ID_TABOOLA_MS_HERO,Ez:()=>ID_TABOOLA_BELOW_SECTION_FRONT_FEED,FE:()=>ID_TABOOLA_RIGHT_RAIL,LI:()=>ID_TABOOLA_BELOW_ARTICLE_THUMBNAILS_CRIME,OK:()=>ID_TABOOLA_CAROUSEL_THUMBNAILS,Ui:()=>ID_TABOOLA_RIGHT_RAIL_THUMBNAILS_CRIME,XO:()=>ID_TABOOLA_MID_ARTICLE_THUMBNAILS,cx:()=>ID_TABOOLA_BELOW_INDY_BEST_FEED,kw:()=>ID_TABOOLA_BELOW_ARTICLE_1,oC:()=>ID_TABOOLA_MID_ARTICLE_THUMBNAILS_CRIME,t7:()=>ID_TABOOLA_MID_ARTICLE_THUMBNAILS_LIVEBLOGS,tP:()=>ID_TABOOLA_MOBILE_BELOW_SECTION_FRONT_FEED});const ID_TABOOLA_BELOW_ARTICLE_1="taboola-below-article-1",ID_TABOOLA_BELOW_ARTICLE_THUMBNAILS_CRIME="taboola-below-article-thumbnails-crime",ID_TABOOLA_BELOW_INDY_BEST_FEED="taboola-below-indy-best-feed",ID_TABOOLA_BELOW_SECTION_FRONT_FEED="taboola-below-section-front-feed",ID_TABOOLA_MOBILE_BELOW_SECTION_FRONT_FEED="taboola-mobile-below-section-front-feed",ID_TABOOLA_CAROUSEL_THUMBNAILS="taboola-carousel-thumbnails",ID_TABOOLA_MID_ARTICLE_THUMBNAILS="taboola-mid-article-thumbnails",ID_TABOOLA_MID_ARTICLE_THUMBNAILS_CRIME="taboola-mid-article-thumbnails-crime",ID_TABOOLA_MID_ARTICLE_THUMBNAILS_LIVEBLOGS="taboola-mid-article-thumbnails-live-blogs",ID_TABOOLA_MS_HERO="taboola-ms-hero",ID_TABOOLA_NEWSROOM="taboola-newsroom",ID_TABOOLA_RIGHT_RAIL="taboola-right-rail",ID_TABOOLA_RIGHT_RAIL_THUMBNAILS_CRIME="taboola-right-rail-thumbnails-crime"},"./app/public/js/doForgottenPasswordRedirectForSubscriptions.js":(__unused_webpack_module,__webpack_exports__,__webpack_require__)=>{__webpack_require__.d(__webpack_exports__,{A:()=>__WEBPACK_DEFAULT_EXPORT__});var _app_constants_localStorage__WEBPACK_IMPORTED_MODULE_2__=__webpack_require__("./app/constants/localStorage.js"),_app_constants_piano__WEBPACK_IMPORTED_MODULE_0__=__webpack_require__("./app/constants/piano.js"),_modules_util__WEBPACK_IMPORTED_MODULE_1__=__webpack_require__("./app/public/js/modules/util.ts"),_utils_redirect__WEBPACK_IMPORTED_MODULE_3__=__webpack_require__("./app/public/js/utils/redirect.ts");const __WEBPACK_DEFAULT_EXPORT__=({offerIdParamName=_app_constants_piano__WEBPACK_IMPORTED_MODULE_0__.l_,termIdParamName=_app_constants_piano__WEBPACK_IMPORTED_MODULE_0__.DC}={})=>{const[offerId,termId]=(0,_modules_util__WEBPACK_IMPORTED_MODULE_1__.ow)([offerIdParamName,termIdParamName]).map((({value})=>value)),redirectUrl=new URL(window.location.pathname,window.location.origin);redirectUrl.searchParams.set(offerIdParamName,offerId),redirectUrl.searchParams.set(termIdParamName,termId),localStorage.setItem(_app_constants_localStorage__WEBPACK_IMPORTED_MODULE_2__.sU,redirectUrl.toString()),(0,_utils_redirect__WEBPACK_IMPORTED_MODULE_3__.V)("/forgotten-password")}},"./app/public/js/modules/custom-event-dispatchers.js":(__unused_webpack_module,__webpack_exports__,__webpack_require__)=>{__webpack_require__.r(__webpack_exports__),__webpack_require__.d(__webpack_exports__,{dispatchAccountCancellationBarrier1Click:()=>dispatchAccountCancellationBarrier1Click,dispatchAccountCancellationBarrier2Click:()=>dispatchAccountCancellationBarrier2Click,dispatchAccountCancellationContinueToPaymentClick:()=>dispatchAccountCancellationContinueToPaymentClick,dispatchAccountCancellationKeepSubscriptionClick:()=>dispatchAccountCancellationKeepSubscriptionClick,dispatchAccountCancellationReactivateSubscriptionClick:()=>dispatchAccountCancellationReactivateSubscriptionClick,dispatchAccountCancellationTakeThisOfferClick:()=>dispatchAccountCancellationTakeThisOfferClick,dispatchAccountOverviewTabChangePasswordClick:()=>dispatchAccountOverviewTabChangePasswordClick,dispatchAccountOverviewTabManageSubscriptionClick:()=>dispatchAccountOverviewTabManageSubscriptionClick,dispatchAccountOverviewTabMyDetailsClick:()=>dispatchAccountOverviewTabMyDetailsClick,dispatchAccountOverviewTabPaymentAndBillingClick:()=>dispatchAccountOverviewTabPaymentAndBillingClick,dispatchAdBlockDetected:()=>dispatchAdBlockDetected,dispatchAffiliateLinkClick:()=>dispatchAffiliateLinkClick,dispatchAndCacheChangeSubscriptionPackage:()=>dispatchAndCacheChangeSubscriptionPackage,dispatchAndCacheSubscriptionButtonClick:()=>dispatchAndCacheSubscriptionButtonClick,dispatchArticleBookmark:()=>dispatchArticleBookmark,dispatchArticleBulletedListClick:()=>dispatchArticleBulletedListClick,dispatchArticleShare:()=>dispatchArticleShare,dispatchAutoGalleryView:()=>dispatchAutoGalleryView,dispatchBlogPostArticleLinkClick:()=>dispatchBlogPostArticleLinkClick,dispatchBurgerMenuClick:()=>dispatchBurgerMenuClick,dispatchChangePaymentMethod:()=>dispatchChangePaymentMethod,dispatchCommentSubmitted:()=>dispatchCommentSubmitted,dispatchContextualInlineClick:()=>dispatchContextualInlineClick,dispatchContextualInlineNonTopicClick:()=>dispatchContextualInlineNonTopicClick,dispatchContextualInlineTopicClick:()=>dispatchContextualInlineTopicClick,dispatchDonation:()=>dispatchDonation,dispatchDonationApplePay:()=>dispatchDonationApplePay,dispatchDonationArticleBottom:()=>dispatchDonationArticleBottom,dispatchEditionLinkClick:()=>dispatchEditionLinkClick,dispatchExpandablePromptCTAPremiumClick:()=>dispatchExpandablePromptCTAPremiumClick,dispatchExpandablePromptCTATideClick:()=>dispatchExpandablePromptCTATideClick,dispatchExperienceExecuted:()=>dispatchExperienceExecuted,dispatchFlagCommentClick:()=>dispatchFlagCommentClick,dispatchFocusOnSubsRegField:()=>dispatchFocusOnSubsRegField,dispatchGalleryView:()=>dispatchGalleryView,dispatchIndy100TrendingLinkClick:()=>dispatchIndy100TrendingLinkClick,dispatchIpEBookClick:()=>dispatchIpEBookClick,dispatchIpEventClick:()=>dispatchIpEventClick,dispatchIpTabClick:()=>dispatchIpTabClick,dispatchLiveBlogBulletedListClick:()=>dispatchLiveBlogBulletedListClick,dispatchLiveBlogKeyPointsClick:()=>dispatchLiveBlogKeyPointsClick,dispatchLoadMoreComments:()=>dispatchLoadMoreComments,dispatchLoginSuccess:()=>dispatchLoginSuccess,dispatchMainNavLinkClick:()=>dispatchMainNavLinkClick,dispatchMarketingOpt:()=>dispatchMarketingOpt,dispatchMegaMenuLinkClick:()=>dispatchMegaMenuLinkClick,dispatchMostCommentedSectionClick:()=>dispatchMostCommentedSectionClick,dispatchMostPopularLinkClick:()=>dispatchMostPopularLinkClick,dispatchMostWatchedClick:()=>dispatchMostWatchedClick,dispatchMostWatchedLoad:()=>dispatchMostWatchedLoad,dispatchNotificationPromptAccept:()=>dispatchNotificationPromptAccept,dispatchNotificationPromptDismiss:()=>dispatchNotificationPromptDismiss,dispatchNotificationPromptLoad:()=>dispatchNotificationPromptLoad,dispatchPaymentDetailsFailed:()=>dispatchPaymentDetailsFailed,dispatchPaymentDetailsSuccess:()=>dispatchPaymentDetailsSuccess,dispatchPaymentFormLoaded:()=>dispatchPaymentFormLoaded,dispatchPopularVideosLinkClick:()=>dispatchPopularVideosLinkClick,dispatchPremiumArticleCTAPremiumClick:()=>dispatchPremiumArticleCTAPremiumClick,dispatchPremiumArticleCTATideClick:()=>dispatchPremiumArticleCTATideClick,dispatchPriceComparisonButtonsBuyNowClick:()=>dispatchPriceComparisonButtonsBuyNowClick,dispatchPriceComparisonListBuyNowClick:()=>dispatchPriceComparisonListBuyNowClick,dispatchProductCarouselBuyNowClick:()=>dispatchProductCarouselBuyNowClick,dispatchProductCarouselLoaded:()=>dispatchProductCarouselLoaded,dispatchProductCarouselReadReviewClick:()=>dispatchProductCarouselReadReviewClick,dispatchProductComparisonBuyNowClick:()=>dispatchProductComparisonBuyNowClick,dispatchProductComparisonCheckboxClick:()=>dispatchProductComparisonCheckboxClick,dispatchProductComparisonModalOpen:()=>dispatchProductComparisonModalOpen,dispatchProductComparisonReadReviewClick:()=>dispatchProductComparisonReadReviewClick,dispatchPushNotificationDismiss:()=>dispatchPushNotificationDismiss,dispatchPushNotificationOptIn:()=>dispatchPushNotificationOptIn,dispatchPushNotificationShown:()=>dispatchPushNotificationShown,dispatchReadMoreLinkClick:()=>dispatchReadMoreLinkClick,dispatchRegistrationFailed:()=>dispatchRegistrationFailed,dispatchRegistrationSuccess:()=>dispatchRegistrationSuccess,dispatchRegistrationSuccessStandard:()=>dispatchRegistrationSuccessStandard,dispatchRegistrationWallClick:()=>dispatchRegistrationWallClick,dispatchRelatedArticlesLinkClick:()=>dispatchRelatedArticlesLinkClick,dispatchSearch:()=>dispatchSearch,dispatchSellingPageLoaded:()=>dispatchSellingPageLoaded,dispatchShowCommentsClick:()=>dispatchShowCommentsClick,dispatchSponsoredFeaturesLinkClick:()=>dispatchSponsoredFeaturesLinkClick,dispatchStageBarrier1Click:()=>dispatchStageBarrier1Click,dispatchStageBarrier2Click:()=>dispatchStageBarrier2Click,dispatchSupportNSCLinkClick:()=>dispatchSupportNSCLinkClick,dispatchSupportNowEncoreClick:()=>dispatchSupportNowEncoreClick,dispatchTaboolaFeedLinkClick:()=>dispatchTaboolaFeedLinkClick,dispatchTempLinkClick:()=>dispatchTempLinkClick,dispatchTopicListItemClick:()=>dispatchTopicListItemClick,dispatchUpdateComponentsList:()=>dispatchUpdateComponentsList,dispatchVoteCommentClick:()=>dispatchVoteCommentClick,dispatchVoucherTickerArrowClick:()=>dispatchVoucherTickerArrowClick,dispatchVoucherTickerLinkClick:()=>dispatchVoucherTickerLinkClick,dispatchWebpushSignupClick:()=>dispatchWebpushSignupClick});var defineProperty=__webpack_require__("../node_modules/.pnpm/@babel+runtime@7.25.7/node_modules/@babel/runtime/helpers/esm/defineProperty.js"),customEvents=__webpack_require__("./app/constants/customEvents.js");function ownKeys(e,r){var t=Object.keys(e);if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(e);r&&(o=o.filter((function(r){return Object.getOwnPropertyDescriptor(e,r).enumerable}))),t.push.apply(t,o)}return t}function _objectSpread(e){for(var r=1;r<arguments.length;r++){var t=null!=arguments[r]?arguments[r]:{};r%2?ownKeys(Object(t),!0).forEach((function(r){(0,defineProperty.A)(e,r,t[r])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(t)):ownKeys(Object(t)).forEach((function(r){Object.defineProperty(e,r,Object.getOwnPropertyDescriptor(t,r))}))}return e}const createCustomEvent=(name,eventData={})=>(((title,dataObject={})=>{const dataJson=JSON.stringify(dataObject,null,2),dataWidth=dataJson.split("\n").reduce(((acc,value)=>value.length>=acc?value.length:acc),0),titleWidth=title.length,width=Math.max(titleWidth,dataWidth),titleLine=`  ${title.padEnd(width)}  `,dataLines=dataJson.split("\n").map((x=>`  ${x.padEnd(width)}  `)),dataLogLines=dataLines.length>1?`%c${dataLines.slice(0,1)}\n%c${dataLines.slice(1,-1).join("\n")}\n%c${dataLines.slice(-1)}\n`:`%c${dataLines[0]}\n`,dataLogStyles=dataLines.length>1?["font-family:monospace; background: #333; color: #eee; padding-top: 5px;","font-family:monospace; background: #333; color: #eee;","font-family:monospace; background: #333; color: #eee; padding-bottom: 10px; border-radius: 0 0 6px 6px"]:["font-family:monospace; background: #333; color: #eee; padding-top: 5px; padding-bottom: 10px; border-radius: 0 0 6px 6px"];console.log(`%c${titleLine}\n${dataLogLines}`,"font-family:monospace; background: #333; color: #eee; border-bottom: 1px solid #666; padding: 5px 0; border-radius: 6px 6px 0 0",...dataLogStyles)})(`CustomEvent: ${name}`,eventData),new CustomEvent(customEvents.ru,{detail:{data:_objectSpread({},eventData),eventName:name}})),dispatchCustomEvent=(eventName,data)=>{return event=createCustomEvent(eventName,data),void document.body.dispatchEvent(event);var event};var digital_data_session=__webpack_require__("./app/public/js/modules/digital-data/digital-data-session.ts");const cacheSubscriptionInfo=({subscription_length,subscription_price,subscription_package,selling_page_variant,subscribe_button_version})=>{(0,digital_data_session.mb)({subscription_length,subscription_price,subscription_package,selling_page_variant,subscribe_button_version})},dispatchArticleBookmark=(data={})=>dispatchCustomEvent("article_bookmark",data),dispatchAndCacheChangeSubscriptionPackage=(data={})=>(cacheSubscriptionInfo(data),dispatchCustomEvent("change_subscription_package",data)),dispatchPremiumArticleCTAPremiumClick=(data={})=>dispatchCustomEvent("premium_article_cta_premium",data),dispatchPremiumArticleCTATideClick=(data={})=>dispatchCustomEvent("premium_article_cta_tide",data),dispatchExpandablePromptCTAPremiumClick=(data={})=>dispatchCustomEvent("expandable_prompt_cta_premium",data),dispatchExpandablePromptCTATideClick=(data={})=>dispatchCustomEvent("expandable_prompt_cta_tide",data),dispatchChangePaymentMethod=(data={})=>dispatchCustomEvent("change_payment_method",data),dispatchAndCacheSubscriptionButtonClick=(data={})=>(cacheSubscriptionInfo(data),dispatchCustomEvent("subscription_button_click",data)),dispatchFocusOnSubsRegField=(data={})=>dispatchCustomEvent("focus_reg_subscription_field",data),dispatchDonation=(data={})=>dispatchCustomEvent("donation",data),dispatchDonationApplePay=(data={})=>dispatchCustomEvent("donation_apple_pay",data),dispatchDonationArticleBottom=(data={})=>dispatchCustomEvent("donation_article_bottom",data),dispatchGalleryView=(data={})=>dispatchCustomEvent("gallery_view",data),dispatchAutoGalleryView=(data={})=>dispatchCustomEvent("auto_gallery_view",data),dispatchMarketingOpt=(data={})=>dispatchCustomEvent("marketing_opt",data),dispatchRegistrationSuccess=(data={})=>dispatchCustomEvent("registration_success",data),dispatchRegistrationSuccessStandard=(data={})=>dispatchCustomEvent("registration_success_standard",data),dispatchRegistrationFailed=(data={})=>dispatchCustomEvent("registration_failed",data),dispatchLoginSuccess=(data={})=>dispatchCustomEvent("login_success",data),dispatchArticleShare=(data={})=>dispatchCustomEvent("article_share",data),dispatchSearch=(data={})=>dispatchCustomEvent("search",data),dispatchMegaMenuLinkClick=(data={})=>dispatchCustomEvent("mega_menu_link_click",data),dispatchMainNavLinkClick=(data={})=>dispatchCustomEvent("main_nav_link_click",data),dispatchMostPopularLinkClick=(data={})=>dispatchCustomEvent("most_popular_link_click",data),dispatchPopularVideosLinkClick=(data={})=>dispatchCustomEvent("popular_videos_link_click",data),dispatchSponsoredFeaturesLinkClick=(data={})=>dispatchCustomEvent("sponsored_features_link_click",data),dispatchReadMoreLinkClick=(data={})=>dispatchCustomEvent("read_more_link_click",data),dispatchIndy100TrendingLinkClick=(data={})=>dispatchCustomEvent("indy100_trending_link_click",data),dispatchTaboolaFeedLinkClick=(data={})=>dispatchCustomEvent("taboola_feed_link_click",data),dispatchRelatedArticlesLinkClick=(data={})=>dispatchCustomEvent("related_articles_link_click",data),dispatchPaymentFormLoaded=(data={})=>dispatchCustomEvent("payment_form_loaded",data),dispatchPaymentDetailsSuccess=(data={})=>dispatchCustomEvent("payment_details_success",data),dispatchPaymentDetailsFailed=(data={})=>dispatchCustomEvent("payment_details_failed",data),dispatchCommentSubmitted=(data={})=>dispatchCustomEvent("comment",data),dispatchShowCommentsClick=(data={})=>dispatchCustomEvent("show_comments_click",data),dispatchFlagCommentClick=(data={})=>dispatchCustomEvent("flag_comment_click",data),dispatchVoteCommentClick=(data={})=>dispatchCustomEvent("vote_comment_click",data),dispatchLoadMoreComments=(data={})=>dispatchCustomEvent("load_more_comments",data),dispatchIpTabClick=(data={})=>dispatchCustomEvent("ip_tab_click",data),dispatchIpEBookClick=(data={})=>dispatchCustomEvent("ip_ebook_click",data),dispatchIpEventClick=(data={})=>dispatchCustomEvent("ip_event_click",data),dispatchPushNotificationShown=(data={})=>dispatchCustomEvent("push_notification_shown",data),dispatchPushNotificationOptIn=(data={})=>dispatchCustomEvent("push_notification_optin",data),dispatchPushNotificationDismiss=(data={})=>dispatchCustomEvent("push_notification_dismiss",data),dispatchLiveBlogBulletedListClick=(data={})=>dispatchCustomEvent("liveblog_bulleted_list_click",data),dispatchArticleBulletedListClick=(data={})=>dispatchCustomEvent("article_bulleted_list_click",data),dispatchBlogPostArticleLinkClick=(data={})=>dispatchCustomEvent("blog_post_article_link_click",data),dispatchRegistrationWallClick=(data={})=>dispatchCustomEvent("registration_wall_click",data),dispatchMostWatchedLoad=(data={})=>dispatchCustomEvent("most_watched_load",data),dispatchMostWatchedClick=(data={})=>dispatchCustomEvent("most_watched_click",data),dispatchContextualInlineClick=(data={})=>dispatchCustomEvent("contextual_inline_click",data),dispatchContextualInlineTopicClick=(data={})=>dispatchCustomEvent("contextual_inline_topic_click",data),dispatchContextualInlineNonTopicClick=(data={})=>dispatchCustomEvent("contextual_inline_non_topic_click",data),dispatchLiveBlogKeyPointsClick=(data={})=>dispatchCustomEvent("liveblog_key_points_click",data),dispatchSellingPageLoaded=(data={})=>dispatchCustomEvent("selling_page_loaded",data),dispatchMostCommentedSectionClick=(data={})=>dispatchCustomEvent("most_commented_section_click",data),dispatchUpdateComponentsList=(data={})=>dispatchCustomEvent("update_components_list",data),dispatchTopicListItemClick=(data={})=>dispatchCustomEvent("article_topic_tag_click",data),dispatchAdBlockDetected=()=>dispatchCustomEvent("adblock_detected"),dispatchExperienceExecuted=(data={})=>dispatchCustomEvent("experience_executed",data),dispatchVoucherTickerLinkClick=(data={})=>dispatchCustomEvent("voucher_ticker_link_click",data),dispatchVoucherTickerArrowClick=(data={})=>dispatchCustomEvent("voucher_ticker_arrow_click",data),dispatchBurgerMenuClick=()=>dispatchCustomEvent("burger_menu_click"),dispatchEditionLinkClick=(data={})=>dispatchCustomEvent("edition_link_click",data),dispatchTempLinkClick=(data={})=>dispatchCustomEvent("temporary_link_click",data),dispatchAffiliateLinkClick=(data={})=>dispatchCustomEvent("affiliate_link_click",data),dispatchWebpushSignupClick=()=>dispatchCustomEvent("webpush_signup_click"),dispatchNotificationPromptAccept=()=>dispatchCustomEvent("notification_prompt_accept"),dispatchNotificationPromptDismiss=()=>dispatchCustomEvent("notification_prompt_dismiss"),dispatchNotificationPromptLoad=(data={})=>dispatchCustomEvent("notification_prompt_load",data),dispatchPriceComparisonListBuyNowClick=(data={})=>dispatchCustomEvent("price_comparison_list_buy_now_click",data),dispatchPriceComparisonButtonsBuyNowClick=(data={})=>dispatchCustomEvent("price_comparison_buttons_buy_now_click",data),dispatchProductCarouselLoaded=(data={})=>dispatchCustomEvent("product_comparison_carousel_load",data),dispatchProductCarouselBuyNowClick=(data={})=>dispatchCustomEvent("product_carousel_buy_now_click",data),dispatchProductCarouselReadReviewClick=(data={})=>dispatchCustomEvent("product_carousel_read_review_click",data),dispatchProductComparisonCheckboxClick=(data={})=>dispatchCustomEvent("product_comparison_checkbox_click",data),dispatchProductComparisonModalOpen=(data={})=>dispatchCustomEvent("product_comparison_modal_open",data),dispatchProductComparisonBuyNowClick=(data={})=>dispatchCustomEvent("product_comparison_modal_buy_now_click",data),dispatchProductComparisonReadReviewClick=(data={})=>dispatchCustomEvent("product_comparison_modal_read_review_click",data),dispatchAccountOverviewTabMyDetailsClick=(data={})=>dispatchCustomEvent("account_overview_tab_my_details",data),dispatchAccountOverviewTabChangePasswordClick=(data={})=>dispatchCustomEvent("account_overview_tab_change_password",data),dispatchAccountOverviewTabPaymentAndBillingClick=(data={})=>dispatchCustomEvent("account_overview_tab_payments_and_billing",data),dispatchAccountOverviewTabManageSubscriptionClick=(data={})=>dispatchCustomEvent("account_overview_tab_manage_subscription",data),dispatchAccountCancellationBarrier1Click=(data={})=>dispatchCustomEvent("account_cancellation_barrier_1",data),dispatchAccountCancellationBarrier2Click=(data={})=>dispatchCustomEvent("account_cancellation_barrier_2",data),dispatchAccountCancellationKeepSubscriptionClick=(data={})=>dispatchCustomEvent("account_cancellation_keep_subscription",data),dispatchAccountCancellationTakeThisOfferClick=(data={})=>dispatchCustomEvent("account_cancellation_take_this_offer",data),dispatchAccountCancellationContinueToPaymentClick=(data={})=>dispatchCustomEvent("account_cancellation_continue_to_payment",data),dispatchAccountCancellationReactivateSubscriptionClick=(data={})=>dispatchCustomEvent("account_cancellation_reactivate_subscription",data),dispatchStageBarrier1Click=(data={})=>dispatchCustomEvent("stage_barrier_1",data),dispatchStageBarrier2Click=(data={})=>dispatchCustomEvent("stage_barrier_2",data),dispatchSupportNSCLinkClick=(data={})=>dispatchCustomEvent("support_nsc_link_click",data),dispatchSupportNowEncoreClick=(data={})=>dispatchCustomEvent("support_now_encore_click",data)},"./app/public/js/piano.js":(__unused_webpack_module,__webpack_exports__,__webpack_require__)=>{__webpack_require__.d(__webpack_exports__,{FE:()=>addHandlers,Jo:()=>getResourceTrackingName,eN:()=>handleAlreadyHasAccessForSubscriptions,k3:()=>handleCheckoutComplete,ll:()=>handleCheckoutCompleteForSubscriptions,hl:()=>setSubscriberCookieAndRedirectToConfirmationPage,P$:()=>showMyAccount,Re:()=>showPianoOffer,Tw:()=>updateDefaultPaymentMethodOnEvent});var defineProperty=__webpack_require__("../node_modules/.pnpm/@babel+runtime@7.25.7/node_modules/@babel/runtime/helpers/esm/defineProperty.js"),cookies=__webpack_require__("./app/constants/cookies.ts"),adobeConstants=__webpack_require__("./app/constants/adobeConstants.ts"),ids=__webpack_require__("./app/constants/ids.js"),constants_localStorage=__webpack_require__("./app/constants/localStorage.js"),subscription=__webpack_require__("./app/constants/subscription.js"),redirects=__webpack_require__("./app/util/redirects.js"),cookie=__webpack_require__("./app/public/js/modules/cookie.js"),custom_event_dispatchers=__webpack_require__("./app/public/js/modules/custom-event-dispatchers.js"),digital_data_session=__webpack_require__("./app/public/js/modules/digital-data/digital-data-session.ts"),taboola=(__webpack_require__("./app/public/js/modules/log.js"),__webpack_require__("./app/constants/sectionPaths.js"),__webpack_require__("./app/constants/taboola.js")),util=__webpack_require__("./app/public/js/modules/util.ts");taboola.kw,taboola.OK,taboola.FE,taboola.cx,taboola.Ch,taboola.DM,taboola.t7,taboola.oC,taboola.LI,taboola.Ui,taboola.Ez,taboola.tP,taboola.XO,taboola.XO;var internalApi=__webpack_require__("./app/public/js/utils/internalApi.ts"),utils_redirect=__webpack_require__("./app/public/js/utils/redirect.ts");function piano_ownKeys(e,r){var t=Object.keys(e);if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(e);r&&(o=o.filter((function(r){return Object.getOwnPropertyDescriptor(e,r).enumerable}))),t.push.apply(t,o)}return t}const getResourceTrackingName=()=>{var _paymentPageContainer;const paymentPageContainer=document.getElementById(ids.dY);return(null==paymentPageContainer||null===(_paymentPageContainer=paymentPageContainer.dataset)||void 0===_paymentPageContainer?void 0:_paymentPageContainer.subscriptionResourceTrackingName)||subscription.n6},setSubscriberCookieAndRedirectToConfirmationPage=()=>{(0,cookie.TV)(cookies.iR,!0,{days:3650}),setTimeout((()=>{(0,utils_redirect.V)("/subscribe/confirmation")}))},handleCheckoutCompleteForSubscriptions=()=>{window.tp.push(["addHandler","checkoutComplete",setSubscriberCookieAndRedirectToConfirmationPage])},handleAlreadyHasAccessForSubscriptions=()=>{window.tp.push(["addHandler","customEvent",({eventName})=>{if("close-has-access"!==eventName)return;const trackingName=getResourceTrackingName(),consentOrPayOriginalUrl=localStorage.getItem(constants_localStorage.fL),hasConsentOrPayRedirect=!!consentOrPayOriginalUrl,isDonation=[subscription.aZ,subscription.jl].includes(trackingName);if((0,digital_data_session.Ei)(adobeConstants.I),!isDonation)return hasConsentOrPayRedirect?(localStorage.removeItem(constants_localStorage.fL),void(0,utils_redirect.V)(consentOrPayOriginalUrl)):void(0,utils_redirect.V)("/subscribe");(0,utils_redirect.V)((0,redirects.g8)())}])},addHandlers=(trackingData={},isPaymentFlow)=>{const trackingDataKeys=Object.keys(trackingData);window.tp=window.tp||[],window.tp.push(["addHandler","startCheckout",()=>(0,custom_event_dispatchers.dispatchPaymentFormLoaded)(trackingData)]),!isPaymentFlow&&window.tp.push(["addHandler","checkoutComplete",()=>{(0,custom_event_dispatchers.dispatchPaymentDetailsSuccess)(trackingData),function trackSubscriptionCause(){const pageUrl=localStorage.getItem(constants_localStorage.Ws);pageUrl&&(window._tfa=window._tfa=[],window._tfa.push({notify:"subscription",name:"subscription-completed",sourceurl:pageUrl}),(0,util.kG)(["//cdn.taboola.com/libtrc/unip/1018671/tfa.js"]))}(),(0,digital_data_session.Ei)(trackingDataKeys)}]),window.tp.push(["addHandler","checkoutError",()=>{(0,digital_data_session.Ei)(trackingDataKeys),(0,custom_event_dispatchers.dispatchPaymentDetailsFailed)(trackingData)}])},showPianoOffer=({offerId="",termId="",trackingData={},isPaymentFlow=!1,promoCode="",showCloseButton=!0}={})=>{addHandlers(trackingData,isPaymentFlow),window.tp=window.tp||[],window.tp.push(["init",()=>{window.tp.offer.show(function piano_objectSpread(e){for(var r=1;r<arguments.length;r++){var t=null!=arguments[r]?arguments[r]:{};r%2?piano_ownKeys(Object(t),!0).forEach((function(r){(0,defineProperty.A)(e,r,t[r])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(t)):piano_ownKeys(Object(t)).forEach((function(r){Object.defineProperty(e,r,Object.getOwnPropertyDescriptor(t,r))}))}return e}({offerId,termId,showCloseButton},promoCode&&{promoCode}))}])},showMyAccount=()=>{window.tp=window.tp||[],window.tp.push(["init",()=>{window.tp.myaccount.show({displayMode:"inline",containerSelector:`#${ids.b8}`})}])},updateDefaultPaymentMethodOnEvent=()=>{window.tp=window.tp||[],window.tp.push(["addHandler","customEvent",async({eventName,params})=>{if("default-payment-method"===eventName){const desiredPaymentMethodId=params.method;if((await internalApi.O.post("profile/set-default-payment-method",{desiredPaymentMethodId})).ok)return void showMyAccount();console.warn("Warning: failed to update default payment method.")}}])},handleCheckoutComplete=()=>{window.tp=window.tp||[],window.tp.push(["addHandler","checkoutComplete",()=>{setTimeout((()=>{(0,utils_redirect.V)("/subscribe/confirmation?save_offer=true")}))}])}}}]);