/*! For license information please see Other-ProfilePage-stories.d75ec611.iframe.bundle.js.LICENSE.txt */
(self.webpackChunk_indy_flow_web=self.webpackChunk_indy_flow_web||[]).push([[674],{"./stories/Other/ProfilePage.stories.js":(__unused_webpack_module,__webpack_exports__,__webpack_require__)=>{"use strict";__webpack_require__.r(__webpack_exports__),__webpack_require__.d(__webpack_exports__,{ProfilePageAccountOverviewStory:()=>ProfilePageAccountOverviewStory,ProfilePageChangePasswordStory:()=>ProfilePageChangePasswordStory,ProfilePageManageSubscriptionActiveSubscriberStory:()=>ProfilePageManageSubscriptionActiveSubscriberStory,ProfilePageManageSubscriptionExpiredSubscriberStory:()=>ProfilePageManageSubscriptionExpiredSubscriberStory,ProfilePageManageSubscriptionRegisteredUserStory:()=>ProfilePageManageSubscriptionRegisteredUserStory,ProfilePageMyDetailsStory:()=>ProfilePageMyDetailsStory,ProfilePagePaymentsAndBilling:()=>ProfilePagePaymentsAndBilling,ProfilePageSubscriptionCancellationBeforeYouGoStory:()=>ProfilePageSubscriptionCancellationBeforeYouGoStory,ProfilePageSubscriptionCancellationUnmissableOfferStory:()=>ProfilePageSubscriptionCancellationUnmissableOfferStory,__namedExportsOrder:()=>__namedExportsOrder,default:()=>ProfilePage_stories});var defineProperty=__webpack_require__("../node_modules/.pnpm/@babel+runtime@7.25.7/node_modules/@babel/runtime/helpers/esm/defineProperty.js"),constants_subscription=__webpack_require__("./app/constants/subscription.js"),objectWithoutProperties=__webpack_require__("../node_modules/.pnpm/@babel+runtime@7.25.7/node_modules/@babel/runtime/helpers/esm/objectWithoutProperties.js"),prop_types=__webpack_require__("../node_modules/.pnpm/prop-types@15.8.1/node_modules/prop-types/index.js"),prop_types_default=__webpack_require__.n(prop_types),react=__webpack_require__("../node_modules/.pnpm/react@18.3.1/node_modules/react/index.js"),styled_components_browser_esm=__webpack_require__("../node_modules/.pnpm/styled-components@6.1.13_react-dom@18.3.1_react@18.3.1/node_modules/styled-components/dist/styled-components.browser.esm.js"),types=__webpack_require__("./app/types/index.js");const UserAccessInfoType=prop_types_default().shape({access_id:prop_types_default().string,resource:prop_types_default().shape({name:prop_types_default().string}),user:prop_types_default().shape({first_name:prop_types_default().string})});var classnames=__webpack_require__("../node_modules/.pnpm/classnames@2.5.1/node_modules/classnames/index.js"),classnames_default=__webpack_require__.n(classnames),devices=__webpack_require__("./app/constants/devices.js"),Button=__webpack_require__("../ui/dist/Button.js"),Styles=__webpack_require__("./app/config/theme/Styles.js"),dist=__webpack_require__("../icons/dist/index.js"),FeatureList=__webpack_require__("../ui/dist/FeatureList.js"),Icon=__webpack_require__("../ui/dist/Icon.js"),jsx_runtime=__webpack_require__("../node_modules/.pnpm/react@18.3.1/node_modules/react/jsx-runtime.js");const FeatureListProfile_FeatureList=FeatureList.Ay.default||FeatureList.Ay,StyledFeatureList=(0,styled_components_browser_esm.styled)(FeatureListProfile_FeatureList).withConfig({componentId:"sc-1lu76zg-0"})(["margin-bottom:26px;","{color:",";}"],FeatureList.hh,(({theme})=>theme.color.primary.base)),features=["Full access to Premium news analysis","Advert-free reading across web and app","The Independent Daily Edition newspaper","Puzzles, virtual event tickets and more"].map((feature=>({feature,icon:dist.Nd,iconSize:Icon.CW}))),FeatureListProfile=({className})=>(0,jsx_runtime.jsx)(StyledFeatureList,{className,features});FeatureListProfile.propTypes={className:prop_types_default().string};const _excluded=["icon"];function ownKeys(e,r){var t=Object.keys(e);if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(e);r&&(o=o.filter((function(r){return Object.getOwnPropertyDescriptor(e,r).enumerable}))),t.push.apply(t,o)}return t}function _objectSpread(e){for(var r=1;r<arguments.length;r++){var t=null!=arguments[r]?arguments[r]:{};r%2?ownKeys(Object(t),!0).forEach((function(r){(0,defineProperty.A)(e,r,t[r])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(t)):ownKeys(Object(t)).forEach((function(r){Object.defineProperty(e,r,Object.getOwnPropertyDescriptor(t,r))}))}return e}const JoinToday_Button=Button.Ay.default||Button.Ay,Wrapper=styled_components_browser_esm.styled.section.withConfig({componentId:"sc-1su1flf-0"})(["--text-align:center;--flex-alignment:center;display:flex;flex-direction:column;align-items:var(--flex-alignment);@media ","{--text-align:left;--flex-alignment:flex-start;}"],devices.n5),Title=styled_components_browser_esm.styled.h2.withConfig({componentId:"sc-1su1flf-1"})(["margin:0 0 6px 0;color:",";font:",";text-align:var(--text-align);@media ","{white-space:nowrap;}"],(({theme})=>theme.color.actionBrand.alt),(({theme})=>theme.textStyle.profile.subscription.offerToJoin.title),devices.n5),SubTitle=styled_components_browser_esm.styled.p.withConfig({componentId:"sc-1su1flf-2"})(["margin:0 0 26px 0;color:",";font:",";text-align:var(--text-align);"],(({theme})=>theme.color.ink.base),(({theme})=>theme.textStyle.profile.subscription.offerToJoin.subtitle)),JoinToday=_ref=>{let{icon}=_ref,rest=(0,objectWithoutProperties.A)(_ref,_excluded);return(0,jsx_runtime.jsx)(styled_components_browser_esm.ThemeProvider,{theme:Styles.lF,children:(0,jsx_runtime.jsxs)(Wrapper,_objectSpread(_objectSpread({},rest),{},{children:[(0,jsx_runtime.jsx)(Title,{children:"You do not currently have an active subscription."}),(0,jsx_runtime.jsx)(SubTitle,{children:"Join us today to enjoy:"}),(0,jsx_runtime.jsx)(FeatureListProfile,{icon}),(0,jsx_runtime.jsx)(JoinToday_Button,{href:"/subscribe",as:Button.wW,variant:Button.YG,size:Button.Zz,children:"View plans"})]}))})};JoinToday.propTypes={icon:prop_types_default().element};var dayjs_min=__webpack_require__("../node_modules/.pnpm/dayjs@1.11.10/node_modules/dayjs/dayjs.min.js"),dayjs_min_default=__webpack_require__.n(dayjs_min),currencies=__webpack_require__("./app/constants/currencies.js"),internalApi=__webpack_require__("./app/public/js/utils/internalApi.ts"),constants=__webpack_require__("./app/public/js/modules/braze/constants.ts"),initBrazeAndLogEvent=__webpack_require__("./app/public/js/modules/braze/initBrazeAndLogEvent.ts");const updateUserAutoRenew=async({subscriptionId,autoRenew,onSuccessfulRequest=()=>{}}={})=>{var payload;autoRenew?(0,initBrazeAndLogEvent.i)(constants.WI,payload):(payload=>{(0,initBrazeAndLogEvent.i)(constants.Kz,payload)})();try{if((await internalApi.O.post("subscription/cancel",{autoRenew,subscriptionId})).ok)return void onSuccessfulRequest();throw new Error("Network response was not ok.")}catch(error){console.error("Fetch failed: ",error.message)}};var MessageBanner=__webpack_require__("../ui/dist/MessageBanner.js");function SubscriptionStatusConfirmationBanner_ownKeys(e,r){var t=Object.keys(e);if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(e);r&&(o=o.filter((function(r){return Object.getOwnPropertyDescriptor(e,r).enumerable}))),t.push.apply(t,o)}return t}function SubscriptionStatusConfirmationBanner_objectSpread(e){for(var r=1;r<arguments.length;r++){var t=null!=arguments[r]?arguments[r]:{};r%2?SubscriptionStatusConfirmationBanner_ownKeys(Object(t),!0).forEach((function(r){(0,defineProperty.A)(e,r,t[r])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(t)):SubscriptionStatusConfirmationBanner_ownKeys(Object(t)).forEach((function(r){Object.defineProperty(e,r,Object.getOwnPropertyDescriptor(t,r))}))}return e}const MessageBannerBase=MessageBanner.Ay.default||MessageBanner.Ay,Message=styled_components_browser_esm.styled.p.withConfig({componentId:"sc-nlx7mh-0"})(["margin:0;"]),SubscriptionStatusBannerRenewed=props=>(0,jsx_runtime.jsx)(MessageBanner.HX,SubscriptionStatusConfirmationBanner_objectSpread(SubscriptionStatusConfirmationBanner_objectSpread({},props),{},{children:(0,jsx_runtime.jsx)(Message,{children:"You have successfully renewed your subscription"})})),SubscriptionStatusBannerReactivated=props=>(0,jsx_runtime.jsx)(MessageBanner.HX,SubscriptionStatusConfirmationBanner_objectSpread(SubscriptionStatusConfirmationBanner_objectSpread({},props),{},{children:(0,jsx_runtime.jsx)(Message,{children:"You have successfully reactivated your subscription"})})),SubscriptionStatusBannerCancelled=props=>(0,jsx_runtime.jsx)(MessageBannerBase,SubscriptionStatusConfirmationBanner_objectSpread(SubscriptionStatusConfirmationBanner_objectSpread({},props),{},{children:(0,jsx_runtime.jsx)(Message,{children:"You have successfully cancelled your subscription"})})),SubscriptionStatusBannerRenderer=({liveSubscriptionStatus=""})=>({renewed:(0,jsx_runtime.jsx)(SubscriptionStatusBannerRenewed,{}),reactivated:(0,jsx_runtime.jsx)(SubscriptionStatusBannerReactivated,{}),cancelled:(0,jsx_runtime.jsx)(SubscriptionStatusBannerCancelled,{})}[liveSubscriptionStatus]||null);SubscriptionStatusBannerRenderer.propTypes={liveSubscriptionStatus:prop_types_default().string};var ids=__webpack_require__("./app/constants/ids.js"),testIds=__webpack_require__("./app/constants/testIds.js"),custom_event_dispatchers=__webpack_require__("./app/public/js/modules/custom-event-dispatchers.js");const ProceedToCancelSubscription_Button=Button.Ay.default||Button.Ay,ProceedToCancelSubscription_Wrapper=styled_components_browser_esm.styled.div.withConfig({componentId:"sc-1obdw2f-0"})([""]),CancelSubscriptionMessage=styled_components_browser_esm.styled.p.withConfig({componentId:"sc-1obdw2f-1"})(["margin:0 0 ","px;color:",";font-family:",";font-size:16px;line-height:20px;"],(({theme})=>theme.spacing.x3),(({theme})=>theme.color.ink.muted),(({theme})=>theme.fontFamily.secondaryFont)),CancelSubscriptionButton=(0,styled_components_browser_esm.styled)(ProceedToCancelSubscription_Button).attrs({variant:Button.Kn}).withConfig({componentId:"sc-1obdw2f-2"})(["margin:0 0 0 ","px;"],(({theme})=>-1*theme.spacing.x2)),ProceedToCancelSubscription=({subscriptionId,cancellationJourneyData,toggleIsUserCancellingSubscription,isAdFreeSubscription=!1,toggleSubscriptionStatus,handleOnSubscriptionStatusChange})=>{const handleOnCancelClick=isAdFreeSubscription?()=>{(0,custom_event_dispatchers.dispatchAccountCancellationBarrier1Click)(),updateUserAutoRenew({subscriptionId,autoRenew:!1,onSuccessfulRequest:()=>{toggleSubscriptionStatus(subscriptionId),handleOnSubscriptionStatusChange("cancelled")}})}:()=>{cancellationJourneyData.current.subscriptionIdToUpdate=subscriptionId,cancellationJourneyData.current.shouldRenderManageSubscriptionAfterCancellation=!0,(0,custom_event_dispatchers.dispatchAccountCancellationBarrier1Click)(),toggleIsUserCancellingSubscription()};return(0,jsx_runtime.jsxs)(ProceedToCancelSubscription_Wrapper,{children:[(0,jsx_runtime.jsx)(CancelSubscriptionMessage,{children:"If you would like to cancel your subscription, click below to proceed. Please note your subscription will end on your next renewal date and there will be no refunds for remaining access."}),(0,jsx_runtime.jsx)(CancelSubscriptionButton,{id:ids.AS,onClick:handleOnCancelClick,"data-testid":testIds.UL,children:"Cancel subscription"})]})};ProceedToCancelSubscription.propTypes={subscriptionId:prop_types_default().string,cancellationJourneyData:prop_types_default().object,toggleIsUserCancellingSubscription:prop_types_default().func.isRequired,isAdFreeSubscription:prop_types_default().bool,toggleSubscriptionStatus:prop_types_default().func,handleOnSubscriptionStatusChange:prop_types_default().func};const ReactivateSubscription_excluded=["subscriptionEndDate","subscriptionId","updateUserAutoRenew","toggleSubscriptionStatus","handleOnSubscriptionStatusChange","cancellationJourneyData","isAdFreeSubscription"];function ReactivateSubscription_ownKeys(e,r){var t=Object.keys(e);if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(e);r&&(o=o.filter((function(r){return Object.getOwnPropertyDescriptor(e,r).enumerable}))),t.push.apply(t,o)}return t}function ReactivateSubscription_objectSpread(e){for(var r=1;r<arguments.length;r++){var t=null!=arguments[r]?arguments[r]:{};r%2?ReactivateSubscription_ownKeys(Object(t),!0).forEach((function(r){(0,defineProperty.A)(e,r,t[r])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(t)):ReactivateSubscription_ownKeys(Object(t)).forEach((function(r){Object.defineProperty(e,r,Object.getOwnPropertyDescriptor(t,r))}))}return e}const ReactivateSubscription_Button=Button.Ay.default||Button.Ay,ReactivateSubscription_Wrapper=styled_components_browser_esm.styled.div.withConfig({componentId:"sc-1ptf69j-0"})(["border-top:1px solid ",";"],(({theme})=>theme.color.divider.light)),Description=styled_components_browser_esm.styled.p.withConfig({componentId:"sc-1ptf69j-1"})(["margin:","px 0;color:",";font-family:",";font-size:18px;line-height:22px;"],(({theme})=>theme.spacing.x3),(({theme})=>theme.color.ink.base),(({theme})=>theme.fontFamily.secondaryFont)),EndDate=styled_components_browser_esm.styled.strong.withConfig({componentId:"sc-1ptf69j-2"})([""]),ReactivateSubscription=_ref=>{let{subscriptionEndDate="",subscriptionId,updateUserAutoRenew,toggleSubscriptionStatus,handleOnSubscriptionStatusChange,cancellationJourneyData,isAdFreeSubscription}=_ref,rest=(0,objectWithoutProperties.A)(_ref,ReactivateSubscription_excluded);const handleOnSuccessfulRequest=()=>{toggleSubscriptionStatus(subscriptionId),handleOnSubscriptionStatusChange("reactivated")},endDate=(0,jsx_runtime.jsx)(EndDate,{children:(date=subscriptionEndDate,dayjs_min_default().unix(date).format("D MMMM YYYY"))});var date;return(0,jsx_runtime.jsxs)(ReactivateSubscription_Wrapper,ReactivateSubscription_objectSpread(ReactivateSubscription_objectSpread({},rest),{},{children:[(0,jsx_runtime.jsx)(Description,{children:isAdFreeSubscription?(0,jsx_runtime.jsxs)(jsx_runtime.Fragment,{children:["Your subscription’s access will now end on ",endDate,". To continue beyond this date, please reactivate your subscription."]}):(0,jsx_runtime.jsxs)(jsx_runtime.Fragment,{children:["Your subscription’s Premium access will now end on ",endDate,". To continue enjoying Independent Premium beyond this date, please reactivate your subscription."]})}),(0,jsx_runtime.jsx)(ReactivateSubscription_Button,{id:ids.C0,size:Button.Zz,onClick:()=>{(0,custom_event_dispatchers.dispatchAccountCancellationReactivateSubscriptionClick)(),updateUserAutoRenew({subscriptionId,autoRenew:!0,onSuccessfulRequest:handleOnSuccessfulRequest})},children:"reactivate subscription"})]}))};ReactivateSubscription.propTypes={subscriptionEndDate:prop_types_default().number.isRequired,subscriptionId:prop_types_default().string.isRequired,updateUserAutoRenew:prop_types_default().func.isRequired,toggleSubscriptionStatus:prop_types_default().func.isRequired,handleOnSubscriptionStatusChange:prop_types_default().func.isRequired,cancellationJourneyData:prop_types_default().object.isRequired,isAdFreeSubscription:prop_types_default().bool};var piano=__webpack_require__("./app/constants/piano.js"),formatPriceByCurrency=__webpack_require__("./app/util/formatPriceByCurrency.js"),propTypes=__webpack_require__("./app/component/library/Common/Accordion/propTypes.js");function UserSubscription_ownKeys(e,r){var t=Object.keys(e);if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(e);r&&(o=o.filter((function(r){return Object.getOwnPropertyDescriptor(e,r).enumerable}))),t.push.apply(t,o)}return t}const UserSubscription_Wrapper=styled_components_browser_esm.styled.div.withConfig({componentId:"sc-pt5wdy-0"})([""]),UserSubscription_Title=styled_components_browser_esm.styled.th.withConfig({componentId:"sc-pt5wdy-1"})(["display:block;margin-bottom:6px;margin-left:-1px;color:",";font-family:",";font-size:24px;line-height:28px;"],(props=>props.theme.color.ink.base),(props=>props.theme.fontFamily.secondaryFont)),Table=styled_components_browser_esm.styled.table.withConfig({componentId:"sc-pt5wdy-2"})(["display:block;"]),TableHead=styled_components_browser_esm.styled.thead.withConfig({componentId:"sc-pt5wdy-3"})(["display:block;margin-bottom:28px;border-bottom:1px solid ",";tr{display:block;text-align:left;}"],(props=>props.theme.color.divider.light)),TableBody=styled_components_browser_esm.styled.tbody.withConfig({componentId:"sc-pt5wdy-4"})(["display:block;"]),TableRow=styled_components_browser_esm.styled.tr.withConfig({componentId:"sc-pt5wdy-5"})(["display:block;&:not(:last-child){padding-bottom:16px;}"]),TableRowAccented=(0,styled_components_browser_esm.styled)(TableRow).withConfig({componentId:"sc-pt5wdy-6"})(["color:",";"],(props=>props.theme.color.primary.base)),TableRowTransaction=(0,styled_components_browser_esm.styled)(TableRow).withConfig({componentId:"sc-pt5wdy-7"})([""]),TableContent=styled_components_browser_esm.styled.td.withConfig({componentId:"sc-pt5wdy-8"})(["display:block;font-size:19px;font-weight:normal;line-height:23px;&:first-child{padding-bottom:4px;font-weight:bold;}"]),TableContentPlan=(0,styled_components_browser_esm.styled)(TableContent).withConfig({componentId:"sc-pt5wdy-9"})(["display:flex;align-items:center;"]),paymentCycle=term=>{const price=(0,formatPriceByCurrency.$)(term.currency,term.price);return-1===piano.x1.indexOf(term.length)?`${price} per ${term.length}`:term.length===piano.$W?`${price} one-off`:`${price} per ${piano.vj[term.length]}`},UserSubscription=({children,title,subscription,isOngoingSubscription,subscriptionEndDate,className})=>{const{userPaymentsInfo}=subscription,paymentResourceName=userPaymentsInfo.term.resourceName;return(0,jsx_runtime.jsx)(UserSubscription_Wrapper,{className,children:(0,jsx_runtime.jsxs)(Table,{children:[(0,jsx_runtime.jsx)(TableHead,{children:(0,jsx_runtime.jsx)("tr",{children:(0,jsx_runtime.jsx)(UserSubscription_Title,{children:title})})}),(0,jsx_runtime.jsxs)(TableBody,{children:[isOngoingSubscription&&(0,jsx_runtime.jsxs)(TableRowAccented,{children:[(0,jsx_runtime.jsx)(TableContent,{children:"End Date"}),(0,jsx_runtime.jsx)(TableContent,{children:subscriptionEndDate})]}),(0,jsx_runtime.jsxs)(TableRowTransaction,{children:[(0,jsx_runtime.jsx)(TableContent,{children:"Transaction Number"}),(0,jsx_runtime.jsx)(TableContent,{children:userPaymentsInfo.transactionNumber})]}),(0,jsx_runtime.jsxs)(TableRow,{children:[(0,jsx_runtime.jsx)(TableContentPlan,{children:"Plan"}),(0,jsx_runtime.jsxs)(TableContent,{children:[" ",paymentResourceName," "]})]}),(0,jsx_runtime.jsxs)(TableRow,{children:[(0,jsx_runtime.jsx)(TableContent,{children:"Payment Cycle"}),(0,jsx_runtime.jsx)(TableContent,{children:paymentCycle(userPaymentsInfo.term)})]}),children]})]})})},UserSubscriptionActive=({formatDate,subscription,subscriptionCurrency})=>(0,jsx_runtime.jsx)(UserSubscription,{title:"Current subscription",subscription,children:(0,jsx_runtime.jsxs)(TableRow,{children:[(0,jsx_runtime.jsx)(TableContent,{children:"Next Payment"}),(0,jsx_runtime.jsxs)(TableContent,{children:["Due on"," ",formatDate(subscription.userPaymentsInfo.nextBillingDate,subscriptionCurrency)]})]})}),UserSubscriptionCancelled=(0,styled_components_browser_esm.styled)((props=>(0,jsx_runtime.jsx)(UserSubscription,function UserSubscription_objectSpread(e){for(var r=1;r<arguments.length;r++){var t=null!=arguments[r]?arguments[r]:{};r%2?UserSubscription_ownKeys(Object(t),!0).forEach((function(r){(0,defineProperty.A)(e,r,t[r])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(t)):UserSubscription_ownKeys(Object(t)).forEach((function(r){Object.defineProperty(e,r,Object.getOwnPropertyDescriptor(t,r))}))}return e}({title:"Cancelled subscription"},props)))).withConfig({componentId:"sc-pt5wdy-10"})(["","::after{padding:6px 8px 4px;margin-left:12px;background-color:",";color:",";content:'cancelled';font-size:11px;font-weight:",";line-height:11px;text-transform:uppercase;}",""],TableContentPlan,(props=>props.theme.color.primary.base),(props=>props.theme.color.canvas.base),(props=>props.theme.fontWeight.bold),(({isOngoingSubscription})=>isOngoingSubscription&&(0,styled_components_browser_esm.css)(["","{padding-bottom:32px;}"],TableBody))),UserSubscriptionCancelledLive=(0,styled_components_browser_esm.styled)(UserSubscriptionCancelled).withConfig({componentId:"sc-pt5wdy-11"})(["","{display:none;}"],TableRowTransaction);UserSubscriptionActive.propTypes={subscription:types.pt.isRequired,subscriptionCurrency:prop_types_default().string.isRequired,formatDate:prop_types_default().func.isRequired},UserSubscription.propTypes={title:prop_types_default().string.isRequired,subscription:types.pt.isRequired,children:propTypes.S,className:prop_types_default().string,subscriptionEndDate:prop_types_default().string,isOngoingSubscription:prop_types_default().bool};const UserSubscriptions_Wrapper=styled_components_browser_esm.styled.div.withConfig({componentId:"sc-9ay1cl-0"})(["display:flex;flex-direction:column;gap:32px;@media ","{padding-top:8px;}"],devices.n5),InnerWrapper=styled_components_browser_esm.styled.div.withConfig({componentId:"sc-9ay1cl-1"})(["padding-bottom:32px;font-family:",";&:not(:last-child){border-bottom:1px dashed ",";}"],(({theme})=>theme.fontFamily.secondaryFont),(props=>props.theme.color.ink.base)),UserSubscriptions=({userSubscriptionsInfo,formatDate,subscriptionAutoRenewStatuses,updateUserAutoRenew,toggleSubscriptionStatus,handleOnSubscriptionStatusChange,liveSubscriptionStatus,cancellationJourneyData,toggleIsUserCancellingSubscription,currentTimestampSeconds})=>(0,jsx_runtime.jsx)(UserSubscriptions_Wrapper,{children:userSubscriptionsInfo.map((subscription=>{var _subscription$userPay,_subscription$userPay2,_subscription$userPay3,_subscription$userPay4,_subscription$userPay5;const subscriptionEndDate=(null===(_subscription$userPay=subscription.userPaymentsInfo)||void 0===_subscription$userPay?void 0:_subscription$userPay.nextBillingDate)||(null===(_subscription$userPay2=subscription.userPaymentsInfo)||void 0===_subscription$userPay2?void 0:_subscription$userPay2.finalEndDate),subscriptionCurrency=null===(_subscription$userPay3=subscription.userPaymentsInfo)||void 0===_subscription$userPay3||null===(_subscription$userPay3=_subscription$userPay3.term)||void 0===_subscription$userPay3?void 0:_subscription$userPay3.currency,subscriptionEndDateFormatted=formatDate(subscriptionEndDate,subscriptionCurrency),isOngoingSubscription=subscriptionEndDate>currentTimestampSeconds,isSubscriptionCancelled="cancelled"===(null===(_subscription$userPay4=subscription.userPaymentsInfo)||void 0===_subscription$userPay4?void 0:_subscription$userPay4.status),canRenewSubscription=isOngoingSubscription&&!isSubscriptionCancelled,subscriptionId=subscription.userPaymentsInfo.transactionNumber,CancelledComponent="cancelled"===liveSubscriptionStatus?UserSubscriptionCancelledLive:UserSubscriptionCancelled,isAdFreeSubscription=(null===(_subscription$userPay5=subscription.userPaymentsInfo.term)||void 0===_subscription$userPay5?void 0:_subscription$userPay5.resourceName)===constants_subscription.wW,themeToUse=isAdFreeSubscription?Styles.$7:Styles.lF;return(0,jsx_runtime.jsx)(styled_components_browser_esm.ThemeProvider,{theme:themeToUse,children:null!=subscriptionAutoRenewStatuses&&subscriptionAutoRenewStatuses[subscriptionId]?(0,jsx_runtime.jsxs)(react.Fragment,{children:[(0,jsx_runtime.jsx)(InnerWrapper,{children:(0,jsx_runtime.jsx)(UserSubscriptionActive,{formatDate,subscription,subscriptionCurrency})}),isOngoingSubscription&&(0,jsx_runtime.jsx)(ProceedToCancelSubscription,{subscriptionId,cancellationJourneyData,toggleIsUserCancellingSubscription,toggleSubscriptionStatus,handleOnSubscriptionStatusChange,isAdFreeSubscription})]}):(0,jsx_runtime.jsxs)(InnerWrapper,{children:[(0,jsx_runtime.jsx)(styled_components_browser_esm.ThemeProvider,{theme:Styles.$7,children:(0,jsx_runtime.jsx)(CancelledComponent,{subscription,isOngoingSubscription,subscriptionEndDate:subscriptionEndDateFormatted})}),canRenewSubscription&&(0,jsx_runtime.jsx)(ReactivateSubscription,{subscriptionEndDate,subscriptionId,updateUserAutoRenew,toggleSubscriptionStatus,handleOnSubscriptionStatusChange,cancellationJourneyData,isAdFreeSubscription})]})},subscriptionId)}))});function SubscriptionPayments_ownKeys(e,r){var t=Object.keys(e);if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(e);r&&(o=o.filter((function(r){return Object.getOwnPropertyDescriptor(e,r).enumerable}))),t.push.apply(t,o)}return t}function SubscriptionPayments_objectSpread(e){for(var r=1;r<arguments.length;r++){var t=null!=arguments[r]?arguments[r]:{};r%2?SubscriptionPayments_ownKeys(Object(t),!0).forEach((function(r){(0,defineProperty.A)(e,r,t[r])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(t)):SubscriptionPayments_ownKeys(Object(t)).forEach((function(r){Object.defineProperty(e,r,Object.getOwnPropertyDescriptor(t,r))}))}return e}UserSubscriptions.propTypes={userSubscriptionsInfo:prop_types_default().arrayOf(types.pt).isRequired,formatDate:prop_types_default().func.isRequired,subscriptionAutoRenewStatuses:prop_types_default().object,updateUserAutoRenew:prop_types_default().func,toggleSubscriptionStatus:prop_types_default().func.isRequired,handleOnSubscriptionStatusChange:prop_types_default().func.isRequired,liveSubscriptionStatus:prop_types_default().string,cancellationJourneyData:prop_types_default().object,toggleIsUserCancellingSubscription:prop_types_default().func.isRequired,currentTimestampSeconds:prop_types_default().number.isRequired};const SubscriptionPayments_Wrapper=styled_components_browser_esm.styled.div.withConfig({componentId:"sc-1c6gqvh-0"})([""]),SubscriptionPayments_formatDate=(date,currency=currencies.tX)=>dayjs_min_default().unix(date).toDate().toLocaleDateString(currency===currencies.tL?"en-US":"en-GB"),currentTimestampSeconds=Math.floor(Date.now()/1e3),SubscriptionPayments=({userSubscriptionsInfo,cancellationJourneyData,toggleIsUserCancellingSubscription})=>{const{userSubscriptionAutoRenewStatus}=cancellationJourneyData.current,[subscriptionAutoRenewStatuses,setSubscriptionAutoRenewStatuses]=(0,react.useState)(((userSubscriptionsInfo,userSubscriptionAutoRenewStatus)=>userSubscriptionAutoRenewStatus||userSubscriptionsInfo.reduce(((acc,{userPaymentsInfo})=>{const isOngoingSubscription=((null==userPaymentsInfo?void 0:userPaymentsInfo.nextBillingDate)||(null==userPaymentsInfo?void 0:userPaymentsInfo.finalEndDate))>currentTimestampSeconds,isSubscriptionCancelled="cancelled"===(null==userPaymentsInfo?void 0:userPaymentsInfo.status),canRenewSubscription=isOngoingSubscription&&!isSubscriptionCancelled,subscriptionId=userPaymentsInfo.transactionNumber,initialStateValue=userPaymentsInfo.autoRenew;return SubscriptionPayments_objectSpread(SubscriptionPayments_objectSpread({},acc),canRenewSubscription&&{[subscriptionId]:initialStateValue})}),{}))(userSubscriptionsInfo,userSubscriptionAutoRenewStatus)),[liveSubscriptionStatus,setLiveSubscriptionStatus]=(0,react.useState)(cancellationJourneyData.current.targetSubscriptionStatus);return(0,react.useEffect)((()=>{cancellationJourneyData.current.userSubscriptionAutoRenewStatus=subscriptionAutoRenewStatuses}),[userSubscriptionAutoRenewStatus,subscriptionAutoRenewStatuses,cancellationJourneyData]),(0,react.useEffect)((()=>{cancellationJourneyData.current.targetSubscriptionStatus="",cancellationJourneyData.current.shouldRenderManageSubscriptionAfterCancellation=!1,window.scrollTo(0,0)}),[cancellationJourneyData]),(0,jsx_runtime.jsxs)(SubscriptionPayments_Wrapper,{children:[(0,jsx_runtime.jsx)(SubscriptionStatusBannerRenderer,{liveSubscriptionStatus}),(0,jsx_runtime.jsx)(UserSubscriptions,{userSubscriptionsInfo,formatDate:SubscriptionPayments_formatDate,subscriptionAutoRenewStatuses,updateUserAutoRenew,toggleSubscriptionStatus:targetSubscriptionKey=>(targetSubscriptionKey=>setSubscriptionAutoRenewStatuses((prevState=>SubscriptionPayments_objectSpread(SubscriptionPayments_objectSpread({},prevState),{},{[targetSubscriptionKey]:!prevState[targetSubscriptionKey]}))))(targetSubscriptionKey),handleOnSubscriptionStatusChange:targetState=>setLiveSubscriptionStatus(targetState),liveSubscriptionStatus,cancellationJourneyData,toggleIsUserCancellingSubscription,currentTimestampSeconds})]})};SubscriptionPayments.propTypes={userSubscriptionsInfo:prop_types_default().arrayOf(types.pt).isRequired,cancellationJourneyData:prop_types_default().object,toggleIsUserCancellingSubscription:prop_types_default().func.isRequired};const pages_SubscriptionPayments=SubscriptionPayments,ManageSubscriptionPremium_excluded=["userSubscriptionsInfo"];function ManageSubscriptionPremium_ownKeys(e,r){var t=Object.keys(e);if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(e);r&&(o=o.filter((function(r){return Object.getOwnPropertyDescriptor(e,r).enumerable}))),t.push.apply(t,o)}return t}const ManageSubscriptionPremium_Title=styled_components_browser_esm.styled.h2.withConfig({componentId:"sc-1wyvpwq-0"})(["--margin-top:46px;margin:var(--margin-top) 0 0;color:",";font-size:24px;font-weight:normal;line-height:35px;text-align:var(--text-align,left);@media ","{--margin-top:62px;--text-align:center;}"],(props=>props.theme.color.ink.light),devices.V),ManageSubscriptionPremium=_ref=>{let{userSubscriptionsInfo}=_ref,rest=(0,objectWithoutProperties.A)(_ref,ManageSubscriptionPremium_excluded);if(!(null==userSubscriptionsInfo||!userSubscriptionsInfo.find((({isSubscriptionTakenOutFromApp})=>isSubscriptionTakenOutFromApp))))return(0,jsx_runtime.jsx)(ManageSubscriptionPremium_Title,{children:"As an in-app subscriber, please manage your subscription via your device settings"});return(null==userSubscriptionsInfo?void 0:userSubscriptionsInfo.length)>0?(0,jsx_runtime.jsx)(pages_SubscriptionPayments,function ManageSubscriptionPremium_objectSpread(e){for(var r=1;r<arguments.length;r++){var t=null!=arguments[r]?arguments[r]:{};r%2?ManageSubscriptionPremium_ownKeys(Object(t),!0).forEach((function(r){(0,defineProperty.A)(e,r,t[r])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(t)):ManageSubscriptionPremium_ownKeys(Object(t)).forEach((function(r){Object.defineProperty(e,r,Object.getOwnPropertyDescriptor(t,r))}))}return e}({userSubscriptionsInfo},rest)):(0,jsx_runtime.jsx)(ManageSubscriptionPremium_Title,{children:"No active subscriptions"})};ManageSubscriptionPremium.propTypes={userSubscriptionsInfo:prop_types_default().arrayOf(types.pt).isRequired};const ManageSubscription_excluded=["isSubscriber","userSubscriptionsInfo","cancellationJourneyData","toggleIsUserCancellingSubscription"];function ManageSubscription_ownKeys(e,r){var t=Object.keys(e);if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(e);r&&(o=o.filter((function(r){return Object.getOwnPropertyDescriptor(e,r).enumerable}))),t.push.apply(t,o)}return t}function ManageSubscription_objectSpread(e){for(var r=1;r<arguments.length;r++){var t=null!=arguments[r]?arguments[r]:{};r%2?ManageSubscription_ownKeys(Object(t),!0).forEach((function(r){(0,defineProperty.A)(e,r,t[r])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(t)):ManageSubscription_ownKeys(Object(t)).forEach((function(r){Object.defineProperty(e,r,Object.getOwnPropertyDescriptor(t,r))}))}return e}const ManageSubscription_Wrapper=styled_components_browser_esm.styled.div.withConfig({componentId:"sc-wueyp3-0"})(["padding:32px 12px 0;@media ","{max-width:",";padding:24px 32px;}"],devices.n5,"400px"),H2=styled_components_browser_esm.styled.h2.withConfig({componentId:"sc-wueyp3-1"})(["display:none;padding:0;margin:0 0 24px;font-size:25px;font-weight:normal;text-align:left;@media ","{display:block;}"],devices.n5),ManageSubscription=_ref=>{let{isSubscriber,userSubscriptionsInfo,cancellationJourneyData,toggleIsUserCancellingSubscription}=_ref,rest=(0,objectWithoutProperties.A)(_ref,ManageSubscription_excluded);return(0,jsx_runtime.jsxs)(ManageSubscription_Wrapper,{children:[(0,jsx_runtime.jsx)(H2,{className:"icon-profile title",children:"Manage subscription"}),isSubscriber?(0,jsx_runtime.jsx)(ManageSubscriptionPremium,ManageSubscription_objectSpread({userSubscriptionsInfo,cancellationJourneyData,toggleIsUserCancellingSubscription},rest)):(0,jsx_runtime.jsx)(JoinToday,ManageSubscription_objectSpread({},rest))]})};ManageSubscription.propTypes={isSubscriber:prop_types_default().bool,userSubscriptionsInfo:prop_types_default().arrayOf(types.pt).isRequired,cancellationJourneyData:prop_types_default().object,toggleIsUserCancellingSubscription:prop_types_default().func.isRequired};var js_piano=__webpack_require__("./app/public/js/piano.js");const AccountHistory=styled_components_browser_esm.styled.div.withConfig({componentId:"sc-ie90i2-0"})(["padding:10px 0;"]),SubscriptionAccountHistory=({userSubscriptionsInfo})=>{const formatDate=(date,format)=>dayjs_min_default().unix(date).format(format);return(0,jsx_runtime.jsx)(jsx_runtime.Fragment,{children:userSubscriptionsInfo.map(((subscription,index)=>{const{accountHistory}=subscription;return(0,jsx_runtime.jsxs)(AccountHistory,{children:[(0,jsx_runtime.jsx)("time",{dateTime:formatDate(accountHistory.startDate,"YYYY-MM-DD"),children:formatDate(accountHistory.startDate,"ddd, DD MMMM YYYY")}),(0,jsx_runtime.jsxs)("p",{children:[" ","You purchased ",accountHistory.name," for ",accountHistory.price," ","using your ",accountHistory.paymentMethod,"."]}),(0,jsx_runtime.jsx)("hr",{})]},index)}))})};SubscriptionAccountHistory.propTypes={userSubscriptionsInfo:prop_types_default().arrayOf(types.pt)};const pages_SubscriptionAccountHistory=SubscriptionAccountHistory,PaymentsAndBilling_Wrapper=styled_components_browser_esm.styled.div.withConfig({componentId:"sc-40kbuc-0"})(["padding:32px 12px 0;@media ","{max-width:",";padding:24px 32px;}"],devices.n5,"400px"),PaymentsAndBilling_H2=styled_components_browser_esm.styled.h2.withConfig({componentId:"sc-40kbuc-1"})(["display:none;padding:0;margin:0 0 24px;font-size:25px;font-weight:normal;text-align:left;@media ","{display:block;}"],devices.n5),PaymentAndBillingTabs=styled_components_browser_esm.styled.div.withConfig({componentId:"sc-40kbuc-2"})(["ul,li{padding:0;margin:0;list-style:none;}ul{display:flex;flex-direction:horizontal;}li{display:flex;flex:1;align-items:center;justify-content:center;padding:10px;background-color:",";text-align:center;&.active{background-color:",";}}> div{> div{padding:40px 32px 24px;background-color:",";&:not(.active){display:none;}}}"],(({theme})=>theme.color.actionSubtleLight.base),(({theme})=>theme.color.actionSubtleLight.alt),(({theme})=>theme.color.canvas.base)),PaymentsAndBilling=({userSubscriptionsInfo,userAccessInfo,isExperimentalPaymentsEnabled,isSubscriber,determineActiveClassName,hasUserDonated})=>{const shouldRenderSubscriptions=isSubscriber||hasUserDonated;return(0,react.useEffect)((()=>{shouldRenderSubscriptions&&((0,js_piano.P$)(),(0,js_piano.Tw)())}),[shouldRenderSubscriptions]),(0,jsx_runtime.jsxs)(PaymentsAndBilling_Wrapper,{className:classnames_default()("tab",{active:determineActiveClassName("payments")}),children:[(0,jsx_runtime.jsx)(PaymentsAndBilling_H2,{className:"icon-profile title",children:"Payments & billing"}),(0,jsx_runtime.jsxs)("div",{className:"tab-panel","data-accordion":"Payments & billing","data-tab-panel":"membership",children:[!shouldRenderSubscriptions&&(0,jsx_runtime.jsx)(JoinToday,{}),shouldRenderSubscriptions&&(0,jsx_runtime.jsx)(jsx_runtime.Fragment,{children:isExperimentalPaymentsEnabled?(0,jsx_runtime.jsxs)(PaymentAndBillingTabs,{id:"payment-billing-panel",children:[(0,jsx_runtime.jsxs)("ul",{children:[(0,jsx_runtime.jsx)("li",{"data-tab":"overview",className:"active",children:"Payments"}),(0,jsx_runtime.jsx)("li",{"data-tab":"methods",children:"Payment methods"}),(0,jsx_runtime.jsx)("li",{"data-tab":"history",children:"Account history"})]}),(0,jsx_runtime.jsxs)("div",{id:"payment-billing-content-panels",children:[(0,jsx_runtime.jsx)("div",{"data-panel":"overview",className:"active",children:(0,jsx_runtime.jsx)(pages_SubscriptionPayments,{userSubscriptionsInfo,userAccessInfo})}),(0,jsx_runtime.jsx)("div",{"data-panel":"methods",children:(0,jsx_runtime.jsx)("div",{id:ids.b8})}),(0,jsx_runtime.jsx)("div",{"data-panel":"history",children:(0,jsx_runtime.jsx)(pages_SubscriptionAccountHistory,{userSubscriptionsInfo})})]})]}):(0,jsx_runtime.jsx)("div",{id:ids.b8})})]})]})};PaymentsAndBilling.propTypes={userSubscriptionsInfo:prop_types_default().arrayOf(types.pt).isRequired,userAccessInfo:prop_types_default().arrayOf(UserAccessInfoType).isRequired,isExperimentalPaymentsEnabled:prop_types_default().bool,isSubscriber:prop_types_default().bool,determineActiveClassName:prop_types_default().func.isRequired,hasUserDonated:prop_types_default().bool};const Profile_PaymentsAndBilling=PaymentsAndBilling;var isEqual=__webpack_require__("../node_modules/.pnpm/lodash@4.17.21/node_modules/lodash/isEqual.js"),isEqual_default=__webpack_require__.n(isEqual),cookies=__webpack_require__("./app/constants/cookies.ts"),classNames=__webpack_require__("./app/constants/classNames.js"),formFieldNames=__webpack_require__("./app/constants/formFieldNames.js"),useFormLogic=__webpack_require__("./app/hooks/useFormLogic.ts"),useToggle=__webpack_require__("./app/hooks/useToggle.ts");function createNewErrorStateFromServerResponse_ownKeys(e,r){var t=Object.keys(e);if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(e);r&&(o=o.filter((function(r){return Object.getOwnPropertyDescriptor(e,r).enumerable}))),t.push.apply(t,o)}return t}function createNewErrorStateFromServerResponse_objectSpread(e){for(var r=1;r<arguments.length;r++){var t=null!=arguments[r]?arguments[r]:{};r%2?createNewErrorStateFromServerResponse_ownKeys(Object(t),!0).forEach((function(r){(0,defineProperty.A)(e,r,t[r])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(t)):createNewErrorStateFromServerResponse_ownKeys(Object(t)).forEach((function(r){Object.defineProperty(e,r,Object.getOwnPropertyDescriptor(t,r))}))}return e}const createNewErrorStateFromServerResponse=(serverResponse,formValues,inputErrorMessage,key,options={})=>{const currentFieldKey=name=>`${key}-${name}`,{shouldValidateAllFields=!1}=options,serverErrorMessages=(shouldValidateAllFields?serverResponse:serverResponse.filter((({name})=>formValues[currentFieldKey(name)]))).reduce(((acc,{name,message})=>createNewErrorStateFromServerResponse_objectSpread(createNewErrorStateFromServerResponse_objectSpread({},acc),{},{[name]:acc[name]?[...acc[name],message]:[message]})),{}),serverErrorMessagesSorted=Object.entries(serverErrorMessages).map((([name,errorMessages])=>[currentFieldKey(name),errorMessages.sort()[0]])),errorMessageState=Object.entries(createNewErrorStateFromServerResponse_objectSpread(createNewErrorStateFromServerResponse_objectSpread({},Object.fromEntries(Object.entries(inputErrorMessage).map((([key])=>[key,""])))),Object.fromEntries(serverErrorMessagesSorted)));return errorMessageState.map((([name,message])=>[name,message]))};var cookie=__webpack_require__("./app/public/js/modules/cookie.js"),util=__webpack_require__("./app/public/js/modules/util.ts");const Fieldwrapper=styled_components_browser_esm.styled.div.withConfig({componentId:"sc-zd4th9-0"})(["position:relative;width:100%;height:56px;margin-bottom:20px;select{position:relative;width:100%;height:56px;box-sizing:border-box;padding-top:20px;padding-right:52px;padding-bottom:4px;padding-left:16px;border:0;border-radius:5px 5px 0 0;border-bottom:1px solid ",";appearance:none;background-color:transparent;cursor:pointer;font-family:Roboto,sans-serif;font-size:1rem;-webkit-font-smoothing:antialiased;font-weight:normal;letter-spacing:0.00937em;line-height:1.75rem;outline:none;text-decoration:inherit;text-transform:inherit;white-space:nowrap;}select:hover{background-color:",";}.error-text,.help-text{display:block;position:absolute;top:60px;z-index:1;padding:0 0 0 10px;margin:0;color:",";font-size:12px;letter-spacing:normal;line-height:1;opacity:0;text-align:left;transition:opacity 0.3s ease;}.user-invalid ~ .visible{display:block;opacity:1;}.help-text{color:",";opacity:0;}select:focus{border-bottom-color:",";outline:0;& ~ label{color:",";}~ .help-text{opacity:0.6;}~ .error-text{opacity:0;}}label{position:absolute;top:40px;right:initial;left:16px;overflow:hidden;cursor:text;font-family:Roboto,sans-serif;font-size:1rem;font-weight:normal;letter-spacing:0.009375em;line-height:1.15rem;pointer-events:none;text-align:left;text-decoration:inherit;text-overflow:ellipsis;text-transform:inherit;transform:translateY(-50%);transform-origin:left top;transition:transform 150ms cubic-bezier(0.4,0,0.2,1),color 150ms cubic-bezier(0.4,0,0.2,1);white-space:nowrap;will-change:transform;}select.valid,select:focus{& ~ label{transform:translateY(-160%) scale(0.75);}}select.input-has-value ~ label{transform:translateY(-160%) scale(0.75);}select.user-invalid{border-bottom-color:",";& ~ label{color:",";}}&::after{position:absolute;top:35px;right:16px;border:6px solid transparent;border-top-color:",";content:' ';}"],(({theme})=>theme.color.divider.dark),(({theme})=>theme.color.canvas.secondary),(props=>props.theme.color.semiotic.error),(props=>props.theme.color.ink.base),(props=>props.theme.color.semiotic.info),(props=>props.theme.color.semiotic.info),(props=>props.theme.color.primary.base),(props=>props.theme.color.primary.base),(({theme})=>theme.color.divider.dark)),Select=({className,fieldName,fieldId,fieldRequired,displayName,helperText,validationMsg,options,onChange,value,defaultValue=""})=>(0,jsx_runtime.jsxs)(Fieldwrapper,{className,children:[(0,jsx_runtime.jsxs)("select",{name:fieldName,id:fieldId,required:fieldRequired,onChange,className:"form-select",value:value||defaultValue,children:[defaultValue||(0,jsx_runtime.jsx)("option",{value:"",disabled:!0}),options]}),(0,jsx_runtime.jsx)("label",{htmlFor:fieldId,children:displayName}),(0,jsx_runtime.jsx)("div",{className:"mdc-line-ripple"}),validationMsg&&(0,jsx_runtime.jsx)("span",{className:"error-text","visible-when-invalid":"valueMissing","validation-for":fieldId,children:validationMsg}),helperText&&(0,jsx_runtime.jsx)("span",{className:"help-text",children:helperText})]});Select.propTypes={className:prop_types_default().string,fieldName:prop_types_default().string,fieldId:prop_types_default().string,fieldRequired:prop_types_default().bool,displayName:prop_types_default().string,helperText:prop_types_default().string,validationMsg:prop_types_default().string,options:prop_types_default().array,onChange:prop_types_default().func,value:prop_types_default().string,defaultValue:prop_types_default().string};const FormSelect=Select;var FormSubmit=__webpack_require__("./app/component/library/Forms/FormSubmit.tsx"),HideShowPassword=__webpack_require__("./app/component/library/Forms/new/HideShowPassword.js");const FormTextFieldInput_excluded=["fieldName","fieldId","displayName","helperText","inputType","valueMissingMsg","patternMismatchMsg","pattern","requiredField","showPassword","onShowPasswordClick","showPasswordStatus","value","autocomplete","className","placeholder","disabled","nonAmpErrorMessage","formElementRef"];function FormTextFieldInput_ownKeys(e,r){var t=Object.keys(e);if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(e);r&&(o=o.filter((function(r){return Object.getOwnPropertyDescriptor(e,r).enumerable}))),t.push.apply(t,o)}return t}function FormTextFieldInput_objectSpread(e){for(var r=1;r<arguments.length;r++){var t=null!=arguments[r]?arguments[r]:{};r%2?FormTextFieldInput_ownKeys(Object(t),!0).forEach((function(r){(0,defineProperty.A)(e,r,t[r])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(t)):FormTextFieldInput_ownKeys(Object(t)).forEach((function(r){Object.defineProperty(e,r,Object.getOwnPropertyDescriptor(t,r))}))}return e}const TextField=_ref=>{let{fieldName,fieldId,displayName,helperText,inputType="text",valueMissingMsg,patternMismatchMsg,pattern,requiredField=!1,showPassword=!1,onShowPasswordClick,showPasswordStatus,value,autocomplete,className,placeholder,disabled,nonAmpErrorMessage,formElementRef}=_ref,rest=(0,objectWithoutProperties.A)(_ref,FormTextFieldInput_excluded);return(0,jsx_runtime.jsxs)(jsx_runtime.Fragment,{children:[(0,jsx_runtime.jsx)("input",FormTextFieldInput_objectSpread({defaultValue:value,type:inputType,id:fieldId,name:fieldName,pattern,required:requiredField,"aria-controls":`${fieldId}-helper-text`,"aria-describedby":`${fieldId}-helper-text`,autoComplete:autocomplete,className:`form-textfield ${className}`,placeholder,disabled,ref:formElementRef},rest)),(0,jsx_runtime.jsx)("label",{htmlFor:fieldId,children:displayName}),showPassword&&(0,jsx_runtime.jsx)(HideShowPassword.V,{isPasswordHidden:showPasswordStatus,onIconClick:()=>onShowPasswordClick(fieldId),inputId:fieldId}),helperText&&(0,jsx_runtime.jsx)("span",{className:"help-text",id:`${fieldId}-helper-text`,children:helperText}),valueMissingMsg&&(0,jsx_runtime.jsx)("span",{className:"error-text","visible-when-invalid":"valueMissing","validation-for":fieldId,children:valueMissingMsg}),patternMismatchMsg&&(0,jsx_runtime.jsx)("span",{className:"error-text","visible-when-invalid":"patternMismatch","validation-for":fieldId,children:patternMismatchMsg}),nonAmpErrorMessage&&(0,jsx_runtime.jsx)("span",{"data-testid":classNames.h,className:classnames_default()("error-text",classNames.h),children:nonAmpErrorMessage}),(0,jsx_runtime.jsx)("span",{className:"error-text","visible-when-invalid":"customError","validation-for":fieldId})]})};TextField.propTypes={value:prop_types_default().string,fieldName:prop_types_default().string,fieldId:prop_types_default().string,patternMismatchMsg:prop_types_default().string,valueMissingMsg:prop_types_default().string,requiredField:prop_types_default().bool,showPassword:prop_types_default().bool,onShowPasswordClick:prop_types_default().func,showPasswordStatus:prop_types_default().bool,displayName:prop_types_default().string,helperText:prop_types_default().string,pattern:prop_types_default().string,inputType:prop_types_default().string,autocomplete:prop_types_default().string,className:prop_types_default().string,placeholder:prop_types_default().string,disabled:prop_types_default().bool,nonAmpErrorMessage:prop_types_default().string,formElementRef:prop_types_default().oneOfType([prop_types_default().func,prop_types_default().shape({current:prop_types_default().elementType})])};const FormTextFieldInput=TextField,FormTextField_excluded=["className"];function FormTextField_ownKeys(e,r){var t=Object.keys(e);if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(e);r&&(o=o.filter((function(r){return Object.getOwnPropertyDescriptor(e,r).enumerable}))),t.push.apply(t,o)}return t}function FormTextField_objectSpread(e){for(var r=1;r<arguments.length;r++){var t=null!=arguments[r]?arguments[r]:{};r%2?FormTextField_ownKeys(Object(t),!0).forEach((function(r){(0,defineProperty.A)(e,r,t[r])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(t)):FormTextField_ownKeys(Object(t)).forEach((function(r){Object.defineProperty(e,r,Object.getOwnPropertyDescriptor(t,r))}))}return e}const FormTextField_Fieldwrapper=styled_components_browser_esm.styled.div.withConfig({componentId:"sc-o8iu5f-0"})(["position:relative;width:100%;margin-bottom:20px;input{width:100%;height:56px;box-sizing:border-box;align-self:flex-end;padding:20px 16px 6px;border:none;border-radius:5px 5px 0 0;border-bottom:1px solid;appearance:none;background:none;font-family:Roboto,sans-serif;font-size:1rem;-webkit-font-smoothing:antialiased;font-weight:normal;letter-spacing:0.009375em;text-decoration:inherit;text-transform:inherit;transition:opacity 150ms cubic-bezier(0.4,0,0.2,1);}.error-text,.help-text{display:block;position:absolute;top:60px;z-index:1;padding:0 0 0 10px;margin:0;color:",";font-size:12px;letter-spacing:normal;line-height:1;opacity:0;text-align:left;transition:opacity 0.3s ease;}.user-invalid ~ .visible{display:block;opacity:1;}.help-text{color:",";opacity:0;}input:focus{border-bottom-color:",";outline:0;& ~ label{color:",";}~ .help-text{opacity:0.6;}~ .error-text{opacity:0;}}label{position:absolute;top:40px;right:initial;left:16px;overflow:hidden;cursor:text;font-family:Roboto,sans-serif;font-size:1rem;font-weight:normal;letter-spacing:0.009375em;line-height:1.15rem;pointer-events:none;text-align:left;text-decoration:inherit;text-overflow:ellipsis;text-transform:inherit;transform:translateY(-50%);transform-origin:left top;transition:transform 150ms cubic-bezier(0.4,0,0.2,1),color 150ms cubic-bezier(0.4,0,0.2,1);user-select:none;white-space:nowrap;will-change:transform;}input.input-has-value ~ label{transform:translateY(-160%) scale(0.75);}input.valid,input:focus,input.user-invalid:not(.valueMissing){& ~ label{transform:translateY(-160%) scale(0.75);}}input:-webkit-autofill ~ label{transform:translateY(-160%) scale(0.75);}input.user-invalid{border-bottom-color:",";& ~ label{color:",";}}input:hover{background-color:",";}.show-password{position:absolute;right:10px;bottom:8px;cursor:pointer;font-size:16px;line-height:18px;text-decoration:none;user-select:none;}input[name='password']{padding-right:62px;}.error-text{opacity:1;}&."," label{transform:translateY(-160%) scale(0.75);}&."," input{border-bottom-color:",";& ~ label{color:",";}}"],(props=>props.theme.color.primary.base),(props=>props.theme.color.ink.base),(props=>props.theme.color.semiotic.info),(props=>props.theme.color.semiotic.info),(props=>props.theme.color.primary.base),(props=>props.theme.color.primary.base),(props=>props.theme.color.canvas.secondary),classNames.ly,classNames.U1,(props=>props.theme.color.semiotic.error),(props=>props.theme.color.semiotic.error)),FormTextField_TextField=_ref=>{let{className}=_ref,passThroughProps=(0,objectWithoutProperties.A)(_ref,FormTextField_excluded);return(0,jsx_runtime.jsx)(FormTextField_Fieldwrapper,{className,children:(0,jsx_runtime.jsx)(FormTextFieldInput,FormTextField_objectSpread({},passThroughProps))})};FormTextField_TextField.propTypes=FormTextField_objectSpread({className:prop_types_default().string},FormTextFieldInput.propTypes);const FormTextField=FormTextField_TextField;var FakeForm=__webpack_require__("./app/component/library/Forms/new/FakeForm.js");function ProfileDetails_ownKeys(e,r){var t=Object.keys(e);if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(e);r&&(o=o.filter((function(r){return Object.getOwnPropertyDescriptor(e,r).enumerable}))),t.push.apply(t,o)}return t}function ProfileDetails_objectSpread(e){for(var r=1;r<arguments.length;r++){var t=null!=arguments[r]?arguments[r]:{};r%2?ProfileDetails_ownKeys(Object(t),!0).forEach((function(r){(0,defineProperty.A)(e,r,t[r])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(t)):ProfileDetails_ownKeys(Object(t)).forEach((function(r){Object.defineProperty(e,r,Object.getOwnPropertyDescriptor(t,r))}))}return e}const ProfileDetails_Wrapper=styled_components_browser_esm.styled.div.withConfig({componentId:"sc-5oibi1-0"})(["padding:","px ","px;p{margin:0;font-weight:normal;line-height:1;}.sub-title{margin:0 0 ","px;}"],(({theme})=>theme.spacing.x3),(({theme})=>theme.spacing.x4),(({theme})=>theme.spacing.x3)),ProfileDetails_H2=styled_components_browser_esm.styled.h2.withConfig({componentId:"sc-5oibi1-1"})(["display:none;padding:0;margin:0 0 ","px;font-size:25px;font-weight:normal;text-align:left;@media ","{display:block;}"],(({theme})=>theme.spacing.x3),devices.n5),Form=(0,styled_components_browser_esm.styled)(FakeForm.k).withConfig({componentId:"sc-5oibi1-2"})(["@media ","{max-width:280px;margin:0 0 0 50px;}"],devices.n5),Aside=styled_components_browser_esm.styled.aside.withConfig({componentId:"sc-5oibi1-3"})(["margin-top:90px;"]),H3=styled_components_browser_esm.styled.h3.withConfig({componentId:"sc-5oibi1-4"})(["margin:0 0 ","px;color:",";font-size:25px;font-weight:normal;line-height:25px;"],(({theme})=>theme.spacing.x2),(({theme})=>theme.color.ink.muted)),ProfileFormSubmit=(0,styled_components_browser_esm.styled)(FormSubmit.Ay).withConfig({componentId:"sc-5oibi1-5"})(["button{margin:0;}"]),StyledFormSelect=(0,styled_components_browser_esm.styled)(FormSelect).withConfig({componentId:"sc-5oibi1-6"})(["margin-bottom:34px;&."," label{transform:translateY(-160%) scale(0.75);}"],classNames.ly),StyledFormTextField=(0,styled_components_browser_esm.styled)(FormTextField).withConfig({componentId:"sc-5oibi1-7"})(["margin-bottom:34px;"]),SubmitMessage=styled_components_browser_esm.styled.div.attrs({role:"alert"}).withConfig({componentId:"sc-5oibi1-8"})([""]),initialValidClassNamesState=[classNames.ly,classNames.vl],INITIAL_STATE_ERROR_MESSAGES={[ids.ai]:"",[ids.Gd]:"",[ids.a]:"",[ids.DK]:"",[ids.$4]:""},FirstNameField=StyledFormTextField,LastNameField=StyledFormTextField,CommentingNicknameField=StyledFormTextField,BirthYearField=StyledFormSelect,EmailField=StyledFormTextField,ProfileDetails=({profile:{firstName,lastName,email,nickname:userNickname,birthYear},isNicknameDisabled,toggleIsNicknameDisabled,determineActiveClassName,userDetailsData})=>{const nickname="null"===userNickname?"":userNickname,INITIAL_STATE=(0,react.useMemo)((()=>{return currentState=userDetailsData.current,initialState={[ids.ai]:firstName,[ids.Gd]:lastName,[ids.a]:nickname,[ids.DK]:birthYear,[ids.$4]:email},currentState||initialState;var currentState,initialState}),[userDetailsData,firstName,lastName,email,nickname,birthYear]),INITIAL_STATE_CLASS_NAMES={[ids.ai]:[...initialValidClassNamesState],[ids.Gd]:[...initialValidClassNamesState],[ids.a]:[...nickname?initialValidClassNamesState:[]],[ids.DK]:[...initialValidClassNamesState],[ids.$4]:[...initialValidClassNamesState]},{state:{formValues,submitErrorMessage},stateHandlers:{setFormValues,setSubmitErrorMessage},debounce}=(0,useFormLogic.C)(INITIAL_STATE),[hasSuccessfullySubmitted,setHasSuccessfullySubmitted]=(0,useToggle.e)(!1),[inputErrorMessages,setInputErrorMessages]=(0,react.useState)(INITIAL_STATE_ERROR_MESSAGES),[inputClassNames,setInputClassNames]=(0,react.useState)(INITIAL_STATE_CLASS_NAMES),previousFormState=(0,react.useRef)(INITIAL_STATE),isOnMount=(0,react.useRef)(!0),years=[],MostRecentYear=(new Date).getFullYear()-18,EarliestYear=MostRecentYear-90,commentingLabel=nickname?"":"(optional)";for(let i=MostRecentYear;i>=EarliestYear;i--)years.push((0,jsx_runtime.jsx)("option",{value:i,children:i},i));const postInternalApi=async(path,formData)=>await fetch(`${path}?__amp_source_origin=${window.location.protocol}//${window.location.host}`,{method:"POST",body:new URLSearchParams(formData)}),onFocus=evt=>{const{id}=evt.target,classNamesStateCopy=[...inputClassNames[id]];classNamesStateCopy.includes(classNames.Ev)||classNamesStateCopy.push(classNames.Ev),isEqual_default()(classNamesStateCopy,inputClassNames[id])||setInputClassNames(ProfileDetails_objectSpread(ProfileDetails_objectSpread({},inputClassNames),{},{[id]:classNamesStateCopy}))},updateValidityClassState=(targetClassNameStateCopy,targetClassName)=>{const targetValidityClassIdx=targetClassNameStateCopy.findIndex((className=>[classNames.vl,classNames.U1].includes(className)));-1===targetValidityClassIdx?targetClassNameStateCopy.push(targetClassName):targetClassNameStateCopy.splice(targetValidityClassIdx,1,targetClassName)},updateBorderStyles=evt=>{const{id,value}=evt.target,classNamesStateCopy=[...inputClassNames[id]],targetValidityClass=""===formValues[id]||inputErrorMessages[id]?classNames.U1:classNames.vl,targetInputHasValueClass=classNamesStateCopy.find((className=>className===classNames.ly));if(updateValidityClassState(classNamesStateCopy,targetValidityClass),""===value||targetInputHasValueClass){if(""===value&&targetInputHasValueClass){const inputHasValueClassIdx=classNamesStateCopy.indexOf(targetInputHasValueClass);classNamesStateCopy.splice(inputHasValueClassIdx,1)}}else classNamesStateCopy.push(classNames.ly);isEqual_default()(classNamesStateCopy,inputClassNames[id])||setInputClassNames(ProfileDetails_objectSpread(ProfileDetails_objectSpread({},inputClassNames),{},{[id]:classNamesStateCopy}))},onChange=evt=>{const{id,value}=evt.target;updateBorderStyles(evt),setFormValues(ProfileDetails_objectSpread(ProfileDetails_objectSpread({},formValues),{},{[id]:value})),hasSuccessfullySubmitted&&setHasSuccessfullySubmitted(!1)};return(0,react.useEffect)((()=>{if(isOnMount.current)return void(isOnMount.current=!1);const verifyForm=async()=>{const formData=new FormData;formData.append("firstName",formValues[ids.ai]),formData.append("lastName",formValues[ids.Gd]),formData.append("nickname",formValues[ids.a]),formData.append("birthYear",formValues[ids.DK]),formData.append(formFieldNames.TI,formValues[ids.$4]),formData.append("originalEmail",email),formData.append("originalNickname",nickname);const res=await postInternalApi("/internal-api/profile/verify",formData);if(res.ok){setInputErrorMessages(INITIAL_STATE_ERROR_MESSAGES),setSubmitErrorMessage("");const newClassNameState=ProfileDetails_objectSpread({},inputClassNames);return Object.keys(inputClassNames).forEach((key=>{const classNamesCopy=[...inputClassNames[key]],targetValidityClassIdx=classNamesCopy.findIndex((className=>className===classNames.U1));-1!==targetValidityClassIdx&&classNamesCopy.splice(targetValidityClassIdx,1,classNames.vl),isEqual_default()(classNamesCopy,newClassNameState[key])||(newClassNameState[key]=classNamesCopy)})),void(isEqual_default()(newClassNameState,inputClassNames)||setInputClassNames(newClassNameState))}const{verifyErrors}=await res.json(),newErrorMessageStateEntries=createNewErrorStateFromServerResponse(verifyErrors,formValues,inputErrorMessages,"update-account-form",{shouldValidateAllFields:!0});newErrorMessageStateEntries.filter((([name,message])=>inputErrorMessages[name]!==message)).length>0&&setInputErrorMessages(Object.fromEntries(newErrorMessageStateEntries));const newClassNameState=ProfileDetails_objectSpread({},inputClassNames);newErrorMessageStateEntries.forEach((([name,value])=>{const classNamesStateCopy=[...inputClassNames[name]],targetClassName=""===value?classNames.vl:classNames.U1;classNamesStateCopy.includes(classNames.Ev)&&(updateValidityClassState(classNamesStateCopy,targetClassName),isEqual_default()(classNamesStateCopy,newClassNameState[name])||(newClassNameState[name]=classNamesStateCopy))})),isEqual_default()(newClassNameState,inputClassNames)||setInputClassNames(newClassNameState)};isEqual_default()(formValues,previousFormState.current)||(previousFormState.current=formValues,debounce(verifyForm,500)())}),[formValues,inputErrorMessages,inputClassNames,setInputErrorMessages,setSubmitErrorMessage,debounce,email,nickname,INITIAL_STATE]),(0,react.useEffect)((()=>{isNicknameDisabled&&(window.vfQ=window.vfQ||[],window.vfQ.push((()=>{toggleIsNicknameDisabled()})),(0,util.kG)("//cdn.viafoura.net/vf-v2.js"))}),[isNicknameDisabled,toggleIsNicknameDisabled]),(0,jsx_runtime.jsxs)(ProfileDetails_Wrapper,{className:classnames_default()("tab",{active:determineActiveClassName("details")}),children:[(0,jsx_runtime.jsx)(ProfileDetails_H2,{className:"icon-profile title",children:"My details"}),(0,jsx_runtime.jsxs)("p",{className:"sub-title",children:["Edit any of your details below so your account is up to date. These details will only be visible to you and ",(0,jsx_runtime.jsx)("em",{children:"The Independent"}),"."]}),(0,jsx_runtime.jsxs)(Form,{id:ids.l3,formDescription:"Update my account details",children:[(0,jsx_runtime.jsx)(FirstNameField,{fieldName:"firstName",fieldId:ids.ai,displayName:"First name",requiredField:!0,helperText:"We require accounts to be opened in your real name",value:formValues[ids.ai],onChange,onFocus,onBlur:updateBorderStyles,nonAmpErrorMessage:inputErrorMessages[ids.ai],className:inputClassNames[ids.ai].join(" "),"data-testid":ids.ai}),(0,jsx_runtime.jsx)(LastNameField,{fieldName:"lastName",fieldId:ids.Gd,displayName:"Last name",requiredField:!0,helperText:"We require accounts to be opened in your real name",value:formValues[ids.Gd],onChange,onFocus,onBlur:updateBorderStyles,nonAmpErrorMessage:inputErrorMessages[ids.Gd],className:inputClassNames[ids.Gd].join(" "),"data-testid":ids.Gd}),(0,jsx_runtime.jsx)(CommentingNicknameField,{fieldName:"nickname",fieldId:ids.a,displayName:`Commenting name ${commentingLabel}`,requiredField:!!nickname,helperText:"This name will appear above all your comments",disabled:isNicknameDisabled,value:formValues[ids.a],onChange:evt=>{setFormValues(ProfileDetails_objectSpread(ProfileDetails_objectSpread({},formValues),{},{[evt.target.id]:evt.target.value})),hasSuccessfullySubmitted&&setHasSuccessfullySubmitted(!1)},onFocus,nonAmpErrorMessage:inputErrorMessages[ids.a],className:inputClassNames[ids.a].join(" "),"data-testid":ids.a}),(0,jsx_runtime.jsx)(BirthYearField,{fieldName:"birthYear",fieldId:ids.DK,displayName:"Year of birth",fieldRequired:!0,options:years,defaultValue:birthYear,helperText:"Please select a year in the list",value:formValues[ids.DK],onChange,onFocus,onBlur:updateBorderStyles,className:inputClassNames[ids.DK].join(" "),"data-testid":ids.DK}),(0,jsx_runtime.jsx)(EmailField,{fieldName:formFieldNames.TI,fieldId:ids.$4,displayName:"Email address",requiredField:!0,helperText:"We need your email address so you can log in",value:formValues[ids.$4],onChange,onFocus,onBlur:updateBorderStyles,nonAmpErrorMessage:inputErrorMessages[ids.$4],className:inputClassNames[ids.$4].join(" "),"data-testid":ids.$4}),(0,jsx_runtime.jsx)(ProfileFormSubmit,{onClick:async()=>{try{const formValuesCopy=ProfileDetails_objectSpread({},formValues);delete formValuesCopy[ids.a];const isErrorMessagePresent=!Object.entries(inputErrorMessages).every((([_key,value])=>""===value)),isFormIncomplete=!Object.entries(formValuesCopy).every((([_key,value])=>""!==value));if(isErrorMessagePresent||isFormIncomplete)return;const formData=new FormData;formData.append("firstName",formValues[ids.ai]),formData.append("lastName",formValues[ids.Gd]),formData.append("nickname",formValues[ids.a]),formData.append("birthYear",formValues[ids.DK]),formData.append(formFieldNames.TI,formValues[ids.$4]),formData.append("originalEmail",email),formData.append("originalNickname",nickname);const res=await postInternalApi("/internal-api/profile/submit",formData),resJson=await res.json();if(!res.ok)throw new Error(resJson.message);userDetailsData.current=ProfileDetails_objectSpread(ProfileDetails_objectSpread({},formValues),{},{[ids.a]:formValues[ids.a]}),setInputErrorMessages(INITIAL_STATE_ERROR_MESSAGES),setInputClassNames(ProfileDetails_objectSpread(ProfileDetails_objectSpread({},INITIAL_STATE_CLASS_NAMES),{},{[ids.a]:[...formValues[ids.a]?initialValidClassNamesState:[]]})),setSubmitErrorMessage(""),setHasSuccessfullySubmitted(!0),window.vf.session.logout().then(window.vf.session.login.cookie((0,cookie.Ri)(cookies.kA)))}catch(error){setSubmitErrorMessage(error.message),hasSuccessfullySubmitted&&setHasSuccessfullySubmitted(!1)}},children:"Save changes"}),submitErrorMessage&&(0,jsx_runtime.jsx)(SubmitMessage,{children:submitErrorMessage}),hasSuccessfullySubmitted&&(0,jsx_runtime.jsx)(SubmitMessage,{children:"Details updated successfully."})]}),(0,jsx_runtime.jsxs)(Aside,{children:[(0,jsx_runtime.jsx)(H3,{children:"Delete my account"}),(0,jsx_runtime.jsxs)("p",{children:["If you wish to delete your account please contact"," ",(0,jsx_runtime.jsx)("a",{href:"https://help.independent.co.uk/hc/en-us/requests/new",target:"_blank",rel:"noopener noreferrer",children:"Customer services"})," ","who will be able to process your request."]})]})]})};ProfileDetails.propTypes={profile:prop_types_default().object.isRequired,isNicknameDisabled:prop_types_default().bool.isRequired,toggleIsNicknameDisabled:prop_types_default().func.isRequired,determineActiveClassName:prop_types_default().func.isRequired,userDetailsData:prop_types_default().object};const Profile_ProfileDetails=ProfileDetails;var _path,_path2,breakPoints=__webpack_require__("../ui/dist/breakPoints.js"),externalLink=__webpack_require__("./app/component/icons/16/externalLink.svg"),billing=__webpack_require__("./app/component/icons/24/billing.svg"),chevronDown=__webpack_require__("./app/component/icons/24/chevronDown.svg"),help=__webpack_require__("./app/component/icons/24/help.svg"),list=__webpack_require__("./app/component/icons/24/list.svg"),logout=__webpack_require__("./app/component/icons/24/logout.svg");function _extends(){return _extends=Object.assign?Object.assign.bind():function(n){for(var e=1;e<arguments.length;e++){var t=arguments[e];for(var r in t)({}).hasOwnProperty.call(t,r)&&(n[r]=t[r])}return n},_extends.apply(null,arguments)}const manage_subscription=props=>react.createElement("svg",_extends({xmlns:"http://www.w3.org/2000/svg",id:"39bbb7936597df92",viewBox:"0 0 24 24"},props),_path||(_path=react.createElement("path",{fill:"currentColor",d:"M19.64 2.18h3.27V12h-2.18V7.64H3.27v14.18h7.64V24H1.09V2.18h3.27V0h2.19v2.18h10.9V0h2.19z"})),_path2||(_path2=react.createElement("path",{fill:"currentColor",d:"M21.63 19.08a4 4 0 0 0-.01-1.07l1.19-.9c.1-.08.13-.23.07-.34l-1.13-1.89q-.12-.18-.34-.12l-1.4.54q-.43-.33-.94-.53l-.21-1.45a.3.3 0 0 0-.28-.23h-2.25q-.23.02-.27.23l-.21 1.45q-.52.2-.95.53l-1.4-.54a.3.3 0 0 0-.34.12l-1.11 1.89q-.1.2.07.34l1.18.9a3 3 0 0 0-.01 1.07l-1.19.9a.3.3 0 0 0-.07.34l1.13 1.89c.07.13.21.16.34.13l1.4-.55q.43.33.94.53l.21 1.45q.06.21.28.23h2.25q.23-.02.27-.23l.21-1.45q.52-.2.95-.53l1.4.55c.12.04.27 0 .34-.13l1.12-1.89a.26.26 0 0 0-.07-.34zm-4.18 1.51c-1.15 0-2.1-.92-2.1-2.04s.95-2.05 2.1-2.05 2.1.92 2.1 2.05-.94 2.04-2.1 2.04"})));var _24_secure=__webpack_require__("./app/component/icons/24/secure.svg"),user_profile=__webpack_require__("./app/component/icons/24/user-profile.svg");const ProfileNav_Icon=Icon.Ay.default||Icon.Ay,ProfileMenu=styled_components_browser_esm.styled.ul.withConfig({componentId:"sc-emyvp9-0"})(["display:flex;overflow:hidden;max-height:60px;flex-direction:column;padding:0;margin:0 auto;list-style:none;@media ","{&.","{position:absolute;z-index:5;width:100%;max-height:600px;align-items:center;background:",";& ~ .mobile-background{position:absolute;top:0;z-index:1;width:100vw;height:100vh;background:",";opacity:0.5;}}}@media ","{min-width:280px;max-height:none;margin:0 8px 0 0;}@media ","{min-width:300px;margin:0 16px 0 0;}"],devices.V,"is-open",(props=>props.theme.color.canvas.secondary),(props=>props.theme.color.dark.canvas.base),devices.n5,devices.BY),ListItem=styled_components_browser_esm.styled.li.withConfig({componentId:"sc-emyvp9-1"})(["position:relative;margin:0;background:",";font-size:16px;@media ","{margin:0 0 16px 0;background:",";}&.no-pad{margin:0;}@media ","{order:1;&.active{width:auto;order:0;}}"],(props=>props.theme.color.canvas.secondary),devices.n5,(props=>props.theme.color.canvas.base),devices.V),ListItemManageSubscription=(0,styled_components_browser_esm.styled)(ListItem).withConfig({componentId:"sc-emyvp9-2"})(["display:flex;justify-content:center;@media ","{&.active{width:100vw;}}"],devices.V),ListLink=styled_components_browser_esm.styled.a.withConfig({componentId:"sc-emyvp9-3"})(["--list-item-width:215px;display:flex;width:var(--list-item-width);box-sizing:border-box;align-items:center;justify-content:flex-start;padding:16px;color:",";cursor:pointer;text-decoration:none;white-space:nowrap;@media ","{.active &{width:auto;margin-right:25px;font-size:25px;}}@media ","{width:100%;.active &{width:100%;border-right:8px solid ",";font-size:16px;&::after{content:'';}}}"],(props=>props.theme.color.ink.base),devices.V,devices.n5,(props=>props.theme.color.primary.base)),ListLinkManageSubscription=(0,styled_components_browser_esm.styled)(ListLink).withConfig({componentId:"sc-emyvp9-4"})([".active &{&::after{position:static;}@media ","{margin-right:0;}}"],devices.V),StyledIcon=(0,styled_components_browser_esm.styled)(ProfileNav_Icon).withConfig({componentId:"sc-emyvp9-5"})(["display:inline-block;overflow:visible;padding-right:14px;text-align:center;"]),BillingIcon=(0,styled_components_browser_esm.styled)(StyledIcon).attrs({svg:billing.A,size:Icon.CW}).withConfig({componentId:"sc-emyvp9-6"})([""]),ExternalLinkIcon=(0,styled_components_browser_esm.styled)(StyledIcon).attrs({svg:externalLink.A,size:Icon.Kk}).withConfig({componentId:"sc-emyvp9-7"})(["position:absolute;right:16px;padding:0;"]),HelpIcon=(0,styled_components_browser_esm.styled)(StyledIcon).attrs({svg:help.A,size:Icon.CW}).withConfig({componentId:"sc-emyvp9-8"})([""]),ListIcon=(0,styled_components_browser_esm.styled)(StyledIcon).attrs({svg:list.A,size:Icon.CW}).withConfig({componentId:"sc-emyvp9-9"})([""]),LogoutIcon=(0,styled_components_browser_esm.styled)(StyledIcon).attrs({svg:logout.A,size:Icon.CW}).withConfig({componentId:"sc-emyvp9-10"})([""]),ManageSubscriptionIcon=(0,styled_components_browser_esm.styled)(StyledIcon).attrs({svg:manage_subscription,size:Icon.CW}).withConfig({componentId:"sc-emyvp9-11"})([""]),SecureIcon=(0,styled_components_browser_esm.styled)(StyledIcon).attrs({svg:_24_secure.A,size:Icon.CW}).withConfig({componentId:"sc-emyvp9-12"})([""]),UserProfileIcon=(0,styled_components_browser_esm.styled)(StyledIcon).attrs({svg:user_profile.A,size:Icon.CW}).withConfig({componentId:"sc-emyvp9-13"})([""]),ChevronDownIcon=(0,styled_components_browser_esm.styled)(ProfileNav_Icon).attrs({svg:chevronDown.A,size:Icon.CW}).withConfig({componentId:"sc-emyvp9-14"})(["position:absolute;top:0;right:14px;bottom:0;margin:auto 0;."," .active &{transform:rotateX(180deg);transition:0.5s all;}@media ","{display:none;}"],"is-open",devices.n5),ProfileNav=({updateActiveNavItem,determineActiveClassName})=>{const[isMobileNavOpen,setIsMobileNavOpen]=(0,useToggle.e)(!1),handleOnListItemClick=targetNavItemIdentifier=>{updateActiveNavItem(targetNavItemIdentifier),window.innerWidth<=breakPoints.n5&&setIsMobileNavOpen(!isMobileNavOpen)};return(0,jsx_runtime.jsxs)(jsx_runtime.Fragment,{children:[(0,jsx_runtime.jsxs)(ProfileMenu,{className:classnames_default()({"is-open":isMobileNavOpen}),children:[(0,jsx_runtime.jsx)(ListItem,{className:classnames_default()({active:determineActiveClassName("overview")}),onClick:()=>handleOnListItemClick("overview"),children:(0,jsx_runtime.jsxs)(ListLink,{children:[(0,jsx_runtime.jsx)(UserProfileIcon,{}),"Account Overview",(0,jsx_runtime.jsx)(ChevronDownIcon,{})]})}),(0,jsx_runtime.jsx)(ListItem,{className:classnames_default()("no-pad",{active:determineActiveClassName("details")}),onClick:()=>{handleOnListItemClick("details"),(0,custom_event_dispatchers.dispatchAccountOverviewTabMyDetailsClick)()},children:(0,jsx_runtime.jsxs)(ListLink,{children:[(0,jsx_runtime.jsx)(ListIcon,{}),"My details"]})}),(0,jsx_runtime.jsx)(ListItem,{className:classnames_default()("no-pad",{active:determineActiveClassName("password")}),onClick:()=>{handleOnListItemClick("password"),(0,custom_event_dispatchers.dispatchAccountOverviewTabChangePasswordClick)()},children:(0,jsx_runtime.jsxs)(ListLink,{children:[(0,jsx_runtime.jsx)(SecureIcon,{}),"Change password"]})}),(0,jsx_runtime.jsx)(ListItem,{className:classnames_default()("no-pad",{active:determineActiveClassName("payments")}),onClick:()=>{handleOnListItemClick("payments"),(0,custom_event_dispatchers.dispatchAccountOverviewTabPaymentAndBillingClick)()},children:(0,jsx_runtime.jsxs)(ListLink,{children:[(0,jsx_runtime.jsx)(BillingIcon,{}),"Payments & billing"]})}),(0,jsx_runtime.jsx)(ListItemManageSubscription,{className:classnames_default()({active:determineActiveClassName("manage")}),onClick:()=>{handleOnListItemClick("manage"),(0,custom_event_dispatchers.dispatchAccountOverviewTabManageSubscriptionClick)()},children:(0,jsx_runtime.jsxs)(ListLinkManageSubscription,{tabIndex:0,id:ids.MY,children:[(0,jsx_runtime.jsx)(ManageSubscriptionIcon,{}),"Manage Subscription"]})}),(0,jsx_runtime.jsx)(ListItem,{children:(0,jsx_runtime.jsxs)(ListLink,{href:"https://help.independent.co.uk/hc/en-us",target:"_blank",rel:"noopener noreferrer",children:[(0,jsx_runtime.jsx)(HelpIcon,{}),"Help centre",(0,jsx_runtime.jsx)(ExternalLinkIcon,{})]})}),(0,jsx_runtime.jsx)(ListItem,{children:(0,jsx_runtime.jsxs)(ListLink,{href:"/user/logout",children:[(0,jsx_runtime.jsx)(LogoutIcon,{}),"Logout"]})})]}),isMobileNavOpen&&(0,jsx_runtime.jsx)("div",{className:"mobile-background",onClick:()=>setIsMobileNavOpen(!1)})]})};ProfileNav.propTypes={updateActiveNavItem:prop_types_default().func.isRequired,determineActiveClassName:prop_types_default().func.isRequired};const Profile_ProfileNav=ProfileNav;var navigationArrowRight=__webpack_require__("./app/component/icons/16/navigationArrowRight.svg");const ProfileOverview_Icon=Icon.Ay.default||Icon.Ay,ProfileOverview_Wrapper=styled_components_browser_esm.styled.div.withConfig({componentId:"sc-1k1q44e-0"})([""]),HeaderBanner=styled_components_browser_esm.styled.h2.withConfig({componentId:"sc-1k1q44e-1"})(["padding:14px;margin:0;background:",";color:",";font-size:19px;font-weight:bold;text-align:center;"],(props=>props.theme.color.dark.canvas.base),(props=>props.theme.color.dark.ink.base)),NavigateArrowRightIcon=(0,styled_components_browser_esm.styled)(ProfileOverview_Icon).attrs({svg:navigationArrowRight.A,size:Icon.Kk}).withConfig({componentId:"sc-1k1q44e-2"})(["position:absolute;right:16px;"]),OverviewBlock=styled_components_browser_esm.styled.a.withConfig({componentId:"sc-1k1q44e-3"})(["display:flex;position:relative;width:calc(100% - 32px);min-height:103px;box-sizing:border-box;flex-wrap:wrap;align-items:center;padding:16px;margin:16px auto 0;background:",";color:",";cursor:pointer;font-size:19px;transition:background-color 0.3s ease;&:hover{background:",";}@media ","{width:calc(50% - 16px);margin:16px 0 0;}"],(props=>props.theme.color.canvas.base),(props=>props.theme.color.ink.base),(props=>props.theme.color.canvas.secondary),devices.n5),Edit=styled_components_browser_esm.styled.span.withConfig({componentId:"sc-1k1q44e-4"})(["display:flex;width:100%;margin-top:10px;color:",";font-size:16px;font-weight:normal;"],(props=>props.theme.color.primary.base)),OverviewMenu=styled_components_browser_esm.styled.div.withConfig({componentId:"sc-1k1q44e-5"})(["display:flex;flex-grow:2;flex-wrap:wrap;justify-content:space-between;"]),ProfileOverview=({profile,isSubscriber,updateActiveNavItem,determineActiveClassName})=>{const{firstName,lastName}=profile,greeting=firstName&&lastName?(0,jsx_runtime.jsxs)(jsx_runtime.Fragment,{children:["Welcome back ",(0,jsx_runtime.jsx)("strong",{children:`${firstName} ${lastName}`})]}):"Welcome back!";return(0,jsx_runtime.jsxs)(ProfileOverview_Wrapper,{className:classnames_default()("tab",{active:determineActiveClassName("overview")}),children:[(0,jsx_runtime.jsx)(HeaderBanner,{children:greeting}),(0,jsx_runtime.jsxs)(OverviewMenu,{children:[(0,jsx_runtime.jsxs)(OverviewBlock,{onClick:()=>{updateActiveNavItem("details")},children:["My details",(0,jsx_runtime.jsx)(Edit,{children:"Edit"}),(0,jsx_runtime.jsx)(NavigateArrowRightIcon,{})]}),isSubscriber?(0,jsx_runtime.jsxs)(OverviewBlock,{onClick:()=>updateActiveNavItem("payments"),children:["Payments and billing",(0,jsx_runtime.jsx)(Edit,{children:"Edit"}),(0,jsx_runtime.jsx)(NavigateArrowRightIcon,{})]}):(0,jsx_runtime.jsxs)(OverviewBlock,{onClick:()=>updateActiveNavItem("password"),children:["Change password",(0,jsx_runtime.jsx)(Edit,{children:"Edit"}),(0,jsx_runtime.jsx)(NavigateArrowRightIcon,{})]}),(0,jsx_runtime.jsxs)(OverviewBlock,{href:"/independent-premium#newsletters",children:["Newsletters",(0,jsx_runtime.jsx)(NavigateArrowRightIcon,{})]})]})]})};ProfileOverview.propTypes={profile:prop_types_default().object.isRequired,isSubscriber:prop_types_default().bool,updateActiveNavItem:prop_types_default().func.isRequired,determineActiveClassName:prop_types_default().func.isRequired};const Profile_ProfileOverview=ProfileOverview;var formErrorMessages=__webpack_require__("./app/constants/formErrorMessages.js");function ProfilePassword_ownKeys(e,r){var t=Object.keys(e);if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(e);r&&(o=o.filter((function(r){return Object.getOwnPropertyDescriptor(e,r).enumerable}))),t.push.apply(t,o)}return t}function ProfilePassword_objectSpread(e){for(var r=1;r<arguments.length;r++){var t=null!=arguments[r]?arguments[r]:{};r%2?ProfilePassword_ownKeys(Object(t),!0).forEach((function(r){(0,defineProperty.A)(e,r,t[r])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(t)):ProfilePassword_ownKeys(Object(t)).forEach((function(r){Object.defineProperty(e,r,Object.getOwnPropertyDescriptor(t,r))}))}return e}const ProfilePassword_Wrapper=styled_components_browser_esm.styled.div.withConfig({componentId:"sc-dtmo5b-0"})(["padding:24px 32px;"]),ProfilePassword_H2=styled_components_browser_esm.styled.h2.withConfig({componentId:"sc-dtmo5b-1"})(["display:none;padding:0;margin:0 0 ","px;font-size:25px;font-weight:normal;text-align:left;@media ","{display:block;}"],(({theme})=>theme.spacing.x3),devices.n5),ProfilePassword_Form=(0,styled_components_browser_esm.styled)(FakeForm.k).withConfig({componentId:"sc-dtmo5b-2"})(["@media ","{max-width:280px;margin:0 0 0 50px;}"],devices.n5),ProfilePassword_ProfileFormSubmit=(0,styled_components_browser_esm.styled)(FormSubmit.Ay).withConfig({componentId:"sc-dtmo5b-3"})(["margin-top:46px;button{margin:0;}"]),ProfilePassword_SubmitMessage=styled_components_browser_esm.styled.div.attrs({role:"alert"}).withConfig({componentId:"sc-dtmo5b-4"})([""]),postInternalApi=async(path,formData)=>await fetch(`${path}?__amp_source_origin=${window.location.protocol}//${window.location.host}`,{method:"POST",body:new URLSearchParams(formData)}),INITIAL_STATE={[ids.c$]:"",[ids.b0]:"",[ids.xe]:""},INITIAL_STATE_PASSWORD_VISIBILITY={[ids.c$]:!0,[ids.b0]:!0,[ids.xe]:!0},INITIAL_STATE_CLASS_NAMES={[ids.c$]:[],[ids.b0]:[],[ids.xe]:[]},CurrentPasswordField=FormTextField,NewPasswordField=FormTextField,ConfirmPasswordField=FormTextField,ProfilePassword=({determineActiveClassName,email})=>{const{state:{formValues,inputErrorMessages,submitErrorMessage},stateHandlers:{setFormValues,setInputErrorMessages,setSubmitErrorMessage},debounce}=(0,useFormLogic.C)(INITIAL_STATE),[hasSuccessfullySubmitted,setHasSuccessfullySubmitted]=(0,useToggle.e)(!1),[passwordsShown,setPasswordsShown]=(0,react.useState)(INITIAL_STATE_PASSWORD_VISIBILITY),[inputClassNames,setInputClassNames]=(0,react.useState)(INITIAL_STATE_CLASS_NAMES),previousFormState=(0,react.useRef)(INITIAL_STATE),currentPasswordRef=(0,react.useRef)(null),oldPasswordRef=(0,react.useRef)(null),confirmPasswordRef=(0,react.useRef)(null),isOnMount=(0,react.useRef)(!0),determineInputType=isPasswordHidden=>isPasswordHidden?"password":"text",handleShowPasswordClick=inputId=>setPasswordsShown(ProfilePassword_objectSpread(ProfilePassword_objectSpread({},passwordsShown),{},{[inputId]:!passwordsShown[inputId]})),onFocus=evt=>{const{id}=evt.target,classNamesStateCopy=[...inputClassNames[id]];classNamesStateCopy.includes(classNames.Ev)||classNamesStateCopy.push(classNames.Ev),isEqual_default()(classNamesStateCopy,inputClassNames[id])||setInputClassNames(ProfilePassword_objectSpread(ProfilePassword_objectSpread({},inputClassNames),{},{[id]:classNamesStateCopy})),hasSuccessfullySubmitted&&setHasSuccessfullySubmitted(!1)},updateValidityClassState=(targetClassNameStateCopy,targetClassName)=>{const targetValidityClassIdx=targetClassNameStateCopy.findIndex((className=>[classNames.vl,classNames.U1].includes(className)));-1===targetValidityClassIdx?targetClassNameStateCopy.push(targetClassName):targetClassNameStateCopy.splice(targetValidityClassIdx,1,targetClassName)},updateBorderStyles=evt=>{const{id,value}=evt.target,classNamesStateCopy=[...inputClassNames[id]],targetValidityClass=""===formValues[id]||inputErrorMessages[id]?classNames.U1:classNames.vl,targetInputHasValueClass=classNamesStateCopy.find((className=>className===classNames.ly));if(updateValidityClassState(classNamesStateCopy,targetValidityClass),""===value||targetInputHasValueClass){if(""===value&&targetInputHasValueClass){const inputHasValueClassIdx=classNamesStateCopy.indexOf(targetInputHasValueClass);classNamesStateCopy.splice(inputHasValueClassIdx,1)}}else classNamesStateCopy.push(classNames.ly);isEqual_default()(classNamesStateCopy,inputClassNames[id])||setInputClassNames(ProfilePassword_objectSpread(ProfilePassword_objectSpread({},inputClassNames),{},{[id]:classNamesStateCopy}))},onChange=evt=>{const{id,value}=evt.target;updateBorderStyles(evt),setFormValues(ProfilePassword_objectSpread(ProfilePassword_objectSpread({},formValues),{},{[id]:value}))};return(0,react.useEffect)((()=>{if(isOnMount.current)return void(isOnMount.current=!1);const verifyForm=async()=>{const formData=new FormData;formData.append("oldPassword",formValues[ids.c$]),formData.append("newPassword",formValues[ids.b0]),formData.append("confirmPassword",formValues[ids.xe]),formData.append("userEmail",email);const res=await postInternalApi("/internal-api/change-password/verify",formData);if(res.ok){setInputErrorMessages(INITIAL_STATE),setSubmitErrorMessage("");const newClassNameState=ProfilePassword_objectSpread({},inputClassNames);return Object.keys(inputClassNames).forEach((key=>{const classNamesCopy=[...inputClassNames[key]],targetValidityClassIdx=classNamesCopy.findIndex((className=>className===classNames.U1));-1!==targetValidityClassIdx&&classNamesCopy.splice(targetValidityClassIdx,1,classNames.vl),isEqual_default()(classNamesCopy,newClassNameState[key])||(newClassNameState[key]=classNamesCopy)})),void(isEqual_default()(newClassNameState,inputClassNames)||setInputClassNames(newClassNameState))}const{verifyErrors}=await res.json(),newErrorMessageStateEntries=createNewErrorStateFromServerResponse(verifyErrors,formValues,inputErrorMessages,"change-password-form");newErrorMessageStateEntries.filter((([name,message])=>inputErrorMessages[name]!==message)).length>0&&setInputErrorMessages(Object.fromEntries(newErrorMessageStateEntries));const newClassNameState=ProfilePassword_objectSpread({},inputClassNames);newErrorMessageStateEntries.forEach((([name,value])=>{const classNamesStateCopy=[...inputClassNames[name]],targetClassName=""===value?classNames.vl:classNames.U1;classNamesStateCopy.includes(classNames.Ev)&&(updateValidityClassState(classNamesStateCopy,targetClassName),isEqual_default()(classNamesStateCopy,newClassNameState[name])||(newClassNameState[name]=classNamesStateCopy))})),isEqual_default()(newClassNameState,inputClassNames)||setInputClassNames(newClassNameState)};isEqual_default()(formValues,previousFormState.current)||(previousFormState.current=formValues,debounce(verifyForm,500)())}),[formValues,inputErrorMessages,inputClassNames,setInputErrorMessages,setSubmitErrorMessage,debounce,email]),(0,jsx_runtime.jsxs)(ProfilePassword_Wrapper,{className:classnames_default()("tab",{active:determineActiveClassName("password")}),children:[(0,jsx_runtime.jsx)(ProfilePassword_H2,{className:"icon-profile title",children:"Change password"}),(0,jsx_runtime.jsxs)(ProfilePassword_Form,{id:ids.iv,formDescription:"Change active password",children:[(0,jsx_runtime.jsx)(CurrentPasswordField,{value:formValues[ids.c$],fieldName:"oldPassword",inputType:determineInputType(passwordsShown[ids.c$]),showPassword:!0,onShowPasswordClick:handleShowPasswordClick,showPasswordStatus:passwordsShown[ids.c$],fieldId:ids.c$,displayName:"Current password",requiredField:!0,helperText:"Enter your current password",onFocus,onChange,onBlur:updateBorderStyles,nonAmpErrorMessage:inputErrorMessages[ids.c$],formElementRef:currentPasswordRef,className:inputClassNames[ids.c$].join(" ")}),(0,jsx_runtime.jsx)(NewPasswordField,{value:formValues[ids.b0],fieldName:"newPassword",inputType:determineInputType(passwordsShown[ids.b0]),showPassword:!0,onShowPasswordClick:handleShowPasswordClick,showPasswordStatus:passwordsShown[ids.b0],fieldId:ids.b0,displayName:"New password",requiredField:!0,helperText:"Enter your new password",onFocus,onChange,onBlur:updateBorderStyles,nonAmpErrorMessage:inputErrorMessages[ids.b0],formElementRef:oldPasswordRef,className:inputClassNames[ids.b0].join(" ")}),(0,jsx_runtime.jsx)(ConfirmPasswordField,{value:formValues[ids.xe],fieldName:"confirmPassword",inputType:determineInputType(passwordsShown[ids.xe]),showPassword:!0,onShowPasswordClick:handleShowPasswordClick,showPasswordStatus:passwordsShown[ids.xe],fieldId:ids.xe,displayName:"Re-type new password",requiredField:!0,helperText:"Re-type new password",onFocus,onChange,onBlur:updateBorderStyles,nonAmpErrorMessage:inputErrorMessages[ids.xe],formElementRef:confirmPasswordRef,className:inputClassNames[ids.xe].join(" ")}),(0,jsx_runtime.jsx)(ProfilePassword_ProfileFormSubmit,{onClick:async()=>{try{const isErrorMessagePresent=!Object.entries(inputErrorMessages).every((([_key,value])=>""===value)),isFormNotComplete=!Object.entries(formValues).every((([_key,value])=>""!==value));if(isErrorMessagePresent||isFormNotComplete){const targetInvalidInput=[...document.getElementsByClassName("form-textfield")].find((input=>""===input.value||input.parentElement.classList.contains(classNames.U1)));return null==targetInvalidInput||targetInvalidInput.focus(),void setSubmitErrorMessage(formErrorMessages.d)}const formData=new FormData;formData.append("oldPassword",formValues[ids.c$]),formData.append("newPassword",formValues[ids.b0]),formData.append("confirmPassword",formValues[ids.xe]),formData.append("userEmail",email);const res=await postInternalApi("/internal-api/change-password/submit",formData),resJson=await res.json();if(!res.ok)throw new Error(resJson.message);[currentPasswordRef,oldPasswordRef,confirmPasswordRef].forEach((ref=>ref.current.value="")),setFormValues(INITIAL_STATE),setInputErrorMessages(INITIAL_STATE),setInputClassNames(INITIAL_STATE_CLASS_NAMES),setSubmitErrorMessage(""),setHasSuccessfullySubmitted(!0)}catch(error){setSubmitErrorMessage(error.message),hasSuccessfullySubmitted&&setHasSuccessfullySubmitted(!1)}},children:"Save changes"}),submitErrorMessage&&(0,jsx_runtime.jsx)(ProfilePassword_SubmitMessage,{children:submitErrorMessage}),hasSuccessfullySubmitted&&(0,jsx_runtime.jsx)(ProfilePassword_SubmitMessage,{children:"Password updated successfully."})]})]})};ProfilePassword.propTypes={determineActiveClassName:prop_types_default().func.isRequired,email:prop_types_default().string};const Profile_ProfilePassword=ProfilePassword,ProfileNavWithTabs_Wrapper=styled_components_browser_esm.styled.section.withConfig({componentId:"sc-210vgw-0"})(["display:flex;max-width:968px;box-sizing:border-box;flex-wrap:wrap;color:",";font-family:",";form{width:100%;margin:0;@media ","{max-width:280px;margin:0 0 0 50px;}}@media ","{flex-wrap:nowrap;}.title{font-family:",";font-size:18px;font-weight:",";letter-spacing:2.5px;line-height:22px;text-transform:uppercase;}"],(props=>props.theme.color.ink.base),(props=>props.theme.fontFamily.secondaryFont),devices.n5,devices.n5,(props=>props.theme.fontFamily.secondaryFont),(props=>props.theme.fontWeight.bold)),TabContainer=styled_components_browser_esm.styled.div.withConfig({componentId:"sc-210vgw-1"})(["width:100%;@media ","{margin-right:15px;}.details,.password{& > div{padding:24px 32px;background:",";}aside{padding:24px 32px 32px;margin-top:24px;background:",";}}"],devices.BY,(props=>props.theme.color.canvas.base),(props=>props.theme.color.canvas.base)),ProfileNavWithTabsBase=({userProfile,userSubscriptions,userAccessInfo,isSubscriber,isExperimentalPaymentsEnabled,initialActiveNavItem="overview",isNicknameDisabled,toggleIsNicknameDisabled,toggleIsUserCancellingSubscription,cancellationJourneyData,userDetailsData,hasUserDonated,className})=>{const[activeNavItem,setActiveNavItem]=(0,react.useState)(initialActiveNavItem),determineActiveClassName=targetNavItem=>activeNavItem===targetNavItem,updateActiveNavItem=targetItem=>setActiveNavItem(targetItem),Component={overview:(0,jsx_runtime.jsx)(Profile_ProfileOverview,{profile:userProfile,isSubscriber,updateActiveNavItem,determineActiveClassName}),details:(0,jsx_runtime.jsx)(Profile_ProfileDetails,{profile:userProfile,isNicknameDisabled,toggleIsNicknameDisabled,determineActiveClassName,userDetailsData}),password:(0,jsx_runtime.jsx)(Profile_ProfilePassword,{email:userProfile.email,determineActiveClassName}),payments:(0,jsx_runtime.jsx)(Profile_PaymentsAndBilling,{profile:userProfile,userSubscriptionsInfo:userSubscriptions,userAccessInfo,isSubscriber,hasUserDonated,isExperimentalPaymentsEnabled,determineActiveClassName}),manage:(0,jsx_runtime.jsx)(ManageSubscription,{isSubscriber,userSubscriptionsInfo:userSubscriptions,cancellationJourneyData,toggleIsUserCancellingSubscription,className:classnames_default()("tab",{active:determineActiveClassName("manage")})})}[activeNavItem]||null;return(0,jsx_runtime.jsxs)(ProfileNavWithTabs_Wrapper,{className:classnames_default()(className,"profile-wrapper"),children:[(0,jsx_runtime.jsx)(Profile_ProfileNav,{updateActiveNavItem,determineActiveClassName}),(0,jsx_runtime.jsx)(TabContainer,{children:Component})]})};ProfileNavWithTabsBase.propTypes={userProfile:prop_types_default().shape({firstName:prop_types_default().string.isRequired,lastName:prop_types_default().string.isRequired,email:prop_types_default().string.isRequired,birthYear:prop_types_default().string.isRequired,nickname:prop_types_default().string,uid:prop_types_default().string,customFields:prop_types_default().object}).isRequired,userSubscriptions:prop_types_default().arrayOf(types.pt).isRequired,userAccessInfo:prop_types_default().arrayOf(UserAccessInfoType).isRequired,isSubscriber:prop_types_default().bool,isExperimentalPaymentsEnabled:prop_types_default().bool,initialActiveNavItem:prop_types_default().string,isNicknameDisabled:prop_types_default().bool.isRequired,toggleIsNicknameDisabled:prop_types_default().func.isRequired,cancellationJourneyData:prop_types_default().object,userDetailsData:prop_types_default().object,toggleIsUserCancellingSubscription:prop_types_default().func.isRequired,className:prop_types_default().string,hasUserDonated:prop_types_default().bool};const ProfileNavWithTabs=(0,styled_components_browser_esm.styled)(ProfileNavWithTabsBase).withConfig({componentId:"sc-210vgw-2"})([""]);var mixins=__webpack_require__("../ui/dist/mixins.js"),premiumLogoText=__webpack_require__("./app/component/icons/premiumLogoText.svg");const LastChanceBeforeCancelling_excluded=["children","titleContent","subTitleContent","onCancelSubscriptionButtonClick"];function LastChanceBeforeCancelling_ownKeys(e,r){var t=Object.keys(e);if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(e);r&&(o=o.filter((function(r){return Object.getOwnPropertyDescriptor(e,r).enumerable}))),t.push.apply(t,o)}return t}function LastChanceBeforeCancelling_objectSpread(e){for(var r=1;r<arguments.length;r++){var t=null!=arguments[r]?arguments[r]:{};r%2?LastChanceBeforeCancelling_ownKeys(Object(t),!0).forEach((function(r){(0,defineProperty.A)(e,r,t[r])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(t)):LastChanceBeforeCancelling_ownKeys(Object(t)).forEach((function(r){Object.defineProperty(e,r,Object.getOwnPropertyDescriptor(t,r))}))}return e}const LastChanceBeforeCancelling_Button=Button.Ay.default||Button.Ay,LastChanceBeforeCancelling_Wrapper=styled_components_browser_esm.styled.section.withConfig({componentId:"sc-tp1imw-0"})(["padding:","px ","px;background-color:",";@media ","{padding-top:50px;}"],(({theme})=>theme.spacing.x3),(({theme})=>theme.spacing.x1_5),(({theme})=>theme.color.canvas.brand),devices.n5),LastChanceBeforeCancelling_InnerWrapper=styled_components_browser_esm.styled.div.withConfig({componentId:"sc-tp1imw-1"})(["display:flex;max-width:365px;flex-direction:column;justify-content:center;margin:0 auto;@media ","{max-width:475px;}"],devices.BY),IndyPremiumLogoWrapper=styled_components_browser_esm.styled.div.withConfig({componentId:"sc-tp1imw-2"})(["--max-width:270px;max-width:var(--max-width);margin:0 auto ","px;@media ","{--max-width:400px;margin-bottom:","px;}@media ","{--max-width:450px;}"],(({theme})=>theme.spacing.x3),devices.n5,(({theme})=>theme.spacing.x4),devices.BY),IndyPremiumLogo=(0,styled_components_browser_esm.styled)(premiumLogoText.A).withConfig({componentId:"sc-tp1imw-3"})(["max-width:100%;"]),IndyPremiumLogoAltText=styled_components_browser_esm.styled.span.withConfig({componentId:"sc-tp1imw-4"})(["",""],mixins.Qg),LastChanceBeforeCancelling_Title=styled_components_browser_esm.styled.h1.withConfig({componentId:"sc-tp1imw-5"})(["margin:0 0 ","px;color:",";font:",";text-align:center;@media ","{font:",";}@media ","{font:",";}"],(({theme})=>theme.spacing.x2),(({theme})=>theme.color.ink.base),(({theme})=>theme.textStyle.profile.subscription.cancellation.mobile.title),devices.n5,(({theme})=>theme.textStyle.profile.subscription.cancellation.tablet.title),devices.BY,(({theme})=>theme.textStyle.profile.subscription.cancellation.laptop.title)),LastChanceBeforeCancelling_SubTitle=styled_components_browser_esm.styled.p.withConfig({componentId:"sc-tp1imw-6"})(["margin:0 auto;color:",";font:",";text-align:center;@media ","{font:",";}"],(({theme})=>theme.color.actionBrand.alt),(({theme})=>theme.textStyle.profile.subscription.cancellation.mobile.subtitle),devices.BY,(({theme})=>theme.textStyle.profile.subscription.cancellation.tablet.subtitle)),LastChanceBeforeCancelling=_ref=>{let{children,titleContent,subTitleContent,onCancelSubscriptionButtonClick}=_ref,rest=(0,objectWithoutProperties.A)(_ref,LastChanceBeforeCancelling_excluded);return(0,react.useEffect)((()=>{window.scrollTo(0,0)}),[]),(0,jsx_runtime.jsxs)(LastChanceBeforeCancelling_Wrapper,LastChanceBeforeCancelling_objectSpread(LastChanceBeforeCancelling_objectSpread({"aria-labelledby":"title"},rest),{},{children:[(0,jsx_runtime.jsxs)(IndyPremiumLogoWrapper,{children:[(0,jsx_runtime.jsx)(IndyPremiumLogo,{}),(0,jsx_runtime.jsx)(IndyPremiumLogoAltText,{children:"Independent Premium"})]}),(0,jsx_runtime.jsx)(LastChanceBeforeCancelling_Title,{id:"title",children:titleContent}),(0,jsx_runtime.jsx)(LastChanceBeforeCancelling_SubTitle,{children:subTitleContent}),(0,jsx_runtime.jsxs)(LastChanceBeforeCancelling_InnerWrapper,{children:[children,(0,jsx_runtime.jsx)(LastChanceBeforeCancelling_Button,{variant:Button.YG,size:Button.Zz,onClick:()=>{onCancelSubscriptionButtonClick()},children:"cancel subscription"})]})]}))};LastChanceBeforeCancelling.propTypes={children:propTypes.S.isRequired,titleContent:prop_types_default().string.isRequired,subTitleContent:prop_types_default().string.isRequired,onCancelSubscriptionButtonClick:prop_types_default().func.isRequired};var _16_close=__webpack_require__("./app/component/icons/16/close.svg");const BeforeYouGo_excluded=["benefits","toggleIsUserCancellingSubscription","beforeYouGoCancelSubBtnClick"];function BeforeYouGo_ownKeys(e,r){var t=Object.keys(e);if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(e);r&&(o=o.filter((function(r){return Object.getOwnPropertyDescriptor(e,r).enumerable}))),t.push.apply(t,o)}return t}function BeforeYouGo_objectSpread(e){for(var r=1;r<arguments.length;r++){var t=null!=arguments[r]?arguments[r]:{};r%2?BeforeYouGo_ownKeys(Object(t),!0).forEach((function(r){(0,defineProperty.A)(e,r,t[r])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(t)):BeforeYouGo_ownKeys(Object(t)).forEach((function(r){Object.defineProperty(e,r,Object.getOwnPropertyDescriptor(t,r))}))}return e}const BeforeYouGo_Icon=Icon.Ay.default||Icon.Ay,LostBenefitList=styled_components_browser_esm.styled.div.withConfig({componentId:"sc-2mkiqz-0"})(["display:grid;gap:","px 47px;grid-template-columns:repeat(2,1fr);padding:","px 0 ","px;@media ","{gap:","px;padding:","px 0;}@media ","{grid-template-columns:repeat(4,1fr);margin-inline:","px;}"],(({theme})=>theme.spacing.x3),(({theme})=>theme.spacing.x2),(({theme})=>theme.spacing.x3),devices.n5,(({theme})=>theme.spacing.x4),(({theme})=>theme.spacing.x4),devices.BY,Math.floor(-148.75)),LostBenefit=styled_components_browser_esm.styled.div.withConfig({componentId:"sc-2mkiqz-1"})(["display:flex;flex-direction:column;align-items:center;gap:22px;@media ","{gap:","px;}"],devices.n5,(({theme})=>theme.spacing.x4)),LostBenefitImageWrapper=styled_components_browser_esm.styled.div.withConfig({componentId:"sc-2mkiqz-2"})([""]),LostBenefitImage=styled_components_browser_esm.styled.img.withConfig({componentId:"sc-2mkiqz-3"})(["display:block;max-width:100%;"]),LostBenefitDesc=styled_components_browser_esm.styled.p.withConfig({componentId:"sc-2mkiqz-4"})(["position:relative;margin:0;font:",";text-align:center;"],(({theme})=>theme.textStyle.subscriberOffer.list)),CloseIconWrapper=styled_components_browser_esm.styled.span.withConfig({componentId:"sc-2mkiqz-5"})(["--size:13px;display:grid;position:absolute;top:0;left:50%;width:var(--size);min-width:var(--size);height:var(--size);border-radius:50%;background-color:",";place-content:center;transform:translate(-50%,-125%);svg{width:calc(var(--size) - 4px);}@media ","{--size:20px;svg{width:calc(var(--size) - 7px);}}"],(({theme})=>theme.color.semiotic.error),devices.n5),CloseIcon=(0,styled_components_browser_esm.styled)(BeforeYouGo_Icon).attrs({svg:_16_close.A,size:"small"}).withConfig({componentId:"sc-2mkiqz-6"})(["color:",";"],(({theme})=>theme.color.canvas.base)),KeepSubscriptionButton=(0,styled_components_browser_esm.styled)(Button.Gp).attrs({size:Button.Zz}).withConfig({componentId:"sc-2mkiqz-7"})(["margin-bottom:","px;&:focus{color:var(--color);}"],(({theme})=>theme.spacing.x3)),LostBenefitListItem=({title,icon})=>(0,jsx_runtime.jsxs)(LostBenefit,{children:[(0,jsx_runtime.jsx)(LostBenefitImageWrapper,{children:(0,jsx_runtime.jsx)(LostBenefitImage,{src:icon,alt:""})}),(0,jsx_runtime.jsxs)(LostBenefitDesc,{children:[(0,jsx_runtime.jsx)(CloseIconWrapper,{children:(0,jsx_runtime.jsx)(CloseIcon,{})}),title]})]});LostBenefitListItem.propTypes={title:prop_types_default().string.isRequired,icon:prop_types_default().string.isRequired};const BeforeYouGo=_ref=>{let{benefits,toggleIsUserCancellingSubscription,beforeYouGoCancelSubBtnClick}=_ref,rest=(0,objectWithoutProperties.A)(_ref,BeforeYouGo_excluded);return(0,jsx_runtime.jsxs)(LastChanceBeforeCancelling,BeforeYouGo_objectSpread(BeforeYouGo_objectSpread({titleContent:"Before you go...",subTitleContent:"Here's a quick reminder of what you'll lose:",onCancelSubscriptionButtonClick:()=>{(0,custom_event_dispatchers.dispatchAccountCancellationBarrier1Click)(),(0,custom_event_dispatchers.dispatchStageBarrier1Click)(),beforeYouGoCancelSubBtnClick()}},rest),{},{children:[(0,jsx_runtime.jsx)(LostBenefitList,{children:benefits.map((({title,image},i)=>(0,jsx_runtime.jsx)(LostBenefitListItem,{title,icon:image},i)))}),(0,jsx_runtime.jsx)(KeepSubscriptionButton,{onClick:()=>{(0,custom_event_dispatchers.dispatchAccountCancellationKeepSubscriptionClick)(),toggleIsUserCancellingSubscription()},children:"keep subscription"})]}))};BeforeYouGo.propTypes={benefits:prop_types_default().arrayOf(prop_types_default().shape({title:prop_types_default().string,icon:prop_types_default().string})).isRequired,toggleIsUserCancellingSubscription:prop_types_default().func.isRequired,beforeYouGoCancelSubBtnClick:prop_types_default().func.isRequired};const UnmissableOffer_excluded=["toggleIsUserCancellingSubscription","cancellationJourneyData","userSubscriptions","subscriptionPromotionData","targetSubscriptionId","cancelUserSubscription"];function UnmissableOffer_ownKeys(e,r){var t=Object.keys(e);if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(e);r&&(o=o.filter((function(r){return Object.getOwnPropertyDescriptor(e,r).enumerable}))),t.push.apply(t,o)}return t}function UnmissableOffer_objectSpread(e){for(var r=1;r<arguments.length;r++){var t=null!=arguments[r]?arguments[r]:{};r%2?UnmissableOffer_ownKeys(Object(t),!0).forEach((function(r){(0,defineProperty.A)(e,r,t[r])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(t)):UnmissableOffer_ownKeys(Object(t)).forEach((function(r){Object.defineProperty(e,r,Object.getOwnPropertyDescriptor(t,r))}))}return e}const UnmissableOffer_Button=Button.Ay.default||Button.Ay,SaveNowWrapper=styled_components_browser_esm.styled.div.withConfig({componentId:"sc-s382gb-0"})(["display:flex;position:relative;flex-direction:column;align-items:center;padding:","px ","px ","px;margin:","px 0 ","px;border:1px solid ",";border-radius:6px;background-color:",";&::before{position:absolute;top:0;left:50%;width:max-content;padding:","px ","px;border-radius:","px;background-color:",";content:'Subscriber offer';font:",";text-transform:uppercase;transform:translate(-50%,-50%);}@media ","{padding:","px ","px;margin-top:40px;}@media ","{padding-bottom:","px;}"],(({theme})=>theme.spacing.x3),(({theme})=>theme.spacing.x2),(({theme})=>theme.spacing.x2),(({theme})=>theme.spacing.x4),(({theme})=>theme.spacing.x3),(({theme})=>theme.color.primary.base),(({theme})=>theme.color.canvas.secondary),(({theme})=>theme.spacing.x0_5),(({theme})=>theme.spacing.x1),(({theme})=>theme.spacing.x2),(({theme})=>theme.color.semiotic.attention),(({theme})=>theme.textStyle.subscriberOffer.small),devices.n5,(({theme})=>theme.spacing.x3),(({theme})=>theme.spacing.x2),devices.BY,(({theme})=>theme.spacing.x2)),OfferStartDate=styled_components_browser_esm.styled.p.withConfig({componentId:"sc-s382gb-1"})(["margin:0 0 ","px;color:",";font:",";"],(({theme})=>theme.spacing.x1),(({theme})=>theme.color.ink.dark),(({theme})=>theme.textStyle.subscriberOffer.small)),SubPackageType=styled_components_browser_esm.styled.p.withConfig({componentId:"sc-s382gb-2"})(["margin:0 0 ","px;color:",";font:",";text-align:center;"],(({theme})=>theme.spacing.x1),(({theme})=>theme.color.actionBrand.alt),(({theme})=>theme.textStyle.subscriberOffer.base)),SubPackageLength=styled_components_browser_esm.styled.p.withConfig({componentId:"sc-s382gb-3"})(["margin:0 0 ","px;font:",";"],(({theme})=>theme.spacing.x1),(({theme})=>theme.textStyle.subscriberOffer.offerLength)),Pricing=styled_components_browser_esm.styled.p.withConfig({componentId:"sc-s382gb-4"})(["margin:0 0 ","px;font:",";text-align:center;"],(({theme})=>theme.spacing.x1),(({theme})=>theme.textStyle.subscriberOffer.large)),OldPrice=styled_components_browser_esm.styled.del.withConfig({componentId:"sc-s382gb-5"})(["margin-right:7px;color:",";"],(({theme})=>theme.color.ink.light)),NewPrice=styled_components_browser_esm.styled.ins.withConfig({componentId:"sc-s382gb-6"})(["text-decoration:none;"]),FuturePriceSavings=styled_components_browser_esm.styled.p.withConfig({componentId:"sc-s382gb-7"})(["--spacing-x:6px;margin:0;font:",";text-align:center;"],(({theme})=>theme.textStyle.subscriberOffer.small)),RecurringPrice=styled_components_browser_esm.styled.span.withConfig({componentId:"sc-s382gb-8"})(["padding-right:var(--spacing-x);border-right:1px solid currentColor;color:",";"],(({theme})=>theme.color.ink.dark)),SavingAmount=styled_components_browser_esm.styled.span.withConfig({componentId:"sc-s382gb-9"})(["margin-left:var(--spacing-x);color:",";"],(({theme})=>theme.color.primary.dark)),TakeThisOfferButton=(0,styled_components_browser_esm.styled)(UnmissableOffer_Button).attrs({size:Button.Zz}).withConfig({componentId:"sc-s382gb-10"})(["margin:","px 0;"],(({theme})=>theme.spacing.x2)),TermsAndConditions=styled_components_browser_esm.styled.p.withConfig({componentId:"sc-s382gb-11"})(["margin:0;color:",";font:",";font-weight:normal;text-align:center;"],(({theme})=>theme.color.ink.dark),(({theme})=>theme.textStyle.subscriberOffer.small)),UnmissableOffer=_ref=>{let{toggleIsUserCancellingSubscription,cancellationJourneyData,userSubscriptions,subscriptionPromotionData,targetSubscriptionId,cancelUserSubscription}=_ref,rest=(0,objectWithoutProperties.A)(_ref,UnmissableOffer_excluded);const targetSubscription=userSubscriptions.find((({userPaymentsInfo})=>(null==userPaymentsInfo?void 0:userPaymentsInfo.transactionNumber)===targetSubscriptionId))||{},userPaymentsInfo=targetSubscription.userPaymentsInfo,term=null==userPaymentsInfo?void 0:userPaymentsInfo.term,{newPrice,newPriceFormatted,billingPeriodLimit,promoCode}=subscriptionPromotionData,startDate=(date=null==userPaymentsInfo?void 0:userPaymentsInfo.nextBillingDate,dayjs_min_default().unix(date).format("DD MMM YYYY"));var date;const subPackage=null==term?void 0:term.resourceName,oldPrice=(0,formatPriceByCurrency.$)(null==term?void 0:term.currency,null==term?void 0:term.price),{subPackageLength,subPackageFrequency}={Monthly:{subPackageLength:"Monthly",subPackageFrequency:"month"},Yearly:{subPackageLength:"Annual",subPackageFrequency:"year"}}[null==term?void 0:term.length]||{},priceDifferenceAsFraction=(Number(newPrice)-(null==term?void 0:term.price))/(null==term?void 0:term.price),percentDiscount=Math.abs(100*priceDifferenceAsFraction).toFixed();return(0,jsx_runtime.jsx)(LastChanceBeforeCancelling,UnmissableOffer_objectSpread(UnmissableOffer_objectSpread({titleContent:"Before you go...",subTitleContent:"Stay with us, for less",onCancelSubscriptionButtonClick:()=>{(0,custom_event_dispatchers.dispatchAccountCancellationBarrier2Click)(),(0,custom_event_dispatchers.dispatchStageBarrier2Click)(),cancelUserSubscription()}},rest),{},{children:(0,jsx_runtime.jsxs)(SaveNowWrapper,{children:[(0,jsx_runtime.jsxs)(OfferStartDate,{children:["Starts ",startDate]}),(0,jsx_runtime.jsx)(SubPackageType,{children:subPackage}),(0,jsx_runtime.jsx)(SubPackageLength,{children:subPackageLength}),(0,jsx_runtime.jsxs)(Pricing,{children:[(0,jsx_runtime.jsx)(OldPrice,{children:oldPrice}),(0,jsx_runtime.jsx)(NewPrice,{children:newPriceFormatted})," for ",billingPeriodLimit," ",subPackageFrequency]}),(0,jsx_runtime.jsxs)(FuturePriceSavings,{children:[(0,jsx_runtime.jsxs)(RecurringPrice,{children:["Then ",oldPrice,"/",subPackageFrequency]}),(0,jsx_runtime.jsxs)(SavingAmount,{children:["SAVE ",percentDiscount,"%"]})]}),(0,jsx_runtime.jsx)(TakeThisOfferButton,{onClick:()=>{var _userPaymentsInfo$ter;(0,custom_event_dispatchers.dispatchAccountCancellationTakeThisOfferClick)(),window.tp=window.tp||[],window.tp.push(["addHandler","checkoutComplete",()=>{var _document$getElements;cancellationJourneyData.current.targetSubscriptionStatus="renewed";const pianoOfferCloseButton=null===(_document$getElements=document.getElementsByClassName("tp-close"))||void 0===_document$getElements?void 0:_document$getElements[0];null==pianoOfferCloseButton||pianoOfferCloseButton.click(),updateUserAutoRenew({targetSubscriptionId,autoRenew:!0}),toggleIsUserCancellingSubscription()}]),(0,js_piano.Re)({offerId:targetSubscription.offerId,termId:null==userPaymentsInfo||null===(_userPaymentsInfo$ter=userPaymentsInfo.term)||void 0===_userPaymentsInfo$ter?void 0:_userPaymentsInfo$ter.termId,isPaymentFlow:!1,promoCode})},children:"Take this offer"}),(0,jsx_runtime.jsx)(TermsAndConditions,{children:"Subscription renews automatically and you can cancel auto-renewal at any time. Independent Digital News and Media Ltd reserves the right to withdraw this promotion at any time."})]})}))};UnmissableOffer.propTypes={toggleIsUserCancellingSubscription:prop_types_default().func.isRequired,cancellationJourneyData:prop_types_default().object.isRequired,userSubscriptions:prop_types_default().arrayOf(types.pt).isRequired,subscriptionPromotionData:prop_types_default().object.isRequired,targetSubscriptionId:prop_types_default().string.isRequired,cancelUserSubscription:prop_types_default().func.isRequired};const SubscriptionCancellation=({benefits,userSubscriptions,cancellationJourneyData,subscriptionPromotionData,isContinuingToCancel,toggleIsContinuingToCancel,toggleIsUserCancellingSubscription})=>{const targetSubscriptionId=cancellationJourneyData.current.subscriptionIdToUpdate,relevantPromotionData=subscriptionPromotionData.find((({subscriptionId})=>subscriptionId===targetSubscriptionId))||{},cancelUserSubscription=()=>{updateUserAutoRenew({subscriptionId:targetSubscriptionId,autoRenew:!1,onSuccessfulRequest:()=>{cancellationJourneyData.current.targetSubscriptionStatus="cancelled",cancellationJourneyData.current.userSubscriptionAutoRenewStatus[targetSubscriptionId]=!1,toggleIsUserCancellingSubscription()}})},beforeYouGoCancelSubBtnClick=relevantPromotionData.promoCode&&relevantPromotionData.isTermAddedToPromotion?toggleIsContinuingToCancel:cancelUserSubscription;return(0,jsx_runtime.jsx)(styled_components_browser_esm.ThemeProvider,{theme:Styles.lF,children:isContinuingToCancel?(0,jsx_runtime.jsx)(UnmissableOffer,{toggleIsUserCancellingSubscription,cancellationJourneyData,userSubscriptions,subscriptionPromotionData:relevantPromotionData,targetSubscriptionId,cancelUserSubscription}):(0,jsx_runtime.jsx)(BeforeYouGo,{benefits,toggleIsUserCancellingSubscription,beforeYouGoCancelSubBtnClick})})};SubscriptionCancellation.propTypes={benefits:prop_types_default().arrayOf(prop_types_default().shape({title:prop_types_default().string,icon:prop_types_default().string})).isRequired,userSubscriptions:prop_types_default().arrayOf(types.pt).isRequired,cancellationJourneyData:prop_types_default().object,subscriptionPromotionData:prop_types_default().array,isContinuingToCancel:prop_types_default().bool,toggleIsContinuingToCancel:prop_types_default().func,toggleIsUserCancellingSubscription:prop_types_default().func.isRequired};const ProfileContent_excluded=["userAccessInfo","userSubscriptions","subscriptionPromotionData","isExperimentalPaymentsEnabled","initialActiveNavItem"];function ProfileContent_ownKeys(e,r){var t=Object.keys(e);if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(e);r&&(o=o.filter((function(r){return Object.getOwnPropertyDescriptor(e,r).enumerable}))),t.push.apply(t,o)}return t}function ProfileContent_objectSpread(e){for(var r=1;r<arguments.length;r++){var t=null!=arguments[r]?arguments[r]:{};r%2?ProfileContent_ownKeys(Object(t),!0).forEach((function(r){(0,defineProperty.A)(e,r,t[r])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(t)):ProfileContent_ownKeys(Object(t)).forEach((function(r){Object.defineProperty(e,r,Object.getOwnPropertyDescriptor(t,r))}))}return e}const ProfileContent_Wrapper=styled_components_browser_esm.styled.div.withConfig({componentId:"sc-7n6pb3-0"})(["position:relative;"]),INITIAL_VALUE_CANCELLATION_JOURNEY={shouldRenderManageSubscriptionAfterCancellation:!1,targetSubscriptionStatus:"",subscriptionIdToUpdate:"",userSubscriptionAutoRenewStatus:null},profileImagePrefix="https://static.independent.co.uk/profile",benefits=[{title:"Unlimited Premium news analysis",image:`${profileImagePrefix}/icon-news-analysis.png`},{title:"Advert-free reading across web and app",image:`${profileImagePrefix}/icon-ads-free.png`},{title:"Full access to The Independent app",image:`${profileImagePrefix}/icon-full-app.png`},{title:"Puzzles, virtual event tickets and more",image:`${profileImagePrefix}/icon-puzzles.png`}],ProfileContent=_ref=>{let{userAccessInfo,userSubscriptions,subscriptionPromotionData,isExperimentalPaymentsEnabled,initialActiveNavItem}=_ref,rest=(0,objectWithoutProperties.A)(_ref,ProfileContent_excluded);const[isNicknameDisabled,setIsNicknameDisabled]=(0,react.useState)(!0),[isContinuingToCancel,setIsContinuingToCancel]=(0,react.useState)(!1),[isUserCancellingSubscription,setIsUserCancellingSubscription]=(0,react.useState)(!1),cancellationJourneyData=(0,react.useRef)(INITIAL_VALUE_CANCELLATION_JOURNEY),userDetailsData=(0,react.useRef)(null),{shouldRenderManageSubscriptionAfterCancellation}=cancellationJourneyData.current,toggleIsNicknameDisabled=(0,react.useCallback)((()=>setIsNicknameDisabled(!1)),[]),toggleIsUserCancellingSubscription=()=>setIsUserCancellingSubscription((prevState=>!prevState));return(0,jsx_runtime.jsx)(ProfileContent_Wrapper,{children:isUserCancellingSubscription?(0,jsx_runtime.jsx)(SubscriptionCancellation,{benefits,userSubscriptions,cancellationJourneyData,subscriptionPromotionData,isContinuingToCancel,toggleIsContinuingToCancel:()=>setIsContinuingToCancel(!0),toggleIsUserCancellingSubscription}):(0,jsx_runtime.jsx)(ProfileNavWithTabs,ProfileContent_objectSpread({},ProfileContent_objectSpread(ProfileContent_objectSpread({},rest),{},{userAccessInfo,userSubscriptions,toggleIsUserCancellingSubscription,isNicknameDisabled,toggleIsNicknameDisabled,cancellationJourneyData,isExperimentalPaymentsEnabled,userDetailsData,initialActiveNavItem},shouldRenderManageSubscriptionAfterCancellation&&{initialActiveNavItem:"manage"})))})};ProfileContent.propTypes={userProfile:prop_types_default().shape({firstName:prop_types_default().string.isRequired,lastName:prop_types_default().string.isRequired,email:prop_types_default().string.isRequired,birthYear:prop_types_default().string.isRequired,nickname:prop_types_default().string,uid:prop_types_default().string,customFields:prop_types_default().object}).isRequired,userSubscriptions:prop_types_default().arrayOf(types.pt).isRequired,userAccessInfo:prop_types_default().arrayOf(UserAccessInfoType).isRequired,isSubscriber:prop_types_default().bool,isPremiumUser:prop_types_default().bool,subscriptionPromotionData:prop_types_default().array,isExperimentalPaymentsEnabled:prop_types_default().bool,initialActiveNavItem:prop_types_default().string,hasUserDonated:prop_types_default().bool};var Mocker=__webpack_require__("./stories/helpers/components/Mocker.js"),createImage=__webpack_require__("./stories/helpers/createImage.js");function ProfilePage_stories_ownKeys(e,r){var t=Object.keys(e);if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(e);r&&(o=o.filter((function(r){return Object.getOwnPropertyDescriptor(e,r).enumerable}))),t.push.apply(t,o)}return t}function ProfilePage_stories_objectSpread(e){for(var r=1;r<arguments.length;r++){var t=null!=arguments[r]?arguments[r]:{};r%2?ProfilePage_stories_ownKeys(Object(t),!0).forEach((function(r){(0,defineProperty.A)(e,r,t[r])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(t)):ProfilePage_stories_ownKeys(Object(t)).forEach((function(r){Object.defineProperty(e,r,Object.getOwnPropertyDescriptor(t,r))}))}return e}const mockBenefits=benefits.map((({title})=>({title,image:(0,createImage.A)(146,176,201,1,[159,106])}))),mockCancellationJourneyData={current:{shouldRenderManageSubscriptionAfterCancellation:!0,subscriptionIdToUpdate:"RCCYIJZWH9YZ",targetSubscriptionStatus:"",userSubscriptionAutoRenewStatus:{RCCYIJZWH9YZ:!0}}},mockSubscriptionPromotionData=[{billingPeriodLimit:1,isTermAddedToPromotion:!0,newPrice:2,newPriceFormatted:"£2.00",promoCode:"GSA8CCLMKO",subscriptionId:"RCCYIJZWH9YZ"}],mockActiveUserPremiumSubscription={offerId:"OFZXB8DRISQM",isSubscriptionTakenOutFromApp:!1,userPaymentsInfo:{transactionNumber:"RCCYIJZWH9YZ",autoRenew:!0,nextBillingDate:1716193854e3,status:"active",term:{resourceName:"Daily Edition & Independent Premium & Ad-Free",name:"Ad Free + IP",price:11,firstPayment:"£11.00",length:"Monthly",currency:"GBP",termId:"TMYIJ4CXK5FV"}},accountHistory:{startDate:1715945023,name:"Daily Edition & Independent Premium & Ad-Free",price:"£11.00",paymentMethod:"Visa *1111"}},mockActiveUserAdFreeSubscription=ProfilePage_stories_objectSpread(ProfilePage_stories_objectSpread({},mockActiveUserPremiumSubscription),{},{userPaymentsInfo:ProfilePage_stories_objectSpread(ProfilePage_stories_objectSpread({},mockActiveUserPremiumSubscription.userPaymentsInfo),{},{term:ProfilePage_stories_objectSpread(ProfilePage_stories_objectSpread({},mockActiveUserPremiumSubscription.userPaymentsInfo.term),{},{resourceName:constants_subscription.wW})})}),mockInactiveUserPremiumSubscription=ProfilePage_stories_objectSpread(ProfilePage_stories_objectSpread({},mockActiveUserPremiumSubscription),{},{userPaymentsInfo:ProfilePage_stories_objectSpread(ProfilePage_stories_objectSpread({},mockActiveUserPremiumSubscription.userPaymentsInfo),{},{autoRenew:!1})}),mockInactiveUserAdFreeSubscription=ProfilePage_stories_objectSpread(ProfilePage_stories_objectSpread({},mockInactiveUserPremiumSubscription),{},{userPaymentsInfo:ProfilePage_stories_objectSpread(ProfilePage_stories_objectSpread({},mockInactiveUserPremiumSubscription.userPaymentsInfo),{},{term:ProfilePage_stories_objectSpread(ProfilePage_stories_objectSpread({},mockInactiveUserPremiumSubscription.userPaymentsInfo.term),{},{resourceName:constants_subscription.wW})})}),sharedProps={userProfile:{firstName:"John",lastName:"Doe",email:"johndoe@gmail.com",birthYear:"1990",nickname:"JD",uid:"some-uid"},userAccessInfo:[],subscriptionPromotionData:[],accountOverviewChevron:(0,createImage.A)(0,150,0)},ProfilePage_stories={title:"Other/Profile Page",component:ProfileContent,tags:["storyshot:vp:all"],decorators:[Story=>(0,jsx_runtime.jsx)(Mocker.A,{children:(0,jsx_runtime.jsx)(Story,{})})]},ProfilePageAccountOverviewStory={name:"Account overview",args:ProfilePage_stories_objectSpread(ProfilePage_stories_objectSpread({},sharedProps),{},{userSubscriptions:[mockActiveUserPremiumSubscription]})},ProfilePageMyDetailsStory={name:"My details",args:ProfilePage_stories_objectSpread(ProfilePage_stories_objectSpread({},sharedProps),{},{initialActiveNavItem:"details"})},ProfilePageChangePasswordStory={name:"Change password",args:ProfilePage_stories_objectSpread(ProfilePage_stories_objectSpread({},sharedProps),{},{initialActiveNavItem:"password"})},ProfilePagePaymentsAndBilling={name:"Payments & Billing",args:ProfilePage_stories_objectSpread(ProfilePage_stories_objectSpread({},sharedProps),{},{initialActiveNavItem:"payments"})},ProfilePageManageSubscriptionExpiredSubscriberStory={name:"Manage subscription (expired subscriber)",args:ProfilePage_stories_objectSpread(ProfilePage_stories_objectSpread({},sharedProps),{},{userSubscriptions:[mockInactiveUserPremiumSubscription,mockInactiveUserAdFreeSubscription],initialActiveNavItem:"manage",isSubscriber:!0})},ProfilePageManageSubscriptionActiveSubscriberStory={name:"Manage subscription (active subscriber)",args:ProfilePage_stories_objectSpread(ProfilePage_stories_objectSpread({},sharedProps),{},{userSubscriptions:[mockActiveUserPremiumSubscription,mockActiveUserAdFreeSubscription],isSubscriber:!0,initialActiveNavItem:"manage"})},ProfilePageManageSubscriptionRegisteredUserStory={name:"Manage subscription (registered user)",args:ProfilePage_stories_objectSpread(ProfilePage_stories_objectSpread({},sharedProps),{},{userSubscriptions:[],isSubscriber:!1,initialActiveNavItem:"manage"})},ProfilePageSubscriptionCancellationBeforeYouGoStory={name:"Subscription cancellation (before you go)",args:{benefits:mockBenefits,userSubscriptions:[mockActiveUserPremiumSubscription],cancellationJourneyData:mockCancellationJourneyData,subscriptionPromotionData:mockSubscriptionPromotionData,isContinuingToCancel:!1,toggleIsContinuingToCancel:()=>{},toggleIsUserCancellingSubscription:()=>{}},render:args=>(0,jsx_runtime.jsx)(SubscriptionCancellation,ProfilePage_stories_objectSpread({},args))},ProfilePageSubscriptionCancellationUnmissableOfferStory={name:"Subscription cancellation (unmissable offer)",args:{benefits:mockBenefits,userSubscriptions:[mockActiveUserPremiumSubscription],cancellationJourneyData:mockCancellationJourneyData,subscriptionPromotionData:mockSubscriptionPromotionData,isContinuingToCancel:!0,toggleIsContinuingToCancel:()=>{},toggleIsUserCancellingSubscription:()=>{}},render:args=>(0,jsx_runtime.jsx)(SubscriptionCancellation,ProfilePage_stories_objectSpread({},args))},__namedExportsOrder=["ProfilePageAccountOverviewStory","ProfilePageMyDetailsStory","ProfilePageChangePasswordStory","ProfilePagePaymentsAndBilling","ProfilePageManageSubscriptionExpiredSubscriberStory","ProfilePageManageSubscriptionActiveSubscriberStory","ProfilePageManageSubscriptionRegisteredUserStory","ProfilePageSubscriptionCancellationBeforeYouGoStory","ProfilePageSubscriptionCancellationUnmissableOfferStory"]},"./app/component/icons/16/close.svg":(__unused_webpack_module,__webpack_exports__,__webpack_require__)=>{"use strict";__webpack_require__.d(__webpack_exports__,{A:()=>__WEBPACK_DEFAULT_EXPORT__});var _path,react__WEBPACK_IMPORTED_MODULE_0__=__webpack_require__("../node_modules/.pnpm/react@18.3.1/node_modules/react/index.js");function _extends(){return _extends=Object.assign?Object.assign.bind():function(n){for(var e=1;e<arguments.length;e++){var t=arguments[e];for(var r in t)({}).hasOwnProperty.call(t,r)&&(n[r]=t[r])}return n},_extends.apply(null,arguments)}const __WEBPACK_DEFAULT_EXPORT__=props=>react__WEBPACK_IMPORTED_MODULE_0__.createElement("svg",_extends({xmlns:"http://www.w3.org/2000/svg",id:"33595d142f87b29e",viewBox:"0 0 16 16"},props),_path||(_path=react__WEBPACK_IMPORTED_MODULE_0__.createElement("path",{fill:"currentColor",d:"M3.33 2 14 12.67 12.67 14 2 3.33zM2 12.67 12.67 2 14 3.33 3.33 14z"})))},"./app/component/icons/16/externalLink.svg":(__unused_webpack_module,__webpack_exports__,__webpack_require__)=>{"use strict";__webpack_require__.d(__webpack_exports__,{A:()=>__WEBPACK_DEFAULT_EXPORT__});var _path,react__WEBPACK_IMPORTED_MODULE_0__=__webpack_require__("../node_modules/.pnpm/react@18.3.1/node_modules/react/index.js");function _extends(){return _extends=Object.assign?Object.assign.bind():function(n){for(var e=1;e<arguments.length;e++){var t=arguments[e];for(var r in t)({}).hasOwnProperty.call(t,r)&&(n[r]=t[r])}return n},_extends.apply(null,arguments)}const __WEBPACK_DEFAULT_EXPORT__=props=>react__WEBPACK_IMPORTED_MODULE_0__.createElement("svg",_extends({xmlns:"http://www.w3.org/2000/svg",id:"0ef03c0d054e21f2",viewBox:"0 0 16 16"},props),_path||(_path=react__WEBPACK_IMPORTED_MODULE_0__.createElement("path",{fill:"currentColor",d:"M14.22 14.22H1.78V1.78H8V0H1.78C.79 0 0 .8 0 1.78v12.44C0 15.2.8 16 1.78 16h12.44c.98 0 1.78-.8 1.78-1.78V8h-1.78zM9.78 0v1.78h3.19l-8.74 8.74 1.25 1.25 8.74-8.74v3.2H16V0z"})))},"./app/component/icons/16/navigationArrowRight.svg":(__unused_webpack_module,__webpack_exports__,__webpack_require__)=>{"use strict";__webpack_require__.d(__webpack_exports__,{A:()=>__WEBPACK_DEFAULT_EXPORT__});var _path,react__WEBPACK_IMPORTED_MODULE_0__=__webpack_require__("../node_modules/.pnpm/react@18.3.1/node_modules/react/index.js");function _extends(){return _extends=Object.assign?Object.assign.bind():function(n){for(var e=1;e<arguments.length;e++){var t=arguments[e];for(var r in t)({}).hasOwnProperty.call(t,r)&&(n[r]=t[r])}return n},_extends.apply(null,arguments)}const __WEBPACK_DEFAULT_EXPORT__=props=>react__WEBPACK_IMPORTED_MODULE_0__.createElement("svg",_extends({xmlns:"http://www.w3.org/2000/svg",id:"38c3508900099691",viewBox:"0 0 16 16"},props),_path||(_path=react__WEBPACK_IMPORTED_MODULE_0__.createElement("path",{fill:"currentColor",d:"M8 0 6.59 1.41 12.17 7H0v2h12.17L6.6 14.59 8 16l8-8z"})))},"./app/component/icons/24/billing.svg":(__unused_webpack_module,__webpack_exports__,__webpack_require__)=>{"use strict";__webpack_require__.d(__webpack_exports__,{A:()=>__WEBPACK_DEFAULT_EXPORT__});var _path,react__WEBPACK_IMPORTED_MODULE_0__=__webpack_require__("../node_modules/.pnpm/react@18.3.1/node_modules/react/index.js");function _extends(){return _extends=Object.assign?Object.assign.bind():function(n){for(var e=1;e<arguments.length;e++){var t=arguments[e];for(var r in t)({}).hasOwnProperty.call(t,r)&&(n[r]=t[r])}return n},_extends.apply(null,arguments)}const __WEBPACK_DEFAULT_EXPORT__=props=>react__WEBPACK_IMPORTED_MODULE_0__.createElement("svg",_extends({xmlns:"http://www.w3.org/2000/svg",id:"60385736701a2d3f",viewBox:"0 0 24 24"},props),_path||(_path=react__WEBPACK_IMPORTED_MODULE_0__.createElement("path",{fill:"currentColor",d:"M21.6 2.4H2.4A2.4 2.4 0 0 0 .01 4.8L0 19.2a2.4 2.4 0 0 0 2.4 2.4h19.2a2.4 2.4 0 0 0 2.4-2.4V4.8a2.4 2.4 0 0 0-2.4-2.4m0 16.8H2.4V12h19.2zm0-12H2.4V4.8h19.2z"})))},"./app/component/icons/24/chevronDown.svg":(__unused_webpack_module,__webpack_exports__,__webpack_require__)=>{"use strict";__webpack_require__.d(__webpack_exports__,{A:()=>__WEBPACK_DEFAULT_EXPORT__});var _path,react__WEBPACK_IMPORTED_MODULE_0__=__webpack_require__("../node_modules/.pnpm/react@18.3.1/node_modules/react/index.js");function _extends(){return _extends=Object.assign?Object.assign.bind():function(n){for(var e=1;e<arguments.length;e++){var t=arguments[e];for(var r in t)({}).hasOwnProperty.call(t,r)&&(n[r]=t[r])}return n},_extends.apply(null,arguments)}const __WEBPACK_DEFAULT_EXPORT__=props=>react__WEBPACK_IMPORTED_MODULE_0__.createElement("svg",_extends({xmlns:"http://www.w3.org/2000/svg",id:"d5d9764c65d2cfa2",viewBox:"0 0 24 24"},props),_path||(_path=react__WEBPACK_IMPORTED_MODULE_0__.createElement("path",{fill:"currentColor",d:"m7.42 8.31 4.59 4.58 4.59-4.58 1.41 1.41-6 6-6-6z"})))},"./app/component/icons/24/help.svg":(__unused_webpack_module,__webpack_exports__,__webpack_require__)=>{"use strict";__webpack_require__.d(__webpack_exports__,{A:()=>__WEBPACK_DEFAULT_EXPORT__});var _path,react__WEBPACK_IMPORTED_MODULE_0__=__webpack_require__("../node_modules/.pnpm/react@18.3.1/node_modules/react/index.js");function _extends(){return _extends=Object.assign?Object.assign.bind():function(n){for(var e=1;e<arguments.length;e++){var t=arguments[e];for(var r in t)({}).hasOwnProperty.call(t,r)&&(n[r]=t[r])}return n},_extends.apply(null,arguments)}const __WEBPACK_DEFAULT_EXPORT__=props=>react__WEBPACK_IMPORTED_MODULE_0__.createElement("svg",_extends({xmlns:"http://www.w3.org/2000/svg",id:"25fd3bd7fb1f0ba8",viewBox:"0 0 24 24"},props),_path||(_path=react__WEBPACK_IMPORTED_MODULE_0__.createElement("path",{fill:"currentColor",d:"M10.8 19.2h2.4v-2.4h-2.4zM12 0a12 12 0 1 0 0 24 12 12 0 0 0 0-24m0 21.6a9.6 9.6 0 1 1 0-19.2 9.6 9.6 0 0 1 0 19.2m0-16.8a4.8 4.8 0 0 0-4.8 4.8h2.4A2.4 2.4 0 0 1 12 7.2a2.4 2.4 0 0 1 2.4 2.4c0 2.4-3.6 2.1-3.6 6h2.4c0-2.7 3.6-3 3.6-6A4.8 4.8 0 0 0 12 4.8"})))},"./app/component/icons/24/list.svg":(__unused_webpack_module,__webpack_exports__,__webpack_require__)=>{"use strict";__webpack_require__.d(__webpack_exports__,{A:()=>__WEBPACK_DEFAULT_EXPORT__});var _path,react__WEBPACK_IMPORTED_MODULE_0__=__webpack_require__("../node_modules/.pnpm/react@18.3.1/node_modules/react/index.js");function _extends(){return _extends=Object.assign?Object.assign.bind():function(n){for(var e=1;e<arguments.length;e++){var t=arguments[e];for(var r in t)({}).hasOwnProperty.call(t,r)&&(n[r]=t[r])}return n},_extends.apply(null,arguments)}const __WEBPACK_DEFAULT_EXPORT__=props=>react__WEBPACK_IMPORTED_MODULE_0__.createElement("svg",_extends({xmlns:"http://www.w3.org/2000/svg",id:"dce3aa89ff968a80",viewBox:"0 0 24 24"},props),_path||(_path=react__WEBPACK_IMPORTED_MODULE_0__.createElement("path",{fill:"currentColor",d:"M0 13.33h2.67v-2.66H0zm0 5.34h2.67V16H0zM0 8h2.67V5.33H0zm5.33 5.33H24v-2.66H5.33zm0 5.34H24V16H5.33zm0-13.34V8H24V5.33z"})))},"./app/component/icons/24/logout.svg":(__unused_webpack_module,__webpack_exports__,__webpack_require__)=>{"use strict";__webpack_require__.d(__webpack_exports__,{A:()=>__WEBPACK_DEFAULT_EXPORT__});var _path,react__WEBPACK_IMPORTED_MODULE_0__=__webpack_require__("../node_modules/.pnpm/react@18.3.1/node_modules/react/index.js");function _extends(){return _extends=Object.assign?Object.assign.bind():function(n){for(var e=1;e<arguments.length;e++){var t=arguments[e];for(var r in t)({}).hasOwnProperty.call(t,r)&&(n[r]=t[r])}return n},_extends.apply(null,arguments)}const __WEBPACK_DEFAULT_EXPORT__=props=>react__WEBPACK_IMPORTED_MODULE_0__.createElement("svg",_extends({xmlns:"http://www.w3.org/2000/svg",id:"209097c873c3c1c3",viewBox:"0 0 24 24"},props),_path||(_path=react__WEBPACK_IMPORTED_MODULE_0__.createElement("path",{fill:"currentColor",d:"M21.82 2.2H2.18C.98 2.2 0 3.16 0 4.36v4.36h2.18V4.35h19.64v15.3H2.18v-4.38H0v4.38c0 1.2.98 2.16 2.18 2.16h19.64c1.2 0 2.18-.96 2.18-2.16V4.37c0-1.2-.98-2.18-2.18-2.18M10.9 16.35 15.27 12l-4.36-4.36v3.27H0v2.18h10.9z"})))},"./app/component/icons/24/secure.svg":(__unused_webpack_module,__webpack_exports__,__webpack_require__)=>{"use strict";__webpack_require__.d(__webpack_exports__,{A:()=>__WEBPACK_DEFAULT_EXPORT__});var _path,react__WEBPACK_IMPORTED_MODULE_0__=__webpack_require__("../node_modules/.pnpm/react@18.3.1/node_modules/react/index.js");function _extends(){return _extends=Object.assign?Object.assign.bind():function(n){for(var e=1;e<arguments.length;e++){var t=arguments[e];for(var r in t)({}).hasOwnProperty.call(t,r)&&(n[r]=t[r])}return n},_extends.apply(null,arguments)}const __WEBPACK_DEFAULT_EXPORT__=props=>react__WEBPACK_IMPORTED_MODULE_0__.createElement("svg",_extends({xmlns:"http://www.w3.org/2000/svg",id:"e3e77a704f23d419",viewBox:"0 0 24 24"},props),_path||(_path=react__WEBPACK_IMPORTED_MODULE_0__.createElement("path",{fill:"currentColor",d:"M19 8h-1.14V5.71a5.71 5.71 0 1 0-11.43 0V8H5.29A2.3 2.3 0 0 0 3 10.29V21.7A2.3 2.3 0 0 0 5.29 24H19a2.3 2.3 0 0 0 2.29-2.29V10.3A2.3 2.3 0 0 0 19 8M8.71 5.71a3.43 3.43 0 1 1 6.86 0V8H8.71zm10.29 16H5.29V10.3H19zm-6.86-3.42a2.29 2.29 0 1 0 0-4.58 2.29 2.29 0 0 0 0 4.58"})))},"./app/component/icons/24/user-profile.svg":(__unused_webpack_module,__webpack_exports__,__webpack_require__)=>{"use strict";__webpack_require__.d(__webpack_exports__,{A:()=>__WEBPACK_DEFAULT_EXPORT__});var _path,react__WEBPACK_IMPORTED_MODULE_0__=__webpack_require__("../node_modules/.pnpm/react@18.3.1/node_modules/react/index.js");function _extends(){return _extends=Object.assign?Object.assign.bind():function(n){for(var e=1;e<arguments.length;e++){var t=arguments[e];for(var r in t)({}).hasOwnProperty.call(t,r)&&(n[r]=t[r])}return n},_extends.apply(null,arguments)}const __WEBPACK_DEFAULT_EXPORT__=props=>react__WEBPACK_IMPORTED_MODULE_0__.createElement("svg",_extends({xmlns:"http://www.w3.org/2000/svg",id:"59fb7f97e8c3ce4d",viewBox:"0 0 24 24"},props),_path||(_path=react__WEBPACK_IMPORTED_MODULE_0__.createElement("path",{fill:"currentColor",d:"M12 0a12 12 0 1 0 0 24 12 12 0 0 0 0-24m0 3.6a3.6 3.6 0 1 1 .01 7.19A3.6 3.6 0 0 1 12 3.6m0 17.04c-3 0-5.65-1.54-7.2-3.86.04-2.4 4.8-3.7 7.2-3.7 2.39 0 7.16 1.3 7.2 3.7a8.6 8.6 0 0 1-7.2 3.86"})))},"./app/component/library/Forms/FormSubmit.tsx":(__unused_webpack_module,__webpack_exports__,__webpack_require__)=>{"use strict";__webpack_require__.d(__webpack_exports__,{Ay:()=>__WEBPACK_DEFAULT_EXPORT__,K0:()=>BtnLoader,b7:()=>SubmitButton});var _babel_runtime_helpers_defineProperty__WEBPACK_IMPORTED_MODULE_0__=__webpack_require__("../node_modules/.pnpm/@babel+runtime@7.25.7/node_modules/@babel/runtime/helpers/esm/defineProperty.js"),_babel_runtime_helpers_objectWithoutProperties__WEBPACK_IMPORTED_MODULE_4__=__webpack_require__("../node_modules/.pnpm/@babel+runtime@7.25.7/node_modules/@babel/runtime/helpers/esm/objectWithoutProperties.js"),styled_components__WEBPACK_IMPORTED_MODULE_3__=__webpack_require__("../node_modules/.pnpm/styled-components@6.1.13_react-dom@18.3.1_react@18.3.1/node_modules/styled-components/dist/styled-components.browser.esm.js"),_indy_ui_Button__WEBPACK_IMPORTED_MODULE_1__=__webpack_require__("../ui/dist/Button.js"),_app_constants_classNames__WEBPACK_IMPORTED_MODULE_5__=__webpack_require__("./app/constants/classNames.js"),react_jsx_runtime__WEBPACK_IMPORTED_MODULE_2__=__webpack_require__("../node_modules/.pnpm/react@18.3.1/node_modules/react/jsx-runtime.js");const _excluded=["className","children","disabled","type","withState","formElementRef"];function ownKeys(e,r){var t=Object.keys(e);if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(e);r&&(o=o.filter((function(r){return Object.getOwnPropertyDescriptor(e,r).enumerable}))),t.push.apply(t,o)}return t}function _objectSpread(e){for(var r=1;r<arguments.length;r++){var t=null!=arguments[r]?arguments[r]:{};r%2?ownKeys(Object(t),!0).forEach((function(r){(0,_babel_runtime_helpers_defineProperty__WEBPACK_IMPORTED_MODULE_0__.A)(e,r,t[r])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(t)):ownKeys(Object(t)).forEach((function(r){Object.defineProperty(e,r,Object.getOwnPropertyDescriptor(t,r))}))}return e}const GlobalStyle=(0,styled_components__WEBPACK_IMPORTED_MODULE_3__.createGlobalStyle)([".amp-form-submitting{.form-submit{outline:0;.btn-text{display:none;}.btn-loader{display:inline-block;}}}"]),Fieldwrapper=styled_components__WEBPACK_IMPORTED_MODULE_3__.styled.div.withConfig({componentId:"sc-104flan-0"})(["margin:20px 0;"]),BtnLoader=styled_components__WEBPACK_IMPORTED_MODULE_3__.styled.span.withConfig({componentId:"sc-104flan-1"})(["border:2px solid ",";border-top:2px solid ",";"],(({theme})=>theme.color.canvas.base),(({theme})=>theme.color.actionBrand.base)),SubmitButton=(0,styled_components__WEBPACK_IMPORTED_MODULE_3__.styled)(_indy_ui_Button__WEBPACK_IMPORTED_MODULE_1__.Ay).withConfig({componentId:"sc-104flan-2"})(["&:disabled{cursor:initial;user-select:none;}@keyframes spin{0%{transform:rotate(0deg);}100%{transform:rotate(360deg);}}.btn-loader{display:none;position:relative;top:2px;width:20px;height:20px;border-radius:50%;animation:spin 2s linear infinite;}"]),__WEBPACK_DEFAULT_EXPORT__=(0,styled_components__WEBPACK_IMPORTED_MODULE_3__.styled)((_ref=>{let{className,children="Submit",disabled,type,withState,formElementRef}=_ref,props=(0,_babel_runtime_helpers_objectWithoutProperties__WEBPACK_IMPORTED_MODULE_4__.A)(_ref,_excluded);return(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_2__.jsxs)(Fieldwrapper,{className,children:[(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_2__.jsx)(GlobalStyle,{}),(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_2__.jsxs)(SubmitButton,_objectSpread(_objectSpread(_objectSpread({className:_app_constants_classNames__WEBPACK_IMPORTED_MODULE_5__.lr,size:_indy_ui_Button__WEBPACK_IMPORTED_MODULE_1__.Zz,name:"submitBtn",type:type||_indy_ui_Button__WEBPACK_IMPORTED_MODULE_1__.HM,disabled:disabled||!1,ref:formElementRef},withState?{"data-amp-bind-disabled":"!liteRegValid"}:{}),props),{},{children:[(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_2__.jsx)("span",{className:"btn-text",children}),(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_2__.jsx)(BtnLoader,{className:"btn-loader"})]}))]})})).withConfig({componentId:"sc-104flan-3"})([""])},"./app/constants/adobeConstants.ts":(__unused_webpack_module,__webpack_exports__,__webpack_require__)=>{"use strict";__webpack_require__.d(__webpack_exports__,{I:()=>TRACKING_PAYMENT_KEYS});const TRACKING_PAYMENT_KEYS=["subscription_length","subscription_price","subscription_package","initial_selected_package","marketing_opt_in","selling_page_variant"]},"./app/hooks/useFormLogic.ts":(__unused_webpack_module,__webpack_exports__,__webpack_require__)=>{"use strict";__webpack_require__.d(__webpack_exports__,{C:()=>useFormLogic});var react__WEBPACK_IMPORTED_MODULE_0__=__webpack_require__("../node_modules/.pnpm/react@18.3.1/node_modules/react/index.js"),_app_hooks_useDebounceWithHooks__WEBPACK_IMPORTED_MODULE_1__=__webpack_require__("./app/hooks/useDebounceWithHooks.js"),_app_hooks_useToggle__WEBPACK_IMPORTED_MODULE_2__=__webpack_require__("./app/hooks/useToggle.ts");const useFormLogic=initialState=>{const[formValues,setFormValues]=(0,react__WEBPACK_IMPORTED_MODULE_0__.useState)(initialState),[inputErrorMessages,setInputErrorMessages]=(0,react__WEBPACK_IMPORTED_MODULE_0__.useState)(initialState),[inputBorderStyles,setInputBorderStyles]=(0,react__WEBPACK_IMPORTED_MODULE_0__.useState)(initialState),[isVerifying,toggleVerifyingState]=(0,_app_hooks_useToggle__WEBPACK_IMPORTED_MODULE_2__.e)(!1),[isSubmitButtonDisabled,toggleSubmitButtonState]=(0,_app_hooks_useToggle__WEBPACK_IMPORTED_MODULE_2__.e)(!0),[submitErrorMessage,setSubmitErrorMessage]=(0,react__WEBPACK_IMPORTED_MODULE_0__.useState)("");return{state:{formValues,inputErrorMessages,inputBorderStyles,isVerifying,isSubmitButtonDisabled,submitErrorMessage},stateHandlers:{setFormValues,setInputErrorMessages,setInputBorderStyles,toggleVerifyingState,toggleSubmitButtonState,setSubmitErrorMessage},debounce:(0,_app_hooks_useDebounceWithHooks__WEBPACK_IMPORTED_MODULE_1__.R)()}}},"./app/hooks/useToggle.ts":(__unused_webpack_module,__webpack_exports__,__webpack_require__)=>{"use strict";__webpack_require__.d(__webpack_exports__,{e:()=>useToggle});var react__WEBPACK_IMPORTED_MODULE_0__=__webpack_require__("../node_modules/.pnpm/react@18.3.1/node_modules/react/index.js");const useToggle=initialState=>{const[isToggled,setIsToggled]=(0,react__WEBPACK_IMPORTED_MODULE_0__.useState)(null!=initialState&&initialState),handleToggle=(0,react__WEBPACK_IMPORTED_MODULE_0__.useCallback)((targetState=>setIsToggled(null!=targetState?targetState:!isToggled)),[isToggled]);return[isToggled,handleToggle]}},"./app/public/js/modules/digital-data/digital-data-session.ts":(__unused_webpack_module,__webpack_exports__,__webpack_require__)=>{"use strict";__webpack_require__.d(__webpack_exports__,{Ei:()=>removeDigitalDataByKeys,SA:()=>getDigitalDataByKeys,mb:()=>storeDigitalData});var _babel_runtime_helpers_defineProperty__WEBPACK_IMPORTED_MODULE_0__=__webpack_require__("../node_modules/.pnpm/@babel+runtime@7.25.7/node_modules/@babel/runtime/helpers/esm/defineProperty.js");function ownKeys(e,r){var t=Object.keys(e);if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(e);r&&(o=o.filter((function(r){return Object.getOwnPropertyDescriptor(e,r).enumerable}))),t.push.apply(t,o)}return t}function _objectSpread(e){for(var r=1;r<arguments.length;r++){var t=null!=arguments[r]?arguments[r]:{};r%2?ownKeys(Object(t),!0).forEach((function(r){(0,_babel_runtime_helpers_defineProperty__WEBPACK_IMPORTED_MODULE_0__.A)(e,r,t[r])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(t)):ownKeys(Object(t)).forEach((function(r){Object.defineProperty(e,r,Object.getOwnPropertyDescriptor(t,r))}))}return e}const getDigitalData=()=>{var _sessionStorage$getIt;const value=null!==(_sessionStorage$getIt=sessionStorage.getItem("digitalData"))&&void 0!==_sessionStorage$getIt?_sessionStorage$getIt:"{}";return JSON.parse(value)},storeDigitalData=data=>{const stored=getDigitalData(),merged=Object.assign({},stored,data),newValue=JSON.stringify(merged);sessionStorage.setItem("digitalData",newValue)},getDigitalDataByKeys=keys=>{const stored=getDigitalData();return keys.reduce(((acc,curr)=>_objectSpread(_objectSpread({},acc),{},{[curr]:stored[curr]})),{})},removeDigitalDataByKeys=keys=>{const stored=getDigitalData();keys.forEach((key=>delete stored[key])),sessionStorage.setItem("digitalData",JSON.stringify(stored))}},"./app/public/js/modules/util.ts":(__unused_webpack_module,__webpack_exports__,__webpack_require__)=>{"use strict";__webpack_require__.d(__webpack_exports__,{kG:()=>loadJS,ow:()=>getParametersByNames});const getParametersByNames=(names=[],url)=>{const urlInstance=new URL(url||window.location.href);return names.map((name=>{var _urlInstance$searchPa;return{key:name,value:null!==(_urlInstance$searchPa=urlInstance.searchParams.get(name))&&void 0!==_urlInstance$searchPa?_urlInstance$searchPa:""}}))},loadJS=(urls,{async=!0,defer=document.location.search.includes("___FORCE_DEFER___"),parent=document.body,attributes}={})=>{window.JSGlobals=window.JSGlobals||{};const loadedJS=window.JSGlobals.loadedJS=[];return new Promise(((resolve,reject)=>{const promises=(urls instanceof Array?urls:[urls]).map((url=>loadedJS.includes(url)?Promise.resolve():new Promise(((ok,error)=>{const elem=((url,{id,async,defer,ok,error,attributes})=>{const elem=document.createElement("script");return elem.onload=ok,elem.onerror=error,id&&"undefined"!==id&&(elem.id=id),async&&!defer&&elem.setAttribute("async",""),defer&&elem.setAttribute("defer",""),attributes&&attributes.forEach((([key,value])=>{elem.setAttribute(key,value)})),elem.src=url,elem})(url,{async,defer,ok,error,attributes});parent.appendChild(elem),loadedJS.push(url)}))));return Promise.all(promises).then(resolve,reject)}))}},"./app/public/js/utils/internalApi.ts":(__unused_webpack_module,__webpack_exports__,__webpack_require__)=>{"use strict";__webpack_require__.d(__webpack_exports__,{O:()=>InternalApi});const internalApiRequest=(path,init,params={})=>{const query=new URLSearchParams;return query.set("__amp_source_origin",window.location.origin),Object.keys(params).forEach((key=>{query.set(key,params[key])})),fetch(`/internal-api/${path}?${query.toString()}`,init)},InternalApi={post:(path,data,params)=>internalApiRequest(path,{method:"POST",mode:"same-origin",cache:"no-cache",credentials:"same-origin",headers:{"Content-Type":"application/json"},body:JSON.stringify(data)},params),get:(path,params)=>internalApiRequest(path,{method:"GET"},params),delete:(path,params)=>internalApiRequest(path,{method:"DELETE"},params)}},"./app/public/js/utils/redirect.ts":(__unused_webpack_module,__webpack_exports__,__webpack_require__)=>{"use strict";__webpack_require__.d(__webpack_exports__,{V:()=>redirect});const redirect=url=>{location.href=url}},"./app/component/library/Forms/new/FakeForm.js":(__unused_webpack_module,__webpack_exports__,__webpack_require__)=>{"use strict";__webpack_require__.d(__webpack_exports__,{k:()=>FakeForm});var _babel_runtime_helpers_defineProperty__WEBPACK_IMPORTED_MODULE_0__=__webpack_require__("../node_modules/.pnpm/@babel+runtime@7.25.7/node_modules/@babel/runtime/helpers/esm/defineProperty.js"),_babel_runtime_helpers_objectWithoutProperties__WEBPACK_IMPORTED_MODULE_2__=__webpack_require__("../node_modules/.pnpm/@babel+runtime@7.25.7/node_modules/@babel/runtime/helpers/esm/objectWithoutProperties.js"),prop_types__WEBPACK_IMPORTED_MODULE_3__=__webpack_require__("../node_modules/.pnpm/prop-types@15.8.1/node_modules/prop-types/index.js"),prop_types__WEBPACK_IMPORTED_MODULE_3___default=__webpack_require__.n(prop_types__WEBPACK_IMPORTED_MODULE_3__),react_jsx_runtime__WEBPACK_IMPORTED_MODULE_1__=__webpack_require__("../node_modules/.pnpm/react@18.3.1/node_modules/react/jsx-runtime.js");const _excluded=["formDescription","children"];function ownKeys(e,r){var t=Object.keys(e);if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(e);r&&(o=o.filter((function(r){return Object.getOwnPropertyDescriptor(e,r).enumerable}))),t.push.apply(t,o)}return t}function _objectSpread(e){for(var r=1;r<arguments.length;r++){var t=null!=arguments[r]?arguments[r]:{};r%2?ownKeys(Object(t),!0).forEach((function(r){(0,_babel_runtime_helpers_defineProperty__WEBPACK_IMPORTED_MODULE_0__.A)(e,r,t[r])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(t)):ownKeys(Object(t)).forEach((function(r){Object.defineProperty(e,r,Object.getOwnPropertyDescriptor(t,r))}))}return e}const FakeForm=_ref=>{let{formDescription,children}=_ref,props=(0,_babel_runtime_helpers_objectWithoutProperties__WEBPACK_IMPORTED_MODULE_2__.A)(_ref,_excluded);return(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_1__.jsx)("div",_objectSpread(_objectSpread({role:"form","aria-label":formDescription},props),{},{children}))};FakeForm.propTypes={formDescription:prop_types__WEBPACK_IMPORTED_MODULE_3___default().string.isRequired,children:prop_types__WEBPACK_IMPORTED_MODULE_3___default().oneOfType([prop_types__WEBPACK_IMPORTED_MODULE_3___default().string,prop_types__WEBPACK_IMPORTED_MODULE_3___default().node,prop_types__WEBPACK_IMPORTED_MODULE_3___default().arrayOf(prop_types__WEBPACK_IMPORTED_MODULE_3___default().node)]).isRequired}},"./app/component/library/Forms/new/HideShowPassword.js":(__unused_webpack_module,__webpack_exports__,__webpack_require__)=>{"use strict";__webpack_require__.d(__webpack_exports__,{V:()=>HideShowPassword});var defineProperty=__webpack_require__("../node_modules/.pnpm/@babel+runtime@7.25.7/node_modules/@babel/runtime/helpers/esm/defineProperty.js"),objectWithoutProperties=__webpack_require__("../node_modules/.pnpm/@babel+runtime@7.25.7/node_modules/@babel/runtime/helpers/esm/objectWithoutProperties.js"),prop_types=__webpack_require__("../node_modules/.pnpm/prop-types@15.8.1/node_modules/prop-types/index.js"),prop_types_default=__webpack_require__.n(prop_types),styled_components_browser_esm=__webpack_require__("../node_modules/.pnpm/styled-components@6.1.13_react-dom@18.3.1_react@18.3.1/node_modules/styled-components/dist/styled-components.browser.esm.js"),Icon=__webpack_require__("../ui/dist/Icon.js");var _path,react=__webpack_require__("../node_modules/.pnpm/react@18.3.1/node_modules/react/index.js");function _extends(){return _extends=Object.assign?Object.assign.bind():function(n){for(var e=1;e<arguments.length;e++){var t=arguments[e];for(var r in t)({}).hasOwnProperty.call(t,r)&&(n[r]=t[r])}return n},_extends.apply(null,arguments)}const password_hide=props=>react.createElement("svg",_extends({xmlns:"http://www.w3.org/2000/svg",id:"0526637eb14b0b9a",viewBox:"0 0 24 24"},props),_path||(_path=react.createElement("path",{fill:"currentColor",fillRule:"evenodd",d:"M12 6.47a5 5 0 0 1 4.76 6.46l3.06 3.06A12 12 0 0 0 23 11.46 11.83 11.83 0 0 0 8.36 4.54l2.17 2.17q.7-.22 1.47-.24M3.42 2.42 2.01 3.84l2.68 2.68A12 12 0 0 0 1 11.47a11.83 11.83 0 0 0 15.31 6.68l3.43 3.43 1.41-1.41zM12 16.47a5 5 0 0 1-4.51-7.14l1.57 1.57q-.05.27-.06.57a3 3 0 0 0 3.57 2.93l1.57 1.57q-.98.49-2.14.5m2.97-5.33a3 3 0 0 0-2.64-2.64z"})));var password_show_path;function password_show_extends(){return password_show_extends=Object.assign?Object.assign.bind():function(n){for(var e=1;e<arguments.length;e++){var t=arguments[e];for(var r in t)({}).hasOwnProperty.call(t,r)&&(n[r]=t[r])}return n},password_show_extends.apply(null,arguments)}const password_show=props=>react.createElement("svg",password_show_extends({xmlns:"http://www.w3.org/2000/svg",id:"7b829d25a33e4bba",viewBox:"0 0 24 24"},props),password_show_path||(password_show_path=react.createElement("path",{fill:"currentColor",fillRule:"evenodd",d:"M12 4.5C7 4.5 2.73 7.61 1 12a11.83 11.83 0 0 0 22 0c-1.73-4.39-6-7.5-11-7.5M12 17a5 5 0 1 1 0-10 5 5 0 0 1 0 10m0-8a3 3 0 1 0 0 6 3 3 0 0 0 0-6"})));var jsx_runtime=__webpack_require__("../node_modules/.pnpm/react@18.3.1/node_modules/react/jsx-runtime.js");const _excluded=["isPasswordHidden","onIconClick","inputId"];function ownKeys(e,r){var t=Object.keys(e);if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(e);r&&(o=o.filter((function(r){return Object.getOwnPropertyDescriptor(e,r).enumerable}))),t.push.apply(t,o)}return t}function _objectSpread(e){for(var r=1;r<arguments.length;r++){var t=null!=arguments[r]?arguments[r]:{};r%2?ownKeys(Object(t),!0).forEach((function(r){(0,defineProperty.A)(e,r,t[r])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(t)):ownKeys(Object(t)).forEach((function(r){Object.defineProperty(e,r,Object.getOwnPropertyDescriptor(t,r))}))}return e}const HideShowPassword_Icon=Icon.Ay.default||Icon.Ay,Wrapper=styled_components_browser_esm.styled.a.withConfig({componentId:"sc-7sgpf3-0"})(["display:inline-block;position:absolute;top:15px;right:13px;width:24px;height:24px;color:",";cursor:pointer;&:hover,&:active,&:focus-visible{color:",";}"],(({theme})=>theme.color.actionSubtleDark.base),(({theme})=>theme.color.actionSubtleDark.alt)),HideShowPassword=_ref=>{let{isPasswordHidden=!0,onIconClick,inputId}=_ref,rest=(0,objectWithoutProperties.A)(_ref,_excluded);return(0,jsx_runtime.jsx)(Wrapper,_objectSpread(_objectSpread({"data-testid":`hide-show-password-${inputId}`,onClick:onIconClick,"aria-label":isPasswordHidden?"Hide password":"Show password"},rest),{},{children:(0,jsx_runtime.jsx)(HideShowPassword_Icon,{svg:isPasswordHidden?password_show:password_hide})}))};HideShowPassword.propTypes={isPasswordHidden:prop_types_default().bool.isRequired,onIconClick:prop_types_default().func.isRequired,inputId:prop_types_default().string}},"./app/constants/currencies.js":(__unused_webpack_module,__webpack_exports__,__webpack_require__)=>{"use strict";__webpack_require__.d(__webpack_exports__,{bz:()=>CURRENCY_EU,tL:()=>CURRENCY_US,tX:()=>CURRENCY_UK,u:()=>CURRENCY_OTHERS});const CURRENCY_UK="GBP",CURRENCY_US="USD",CURRENCY_EU="EUR",CURRENCY_OTHERS="GBP"},"./app/constants/fetchPriority.js":(__unused_webpack_module,__webpack_exports__,__webpack_require__)=>{"use strict";__webpack_require__.d(__webpack_exports__,{cw:()=>FETCH_PRIORITY_AUTO,pc:()=>FETCH_PRIORITY_HIGH,zz:()=>FETCH_PRIORITY_LOW});const FETCH_PRIORITY_HIGH="high",FETCH_PRIORITY_LOW="low",FETCH_PRIORITY_AUTO="auto"},"./app/constants/localStorage.js":(__unused_webpack_module,__webpack_exports__,__webpack_require__)=>{"use strict";__webpack_require__.d(__webpack_exports__,{Ws:()=>SUBSCRIPTION_CAUSE,fL:()=>CONSENT_TO_PAY_ORIGINAL_PAGE_REDIRECT_URL,gv:()=>DONATE_REDIRECT_RETURN_URL,sU:()=>FORGOTTEN_PASSWORD_REDIRECT_URL});const SUBSCRIPTION_CAUSE="subscription-cause",FORGOTTEN_PASSWORD_REDIRECT_URL="forgotten-password-redirect-url",CONSENT_TO_PAY_ORIGINAL_PAGE_REDIRECT_URL="consent-to-pay-original-page-redirect-url",DONATE_REDIRECT_RETURN_URL="donate-redirect-url"},"./app/constants/publication.js":(__unused_webpack_module,__webpack_exports__,__webpack_require__)=>{"use strict";__webpack_require__.d(__webpack_exports__,{I8:()=>PUBLICATION_US,Wd:()=>PUBLICATION_UK,mv:()=>PUBLICATION_ES});const PUBLICATION_UK="independent.co.uk",PUBLICATION_ES="independentespanol.com",PUBLICATION_US="the-independent.com"},"./app/constants/sectionPaths.js":(__unused_webpack_module,__webpack_exports__,__webpack_require__)=>{"use strict";__webpack_require__.d(__webpack_exports__,{$Y:()=>SECTION_NAME_CRIME,N9:()=>SECTION_NAME_FITNESS_AND_WELLBEING,OF:()=>SECTION_PATH_F1,R:()=>SECTION_PATH_BEST,UA:()=>SECTION_PATH_PREMIUM_PAGE,Ui:()=>SECTION_NAME_TOPIC,Y9:()=>SECTION_NAME_ELECTRIC_VEHICLES,Ye:()=>SECTION_NAME_LIFESTYLE,ZJ:()=>SECTION_PATH_SPORT,_G:()=>SECTION_PATH_NEWS,_V:()=>SECTION_NAME_GAMES,de:()=>SECTION_NAME_BEST,eQ:()=>SECTION_NAME_PREMIUM,i:()=>sectionPaths,vW:()=>SECTION_NAME_BEAUTY,wf:()=>SECTION_NAME_NEWS,zC:()=>SECTION_NAME_TRAVEL});const SECTION_NAME_BEST="best",SECTION_NAME_LIFESTYLE="lifeStyle",SECTION_NAME_NEWS="news",SECTION_NAME_PREMIUM="premium",SECTION_NAME_TRAVEL="travel",SECTION_NAME_GAMES="games",SECTION_NAME_TOPIC="topic",SECTION_NAME_CRIME="crime",SECTION_NAME_BEAUTY="beauty",SECTION_NAME_FITNESS_AND_WELLBEING="fitness and wellbeing",SECTION_NAME_ELECTRIC_VEHICLES="Electric Vehicles",SECTION_PATH_BEST="/extras/indybest",SECTION_PATH_NEWS="/news",SECTION_PATH_PREMIUM_PAGE="/independent-premium",SECTION_PATH_SPORT="/sport",SECTION_PATH_F1="/f1",sectionPaths={[SECTION_NAME_BEST]:SECTION_PATH_BEST,climate:"/climate-change",[SECTION_NAME_LIFESTYLE]:"/life-style",[SECTION_NAME_NEWS]:SECTION_PATH_NEWS,[SECTION_NAME_PREMIUM]:"/independentpremium",sport:SECTION_PATH_SPORT,voices:"/voices",[SECTION_NAME_TRAVEL]:"/travel",[SECTION_NAME_GAMES]:"/games",[SECTION_NAME_TOPIC]:"/topic",[SECTION_NAME_CRIME]:"/crime",f1:SECTION_PATH_F1,[SECTION_NAME_BEAUTY]:"/beauty",wine:"/wine",[SECTION_NAME_FITNESS_AND_WELLBEING]:"/health-and-fitness",[SECTION_NAME_ELECTRIC_VEHICLES]:"/cars/electric-vehicles"}},"./app/constants/server.js":(__unused_webpack_module,__webpack_exports__,__webpack_require__)=>{"use strict";__webpack_require__.d(__webpack_exports__,{Cj:()=>STAGING,G8:()=>LOCAL,IJ:()=>DEV,u0:()=>PROD,zP:()=>UAT});const PROD="prod",STAGING="staging",UAT="uat",DEV="dev",LOCAL="local"},"./app/constants/subscription.js":(__unused_webpack_module,__webpack_exports__,__webpack_require__)=>{"use strict";__webpack_require__.d(__webpack_exports__,{OH:()=>SUBSCRIPTION_CONFIG_KEY_RECURRING_DONATION,Qw:()=>SUBSCRIPTION_CONFIG_KEY_INDY_PREMIUM,Rq:()=>SUBSCRIPTION_CONFIG_KEY_ONE_OFF_DONATION,XI:()=>SUBSCRIPTION_CONFIG_KEY_AD_FREE_ONLY,aZ:()=>SUBSCRIPTION_TRACKING_NAME_ONE_OFF_DONATION,fJ:()=>SUBSCRIPTION_TRACKING_NAME_AD_FREE_AND_PREMIUM,jl:()=>SUBSCRIPTION_TRACKING_NAME_RECURRING_DONATION,n6:()=>SUBSCRIPTION_TRACKING_NAME_PREMIUM_AND_TIDE,sR:()=>SUBSCRIPTION_TRACKING_NAME_AD_FREE_ONLY,wW:()=>SUBSCRIPTION_AD_FREE_RESOURCE_NAME});const SUBSCRIPTION_TRACKING_NAME_AD_FREE_ONLY="Ad Free Only",SUBSCRIPTION_TRACKING_NAME_AD_FREE_AND_PREMIUM="Ad Free + IP",SUBSCRIPTION_TRACKING_NAME_PREMIUM_AND_TIDE="IP + Daily Editions",SUBSCRIPTION_TRACKING_NAME_RECURRING_DONATION="Supporter Donation - Monthly",SUBSCRIPTION_TRACKING_NAME_ONE_OFF_DONATION="Supporter Donation - One-off",SUBSCRIPTION_AD_FREE_RESOURCE_NAME="Independent Ad-Free",SUBSCRIPTION_CONFIG_KEY_AD_FREE_ONLY="adFreeOnly",SUBSCRIPTION_CONFIG_KEY_INDY_PREMIUM="independentPremium",SUBSCRIPTION_CONFIG_KEY_RECURRING_DONATION="donationMonthly",SUBSCRIPTION_CONFIG_KEY_ONE_OFF_DONATION="donationSingle"},"./app/constants/taboola.js":(__unused_webpack_module,__webpack_exports__,__webpack_require__)=>{"use strict";__webpack_require__.d(__webpack_exports__,{Ch:()=>ID_TABOOLA_NEWSROOM,DM:()=>ID_TABOOLA_MS_HERO,Ez:()=>ID_TABOOLA_BELOW_SECTION_FRONT_FEED,FE:()=>ID_TABOOLA_RIGHT_RAIL,LI:()=>ID_TABOOLA_BELOW_ARTICLE_THUMBNAILS_CRIME,OK:()=>ID_TABOOLA_CAROUSEL_THUMBNAILS,Ui:()=>ID_TABOOLA_RIGHT_RAIL_THUMBNAILS_CRIME,XO:()=>ID_TABOOLA_MID_ARTICLE_THUMBNAILS,cx:()=>ID_TABOOLA_BELOW_INDY_BEST_FEED,kw:()=>ID_TABOOLA_BELOW_ARTICLE_1,oC:()=>ID_TABOOLA_MID_ARTICLE_THUMBNAILS_CRIME,t7:()=>ID_TABOOLA_MID_ARTICLE_THUMBNAILS_LIVEBLOGS,tP:()=>ID_TABOOLA_MOBILE_BELOW_SECTION_FRONT_FEED});const ID_TABOOLA_BELOW_ARTICLE_1="taboola-below-article-1",ID_TABOOLA_BELOW_ARTICLE_THUMBNAILS_CRIME="taboola-below-article-thumbnails-crime",ID_TABOOLA_BELOW_INDY_BEST_FEED="taboola-below-indy-best-feed",ID_TABOOLA_BELOW_SECTION_FRONT_FEED="taboola-below-section-front-feed",ID_TABOOLA_MOBILE_BELOW_SECTION_FRONT_FEED="taboola-mobile-below-section-front-feed",ID_TABOOLA_CAROUSEL_THUMBNAILS="taboola-carousel-thumbnails",ID_TABOOLA_MID_ARTICLE_THUMBNAILS="taboola-mid-article-thumbnails",ID_TABOOLA_MID_ARTICLE_THUMBNAILS_CRIME="taboola-mid-article-thumbnails-crime",ID_TABOOLA_MID_ARTICLE_THUMBNAILS_LIVEBLOGS="taboola-mid-article-thumbnails-live-blogs",ID_TABOOLA_MS_HERO="taboola-ms-hero",ID_TABOOLA_NEWSROOM="taboola-newsroom",ID_TABOOLA_RIGHT_RAIL="taboola-right-rail",ID_TABOOLA_RIGHT_RAIL_THUMBNAILS_CRIME="taboola-right-rail-thumbnails-crime"},"./app/constants/testIds.js":(__unused_webpack_module,__webpack_exports__,__webpack_require__)=>{"use strict";__webpack_require__.d(__webpack_exports__,{Bo:()=>TEST_ID_FUTURE_EVENTS,CJ:()=>TEST_ID_REG_PASSWORD,Cy:()=>TEST_ID_OPT_IN_POLICY_EXPANDED,DL:()=>TEST_ID_REG_EMAIL,EG:()=>TEST_ID_LOGIN_SUBMIT,I1:()=>TEST_ID_LOGIN_FORGOT_PASSWORD_LINK,Ic:()=>TEST_ID_REG_WALL_VARIANT_THREE_FORM_EMAIL,KG:()=>TEST_ID_OPT_IN_POLICY_HEADER,Lk:()=>TEST_ID_REG_USER_LOGIN_LINK,OO:()=>TEST_ID_REG_WALL_VARIANT_THREE_FORM_MAYBE_LATER_BUTTON,OT:()=>TEST_ID_REG_WALL_VARIANT_THREE_FORM_FIRST_NAME,OW:()=>TEST_ID_COMPLETE_YOUR_PROFILE_FORM_ERROR_MESSAGE_BANNER,Pj:()=>TEST_ID_EVENT_TILE,Ql:()=>TEST_ID_LOGIN_FORM,Si:()=>TEST_ID_PAST_EVENTS,Ts:()=>TEST_ID_LOGIN_FORM_EMAIL,UL:()=>TEST_ID_PROFILE_CANCEL_SUBSCRIPTION_BUTTON,Vv:()=>TEST_ID_COMPLETE_YOUR_PROFILE_FORM_EMAIL,Y3:()=>TEST_ID_REG_BIRTH_YEAR,YH:()=>TEST_ID_LOGIN_REG_FORM_CHOOSE_PAYMENT_METHOD,Z:()=>TEST_ID_OPT_IN,ax:()=>TEST_ID_COMPLETE_YOUR_PROFILE_FORM_BIRTH_YEAR,bK:()=>TEST_ID_REG_WALL_VARIANT_THREE_FORM_ERROR_MESSAGE_BANNER,c4:()=>TEST_ID_DOWNLOAD_APP_START_BROWSING_BUTTON,dS:()=>TEST_ID_SELLING_PAGE_ROW_MODAL_CLOSE_BUTTON,eA:()=>TEST_ID_COMPLETE_YOUR_PROFILE_FORM,fG:()=>TEST_ID_REG_LAST_NAME,fc:()=>TEST_ID_COMPLETE_YOUR_PROFILE_GO_BACK_BUTTON,gn:()=>TEST_ID_LOGIN_REG_FORM_RESET_BUTTON,hy:()=>TEST_ID_REG_WALL_VARIANT_THREE_FORM_BIRTH_YEAR,kh:()=>TEST_ID_LOGIN_FORM_PASSWORD,lX:()=>TEST_ID_REG_SUBMIT,nD:()=>TEST_ID_COMPLETE_YOUR_PROFILE_FORM_FIRST_NAME,nu:()=>TEST_ID_REG_WALL_VARIANT_THREE_FORM_NEWSLETTER_CHECKBOX,p7:()=>TEST_ID_REG_WALL_VARIANT_THREE_FORM_SUBMIT_BUTTON,t0:()=>TEST_ID_REG_WALL_VARIANT_THREE_FORM_OPT_IN_CHECKBOX,vP:()=>TEST_ID_REG_FORM,vo:()=>TEST_ID_REG_WALL_VARIANT_THREE_FORM_PASSWORD,vw:()=>TEST_ID_REG_FIRST_NAME,wY:()=>TEST_ID_COMPLETE_YOUR_PROFILE_FORM_SUBMIT_BUTTON});const TEST_ID_PAST_EVENTS="events-past",TEST_ID_FUTURE_EVENTS="events-future",TEST_ID_EVENT_TILE="event-tile",TEST_ID_REG_FORM="reg-form",TEST_ID_REG_SUBMIT="reg-submit",TEST_ID_REG_EMAIL="reg-email",TEST_ID_REG_FIRST_NAME="reg-first-name",TEST_ID_REG_LAST_NAME="reg-last-name",TEST_ID_REG_BIRTH_YEAR="reg-birth-year",TEST_ID_REG_PASSWORD="reg-password",TEST_ID_REG_USER_LOGIN_LINK="reg-user-login-link",TEST_ID_LOGIN_FORM="login-form",TEST_ID_LOGIN_FORM_EMAIL="login-form-email",TEST_ID_LOGIN_FORM_PASSWORD="login-form-password",TEST_ID_LOGIN_SUBMIT="login-submit",TEST_ID_LOGIN_FORGOT_PASSWORD_LINK="login-forgot-password-link",TEST_ID_COMPLETE_YOUR_PROFILE_FORM="complete-your-profile-form",TEST_ID_COMPLETE_YOUR_PROFILE_FORM_EMAIL="complete-your-profile-form-email",TEST_ID_COMPLETE_YOUR_PROFILE_FORM_FIRST_NAME="complete-your-profile-form-first-name",TEST_ID_COMPLETE_YOUR_PROFILE_FORM_BIRTH_YEAR="complete-your-profile-form-birth-year",TEST_ID_COMPLETE_YOUR_PROFILE_FORM_ERROR_MESSAGE_BANNER="complete-your-profile-form-error-message-banner",TEST_ID_COMPLETE_YOUR_PROFILE_FORM_SUBMIT_BUTTON="complete-your-profile-form-submit-button",TEST_ID_COMPLETE_YOUR_PROFILE_GO_BACK_BUTTON="complete-your-profile-form-go-back-button",TEST_ID_OPT_IN="opt-in",TEST_ID_OPT_IN_POLICY_HEADER="opt-in-policy-header",TEST_ID_OPT_IN_POLICY_EXPANDED="opt-in-policy-expanded",TEST_ID_REG_WALL_VARIANT_THREE_FORM_EMAIL="reg-wall-variant-three-form-email",TEST_ID_REG_WALL_VARIANT_THREE_FORM_PASSWORD="reg-wall-variant-three-form-password",TEST_ID_REG_WALL_VARIANT_THREE_FORM_FIRST_NAME="reg-wall-variant-three-form-first-name",TEST_ID_REG_WALL_VARIANT_THREE_FORM_BIRTH_YEAR="reg-wall-variant-three-form-birth-year",TEST_ID_REG_WALL_VARIANT_THREE_FORM_OPT_IN_CHECKBOX="reg-wall-variant-three-form-opt-in-checkbox",TEST_ID_REG_WALL_VARIANT_THREE_FORM_NEWSLETTER_CHECKBOX="reg-wall-variant-three-form-newsletter-checkbox",TEST_ID_REG_WALL_VARIANT_THREE_FORM_ERROR_MESSAGE_BANNER="reg-wall-variant-three-form-error-message-banner",TEST_ID_REG_WALL_VARIANT_THREE_FORM_SUBMIT_BUTTON="reg-wall-variant-three-form-submit-button",TEST_ID_REG_WALL_VARIANT_THREE_FORM_MAYBE_LATER_BUTTON="reg-wall-variant-three-form-maybe-later-button",TEST_ID_SELLING_PAGE_ROW_MODAL_CLOSE_BUTTON="selling-page-row-modal-close-button",TEST_ID_LOGIN_REG_FORM_RESET_BUTTON="login-reg-form-reset-button",TEST_ID_LOGIN_REG_FORM_CHOOSE_PAYMENT_METHOD="login-reg-form-choose-payment-method",TEST_ID_DOWNLOAD_APP_START_BROWSING_BUTTON="download-app-start-browsing-button",TEST_ID_PROFILE_CANCEL_SUBSCRIPTION_BUTTON="profile-cancel-subscription-button"},"./app/hooks/useDebounceWithHooks.js":(__unused_webpack_module,__webpack_exports__,__webpack_require__)=>{"use strict";__webpack_require__.d(__webpack_exports__,{R:()=>useDebounceWithHooks});var react__WEBPACK_IMPORTED_MODULE_0__=__webpack_require__("../node_modules/.pnpm/react@18.3.1/node_modules/react/index.js");const useDebounceWithHooks=()=>{const timerRef=(0,react__WEBPACK_IMPORTED_MODULE_0__.useRef)(null),clearCurrentTimeout=()=>clearTimeout(timerRef.current),debouncedCached=(0,react__WEBPACK_IMPORTED_MODULE_0__.useCallback)(((fn,timeout)=>(...args)=>{timerRef.current&&clearCurrentTimeout(),timerRef.current=setTimeout((()=>fn(...args)),timeout)}),[]);return(0,react__WEBPACK_IMPORTED_MODULE_0__.useEffect)((()=>()=>{timerRef.current&&clearCurrentTimeout()}),[]),debouncedCached}},"./app/public/js/modules/cookie.js":(__unused_webpack_module,__webpack_exports__,__webpack_require__)=>{"use strict";__webpack_require__.d(__webpack_exports__,{Ri:()=>getCookie,TV:()=>setCookie});const getCookie=(name,defaultValue=null)=>{const parts=`; ${document.cookie}`.split(`; ${name}=`);return 2===parts.length?decodeURIComponent(parts.pop().split(";").shift()):defaultValue},setCookie=(name,value,expire)=>{const date=new Date;if(expire){const expireTime=expire.days?24*expire.days*60*60*1e3:60*expire.hours*60*1e3;date.setTime(date.getTime()+expireTime)}const parts=[];parts.push(`${name}=${encodeURIComponent(value)}`),parts.push("path=/"),parts.push("secure"),expire&&parts.push(`expires=${date.toGMTString()}`),document.cookie=parts.join(";")}},"./app/public/js/modules/custom-event-dispatchers.js":(__unused_webpack_module,__webpack_exports__,__webpack_require__)=>{"use strict";__webpack_require__.r(__webpack_exports__),__webpack_require__.d(__webpack_exports__,{dispatchAccountCancellationBarrier1Click:()=>dispatchAccountCancellationBarrier1Click,dispatchAccountCancellationBarrier2Click:()=>dispatchAccountCancellationBarrier2Click,dispatchAccountCancellationContinueToPaymentClick:()=>dispatchAccountCancellationContinueToPaymentClick,dispatchAccountCancellationKeepSubscriptionClick:()=>dispatchAccountCancellationKeepSubscriptionClick,dispatchAccountCancellationReactivateSubscriptionClick:()=>dispatchAccountCancellationReactivateSubscriptionClick,dispatchAccountCancellationTakeThisOfferClick:()=>dispatchAccountCancellationTakeThisOfferClick,dispatchAccountOverviewTabChangePasswordClick:()=>dispatchAccountOverviewTabChangePasswordClick,dispatchAccountOverviewTabManageSubscriptionClick:()=>dispatchAccountOverviewTabManageSubscriptionClick,dispatchAccountOverviewTabMyDetailsClick:()=>dispatchAccountOverviewTabMyDetailsClick,dispatchAccountOverviewTabPaymentAndBillingClick:()=>dispatchAccountOverviewTabPaymentAndBillingClick,dispatchAdBlockDetected:()=>dispatchAdBlockDetected,dispatchAffiliateLinkClick:()=>dispatchAffiliateLinkClick,dispatchAndCacheChangeSubscriptionPackage:()=>dispatchAndCacheChangeSubscriptionPackage,dispatchAndCacheSubscriptionButtonClick:()=>dispatchAndCacheSubscriptionButtonClick,dispatchArticleBookmark:()=>dispatchArticleBookmark,dispatchArticleBulletedListClick:()=>dispatchArticleBulletedListClick,dispatchArticleShare:()=>dispatchArticleShare,dispatchAutoGalleryView:()=>dispatchAutoGalleryView,dispatchBlogPostArticleLinkClick:()=>dispatchBlogPostArticleLinkClick,dispatchBurgerMenuClick:()=>dispatchBurgerMenuClick,dispatchChangePaymentMethod:()=>dispatchChangePaymentMethod,dispatchCommentSubmitted:()=>dispatchCommentSubmitted,dispatchContextualInlineClick:()=>dispatchContextualInlineClick,dispatchContextualInlineNonTopicClick:()=>dispatchContextualInlineNonTopicClick,dispatchContextualInlineTopicClick:()=>dispatchContextualInlineTopicClick,dispatchDonation:()=>dispatchDonation,dispatchDonationApplePay:()=>dispatchDonationApplePay,dispatchDonationArticleBottom:()=>dispatchDonationArticleBottom,dispatchEditionLinkClick:()=>dispatchEditionLinkClick,dispatchExpandablePromptCTAPremiumClick:()=>dispatchExpandablePromptCTAPremiumClick,dispatchExpandablePromptCTATideClick:()=>dispatchExpandablePromptCTATideClick,dispatchExperienceExecuted:()=>dispatchExperienceExecuted,dispatchFlagCommentClick:()=>dispatchFlagCommentClick,dispatchFocusOnSubsRegField:()=>dispatchFocusOnSubsRegField,dispatchGalleryView:()=>dispatchGalleryView,dispatchIndy100TrendingLinkClick:()=>dispatchIndy100TrendingLinkClick,dispatchIpEBookClick:()=>dispatchIpEBookClick,dispatchIpEventClick:()=>dispatchIpEventClick,dispatchIpTabClick:()=>dispatchIpTabClick,dispatchLiveBlogBulletedListClick:()=>dispatchLiveBlogBulletedListClick,dispatchLiveBlogKeyPointsClick:()=>dispatchLiveBlogKeyPointsClick,dispatchLoadMoreComments:()=>dispatchLoadMoreComments,dispatchLoginSuccess:()=>dispatchLoginSuccess,dispatchMainNavLinkClick:()=>dispatchMainNavLinkClick,dispatchMarketingOpt:()=>dispatchMarketingOpt,dispatchMegaMenuLinkClick:()=>dispatchMegaMenuLinkClick,dispatchMostCommentedSectionClick:()=>dispatchMostCommentedSectionClick,dispatchMostPopularLinkClick:()=>dispatchMostPopularLinkClick,dispatchMostWatchedClick:()=>dispatchMostWatchedClick,dispatchMostWatchedLoad:()=>dispatchMostWatchedLoad,dispatchNotificationPromptAccept:()=>dispatchNotificationPromptAccept,dispatchNotificationPromptDismiss:()=>dispatchNotificationPromptDismiss,dispatchNotificationPromptLoad:()=>dispatchNotificationPromptLoad,dispatchPaymentDetailsFailed:()=>dispatchPaymentDetailsFailed,dispatchPaymentDetailsSuccess:()=>dispatchPaymentDetailsSuccess,dispatchPaymentFormLoaded:()=>dispatchPaymentFormLoaded,dispatchPopularVideosLinkClick:()=>dispatchPopularVideosLinkClick,dispatchPremiumArticleCTAPremiumClick:()=>dispatchPremiumArticleCTAPremiumClick,dispatchPremiumArticleCTATideClick:()=>dispatchPremiumArticleCTATideClick,dispatchPriceComparisonButtonsBuyNowClick:()=>dispatchPriceComparisonButtonsBuyNowClick,dispatchPriceComparisonListBuyNowClick:()=>dispatchPriceComparisonListBuyNowClick,dispatchProductCarouselBuyNowClick:()=>dispatchProductCarouselBuyNowClick,dispatchProductCarouselLoaded:()=>dispatchProductCarouselLoaded,dispatchProductCarouselReadReviewClick:()=>dispatchProductCarouselReadReviewClick,dispatchProductComparisonBuyNowClick:()=>dispatchProductComparisonBuyNowClick,dispatchProductComparisonCheckboxClick:()=>dispatchProductComparisonCheckboxClick,dispatchProductComparisonModalOpen:()=>dispatchProductComparisonModalOpen,dispatchProductComparisonReadReviewClick:()=>dispatchProductComparisonReadReviewClick,dispatchPushNotificationDismiss:()=>dispatchPushNotificationDismiss,dispatchPushNotificationOptIn:()=>dispatchPushNotificationOptIn,dispatchPushNotificationShown:()=>dispatchPushNotificationShown,dispatchReadMoreLinkClick:()=>dispatchReadMoreLinkClick,dispatchRegistrationFailed:()=>dispatchRegistrationFailed,dispatchRegistrationSuccess:()=>dispatchRegistrationSuccess,dispatchRegistrationSuccessStandard:()=>dispatchRegistrationSuccessStandard,dispatchRegistrationWallClick:()=>dispatchRegistrationWallClick,dispatchRelatedArticlesLinkClick:()=>dispatchRelatedArticlesLinkClick,dispatchSearch:()=>dispatchSearch,dispatchSellingPageLoaded:()=>dispatchSellingPageLoaded,dispatchShowCommentsClick:()=>dispatchShowCommentsClick,dispatchSponsoredFeaturesLinkClick:()=>dispatchSponsoredFeaturesLinkClick,dispatchStageBarrier1Click:()=>dispatchStageBarrier1Click,dispatchStageBarrier2Click:()=>dispatchStageBarrier2Click,dispatchSupportNSCLinkClick:()=>dispatchSupportNSCLinkClick,dispatchSupportNowEncoreClick:()=>dispatchSupportNowEncoreClick,dispatchTaboolaFeedLinkClick:()=>dispatchTaboolaFeedLinkClick,dispatchTempLinkClick:()=>dispatchTempLinkClick,dispatchTopicListItemClick:()=>dispatchTopicListItemClick,dispatchUpdateComponentsList:()=>dispatchUpdateComponentsList,dispatchVoteCommentClick:()=>dispatchVoteCommentClick,dispatchVoucherTickerArrowClick:()=>dispatchVoucherTickerArrowClick,dispatchVoucherTickerLinkClick:()=>dispatchVoucherTickerLinkClick,dispatchWebpushSignupClick:()=>dispatchWebpushSignupClick});var defineProperty=__webpack_require__("../node_modules/.pnpm/@babel+runtime@7.25.7/node_modules/@babel/runtime/helpers/esm/defineProperty.js"),customEvents=__webpack_require__("./app/constants/customEvents.js");function ownKeys(e,r){var t=Object.keys(e);if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(e);r&&(o=o.filter((function(r){return Object.getOwnPropertyDescriptor(e,r).enumerable}))),t.push.apply(t,o)}return t}function _objectSpread(e){for(var r=1;r<arguments.length;r++){var t=null!=arguments[r]?arguments[r]:{};r%2?ownKeys(Object(t),!0).forEach((function(r){(0,defineProperty.A)(e,r,t[r])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(t)):ownKeys(Object(t)).forEach((function(r){Object.defineProperty(e,r,Object.getOwnPropertyDescriptor(t,r))}))}return e}const createCustomEvent=(name,eventData={})=>(((title,dataObject={})=>{const dataJson=JSON.stringify(dataObject,null,2),dataWidth=dataJson.split("\n").reduce(((acc,value)=>value.length>=acc?value.length:acc),0),titleWidth=title.length,width=Math.max(titleWidth,dataWidth),titleLine=`  ${title.padEnd(width)}  `,dataLines=dataJson.split("\n").map((x=>`  ${x.padEnd(width)}  `)),dataLogLines=dataLines.length>1?`%c${dataLines.slice(0,1)}\n%c${dataLines.slice(1,-1).join("\n")}\n%c${dataLines.slice(-1)}\n`:`%c${dataLines[0]}\n`,dataLogStyles=dataLines.length>1?["font-family:monospace; background: #333; color: #eee; padding-top: 5px;","font-family:monospace; background: #333; color: #eee;","font-family:monospace; background: #333; color: #eee; padding-bottom: 10px; border-radius: 0 0 6px 6px"]:["font-family:monospace; background: #333; color: #eee; padding-top: 5px; padding-bottom: 10px; border-radius: 0 0 6px 6px"];console.log(`%c${titleLine}\n${dataLogLines}`,"font-family:monospace; background: #333; color: #eee; border-bottom: 1px solid #666; padding: 5px 0; border-radius: 6px 6px 0 0",...dataLogStyles)})(`CustomEvent: ${name}`,eventData),new CustomEvent(customEvents.ru,{detail:{data:_objectSpread({},eventData),eventName:name}})),dispatchCustomEvent=(eventName,data)=>{return event=createCustomEvent(eventName,data),void document.body.dispatchEvent(event);var event};var digital_data_session=__webpack_require__("./app/public/js/modules/digital-data/digital-data-session.ts");const cacheSubscriptionInfo=({subscription_length,subscription_price,subscription_package,selling_page_variant,subscribe_button_version})=>{(0,digital_data_session.mb)({subscription_length,subscription_price,subscription_package,selling_page_variant,subscribe_button_version})},dispatchArticleBookmark=(data={})=>dispatchCustomEvent("article_bookmark",data),dispatchAndCacheChangeSubscriptionPackage=(data={})=>(cacheSubscriptionInfo(data),dispatchCustomEvent("change_subscription_package",data)),dispatchPremiumArticleCTAPremiumClick=(data={})=>dispatchCustomEvent("premium_article_cta_premium",data),dispatchPremiumArticleCTATideClick=(data={})=>dispatchCustomEvent("premium_article_cta_tide",data),dispatchExpandablePromptCTAPremiumClick=(data={})=>dispatchCustomEvent("expandable_prompt_cta_premium",data),dispatchExpandablePromptCTATideClick=(data={})=>dispatchCustomEvent("expandable_prompt_cta_tide",data),dispatchChangePaymentMethod=(data={})=>dispatchCustomEvent("change_payment_method",data),dispatchAndCacheSubscriptionButtonClick=(data={})=>(cacheSubscriptionInfo(data),dispatchCustomEvent("subscription_button_click",data)),dispatchFocusOnSubsRegField=(data={})=>dispatchCustomEvent("focus_reg_subscription_field",data),dispatchDonation=(data={})=>dispatchCustomEvent("donation",data),dispatchDonationApplePay=(data={})=>dispatchCustomEvent("donation_apple_pay",data),dispatchDonationArticleBottom=(data={})=>dispatchCustomEvent("donation_article_bottom",data),dispatchGalleryView=(data={})=>dispatchCustomEvent("gallery_view",data),dispatchAutoGalleryView=(data={})=>dispatchCustomEvent("auto_gallery_view",data),dispatchMarketingOpt=(data={})=>dispatchCustomEvent("marketing_opt",data),dispatchRegistrationSuccess=(data={})=>dispatchCustomEvent("registration_success",data),dispatchRegistrationSuccessStandard=(data={})=>dispatchCustomEvent("registration_success_standard",data),dispatchRegistrationFailed=(data={})=>dispatchCustomEvent("registration_failed",data),dispatchLoginSuccess=(data={})=>dispatchCustomEvent("login_success",data),dispatchArticleShare=(data={})=>dispatchCustomEvent("article_share",data),dispatchSearch=(data={})=>dispatchCustomEvent("search",data),dispatchMegaMenuLinkClick=(data={})=>dispatchCustomEvent("mega_menu_link_click",data),dispatchMainNavLinkClick=(data={})=>dispatchCustomEvent("main_nav_link_click",data),dispatchMostPopularLinkClick=(data={})=>dispatchCustomEvent("most_popular_link_click",data),dispatchPopularVideosLinkClick=(data={})=>dispatchCustomEvent("popular_videos_link_click",data),dispatchSponsoredFeaturesLinkClick=(data={})=>dispatchCustomEvent("sponsored_features_link_click",data),dispatchReadMoreLinkClick=(data={})=>dispatchCustomEvent("read_more_link_click",data),dispatchIndy100TrendingLinkClick=(data={})=>dispatchCustomEvent("indy100_trending_link_click",data),dispatchTaboolaFeedLinkClick=(data={})=>dispatchCustomEvent("taboola_feed_link_click",data),dispatchRelatedArticlesLinkClick=(data={})=>dispatchCustomEvent("related_articles_link_click",data),dispatchPaymentFormLoaded=(data={})=>dispatchCustomEvent("payment_form_loaded",data),dispatchPaymentDetailsSuccess=(data={})=>dispatchCustomEvent("payment_details_success",data),dispatchPaymentDetailsFailed=(data={})=>dispatchCustomEvent("payment_details_failed",data),dispatchCommentSubmitted=(data={})=>dispatchCustomEvent("comment",data),dispatchShowCommentsClick=(data={})=>dispatchCustomEvent("show_comments_click",data),dispatchFlagCommentClick=(data={})=>dispatchCustomEvent("flag_comment_click",data),dispatchVoteCommentClick=(data={})=>dispatchCustomEvent("vote_comment_click",data),dispatchLoadMoreComments=(data={})=>dispatchCustomEvent("load_more_comments",data),dispatchIpTabClick=(data={})=>dispatchCustomEvent("ip_tab_click",data),dispatchIpEBookClick=(data={})=>dispatchCustomEvent("ip_ebook_click",data),dispatchIpEventClick=(data={})=>dispatchCustomEvent("ip_event_click",data),dispatchPushNotificationShown=(data={})=>dispatchCustomEvent("push_notification_shown",data),dispatchPushNotificationOptIn=(data={})=>dispatchCustomEvent("push_notification_optin",data),dispatchPushNotificationDismiss=(data={})=>dispatchCustomEvent("push_notification_dismiss",data),dispatchLiveBlogBulletedListClick=(data={})=>dispatchCustomEvent("liveblog_bulleted_list_click",data),dispatchArticleBulletedListClick=(data={})=>dispatchCustomEvent("article_bulleted_list_click",data),dispatchBlogPostArticleLinkClick=(data={})=>dispatchCustomEvent("blog_post_article_link_click",data),dispatchRegistrationWallClick=(data={})=>dispatchCustomEvent("registration_wall_click",data),dispatchMostWatchedLoad=(data={})=>dispatchCustomEvent("most_watched_load",data),dispatchMostWatchedClick=(data={})=>dispatchCustomEvent("most_watched_click",data),dispatchContextualInlineClick=(data={})=>dispatchCustomEvent("contextual_inline_click",data),dispatchContextualInlineTopicClick=(data={})=>dispatchCustomEvent("contextual_inline_topic_click",data),dispatchContextualInlineNonTopicClick=(data={})=>dispatchCustomEvent("contextual_inline_non_topic_click",data),dispatchLiveBlogKeyPointsClick=(data={})=>dispatchCustomEvent("liveblog_key_points_click",data),dispatchSellingPageLoaded=(data={})=>dispatchCustomEvent("selling_page_loaded",data),dispatchMostCommentedSectionClick=(data={})=>dispatchCustomEvent("most_commented_section_click",data),dispatchUpdateComponentsList=(data={})=>dispatchCustomEvent("update_components_list",data),dispatchTopicListItemClick=(data={})=>dispatchCustomEvent("article_topic_tag_click",data),dispatchAdBlockDetected=()=>dispatchCustomEvent("adblock_detected"),dispatchExperienceExecuted=(data={})=>dispatchCustomEvent("experience_executed",data),dispatchVoucherTickerLinkClick=(data={})=>dispatchCustomEvent("voucher_ticker_link_click",data),dispatchVoucherTickerArrowClick=(data={})=>dispatchCustomEvent("voucher_ticker_arrow_click",data),dispatchBurgerMenuClick=()=>dispatchCustomEvent("burger_menu_click"),dispatchEditionLinkClick=(data={})=>dispatchCustomEvent("edition_link_click",data),dispatchTempLinkClick=(data={})=>dispatchCustomEvent("temporary_link_click",data),dispatchAffiliateLinkClick=(data={})=>dispatchCustomEvent("affiliate_link_click",data),dispatchWebpushSignupClick=()=>dispatchCustomEvent("webpush_signup_click"),dispatchNotificationPromptAccept=()=>dispatchCustomEvent("notification_prompt_accept"),dispatchNotificationPromptDismiss=()=>dispatchCustomEvent("notification_prompt_dismiss"),dispatchNotificationPromptLoad=(data={})=>dispatchCustomEvent("notification_prompt_load",data),dispatchPriceComparisonListBuyNowClick=(data={})=>dispatchCustomEvent("price_comparison_list_buy_now_click",data),dispatchPriceComparisonButtonsBuyNowClick=(data={})=>dispatchCustomEvent("price_comparison_buttons_buy_now_click",data),dispatchProductCarouselLoaded=(data={})=>dispatchCustomEvent("product_comparison_carousel_load",data),dispatchProductCarouselBuyNowClick=(data={})=>dispatchCustomEvent("product_carousel_buy_now_click",data),dispatchProductCarouselReadReviewClick=(data={})=>dispatchCustomEvent("product_carousel_read_review_click",data),dispatchProductComparisonCheckboxClick=(data={})=>dispatchCustomEvent("product_comparison_checkbox_click",data),dispatchProductComparisonModalOpen=(data={})=>dispatchCustomEvent("product_comparison_modal_open",data),dispatchProductComparisonBuyNowClick=(data={})=>dispatchCustomEvent("product_comparison_modal_buy_now_click",data),dispatchProductComparisonReadReviewClick=(data={})=>dispatchCustomEvent("product_comparison_modal_read_review_click",data),dispatchAccountOverviewTabMyDetailsClick=(data={})=>dispatchCustomEvent("account_overview_tab_my_details",data),dispatchAccountOverviewTabChangePasswordClick=(data={})=>dispatchCustomEvent("account_overview_tab_change_password",data),dispatchAccountOverviewTabPaymentAndBillingClick=(data={})=>dispatchCustomEvent("account_overview_tab_payments_and_billing",data),dispatchAccountOverviewTabManageSubscriptionClick=(data={})=>dispatchCustomEvent("account_overview_tab_manage_subscription",data),dispatchAccountCancellationBarrier1Click=(data={})=>dispatchCustomEvent("account_cancellation_barrier_1",data),dispatchAccountCancellationBarrier2Click=(data={})=>dispatchCustomEvent("account_cancellation_barrier_2",data),dispatchAccountCancellationKeepSubscriptionClick=(data={})=>dispatchCustomEvent("account_cancellation_keep_subscription",data),dispatchAccountCancellationTakeThisOfferClick=(data={})=>dispatchCustomEvent("account_cancellation_take_this_offer",data),dispatchAccountCancellationContinueToPaymentClick=(data={})=>dispatchCustomEvent("account_cancellation_continue_to_payment",data),dispatchAccountCancellationReactivateSubscriptionClick=(data={})=>dispatchCustomEvent("account_cancellation_reactivate_subscription",data),dispatchStageBarrier1Click=(data={})=>dispatchCustomEvent("stage_barrier_1",data),dispatchStageBarrier2Click=(data={})=>dispatchCustomEvent("stage_barrier_2",data),dispatchSupportNSCLinkClick=(data={})=>dispatchCustomEvent("support_nsc_link_click",data),dispatchSupportNowEncoreClick=(data={})=>dispatchCustomEvent("support_now_encore_click",data)},"./app/public/js/piano.js":(__unused_webpack_module,__webpack_exports__,__webpack_require__)=>{"use strict";__webpack_require__.d(__webpack_exports__,{FE:()=>addHandlers,Jo:()=>getResourceTrackingName,eN:()=>handleAlreadyHasAccessForSubscriptions,k3:()=>handleCheckoutComplete,ll:()=>handleCheckoutCompleteForSubscriptions,hl:()=>setSubscriberCookieAndRedirectToConfirmationPage,P$:()=>showMyAccount,Re:()=>showPianoOffer,Tw:()=>updateDefaultPaymentMethodOnEvent});var defineProperty=__webpack_require__("../node_modules/.pnpm/@babel+runtime@7.25.7/node_modules/@babel/runtime/helpers/esm/defineProperty.js"),cookies=__webpack_require__("./app/constants/cookies.ts"),adobeConstants=__webpack_require__("./app/constants/adobeConstants.ts"),ids=__webpack_require__("./app/constants/ids.js"),constants_localStorage=__webpack_require__("./app/constants/localStorage.js"),subscription=__webpack_require__("./app/constants/subscription.js"),redirects=__webpack_require__("./app/util/redirects.js"),cookie=__webpack_require__("./app/public/js/modules/cookie.js"),custom_event_dispatchers=__webpack_require__("./app/public/js/modules/custom-event-dispatchers.js"),digital_data_session=__webpack_require__("./app/public/js/modules/digital-data/digital-data-session.ts"),taboola=(__webpack_require__("./app/public/js/modules/log.js"),__webpack_require__("./app/constants/sectionPaths.js"),__webpack_require__("./app/constants/taboola.js")),util=__webpack_require__("./app/public/js/modules/util.ts");taboola.kw,taboola.OK,taboola.FE,taboola.cx,taboola.Ch,taboola.DM,taboola.t7,taboola.oC,taboola.LI,taboola.Ui,taboola.Ez,taboola.tP,taboola.XO,taboola.XO;var internalApi=__webpack_require__("./app/public/js/utils/internalApi.ts"),utils_redirect=__webpack_require__("./app/public/js/utils/redirect.ts");function piano_ownKeys(e,r){var t=Object.keys(e);if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(e);r&&(o=o.filter((function(r){return Object.getOwnPropertyDescriptor(e,r).enumerable}))),t.push.apply(t,o)}return t}const getResourceTrackingName=()=>{var _paymentPageContainer;const paymentPageContainer=document.getElementById(ids.dY);return(null==paymentPageContainer||null===(_paymentPageContainer=paymentPageContainer.dataset)||void 0===_paymentPageContainer?void 0:_paymentPageContainer.subscriptionResourceTrackingName)||subscription.n6},setSubscriberCookieAndRedirectToConfirmationPage=()=>{(0,cookie.TV)(cookies.iR,!0,{days:3650}),setTimeout((()=>{(0,utils_redirect.V)("/subscribe/confirmation")}))},handleCheckoutCompleteForSubscriptions=()=>{window.tp.push(["addHandler","checkoutComplete",setSubscriberCookieAndRedirectToConfirmationPage])},handleAlreadyHasAccessForSubscriptions=()=>{window.tp.push(["addHandler","customEvent",({eventName})=>{if("close-has-access"!==eventName)return;const trackingName=getResourceTrackingName(),consentOrPayOriginalUrl=localStorage.getItem(constants_localStorage.fL),hasConsentOrPayRedirect=!!consentOrPayOriginalUrl,isDonation=[subscription.aZ,subscription.jl].includes(trackingName);if((0,digital_data_session.Ei)(adobeConstants.I),!isDonation)return hasConsentOrPayRedirect?(localStorage.removeItem(constants_localStorage.fL),void(0,utils_redirect.V)(consentOrPayOriginalUrl)):void(0,utils_redirect.V)("/subscribe");(0,utils_redirect.V)((0,redirects.g8)())}])},addHandlers=(trackingData={},isPaymentFlow)=>{const trackingDataKeys=Object.keys(trackingData);window.tp=window.tp||[],window.tp.push(["addHandler","startCheckout",()=>(0,custom_event_dispatchers.dispatchPaymentFormLoaded)(trackingData)]),!isPaymentFlow&&window.tp.push(["addHandler","checkoutComplete",()=>{(0,custom_event_dispatchers.dispatchPaymentDetailsSuccess)(trackingData),function trackSubscriptionCause(){const pageUrl=localStorage.getItem(constants_localStorage.Ws);pageUrl&&(window._tfa=window._tfa=[],window._tfa.push({notify:"subscription",name:"subscription-completed",sourceurl:pageUrl}),(0,util.kG)(["//cdn.taboola.com/libtrc/unip/1018671/tfa.js"]))}(),(0,digital_data_session.Ei)(trackingDataKeys)}]),window.tp.push(["addHandler","checkoutError",()=>{(0,digital_data_session.Ei)(trackingDataKeys),(0,custom_event_dispatchers.dispatchPaymentDetailsFailed)(trackingData)}])},showPianoOffer=({offerId="",termId="",trackingData={},isPaymentFlow=!1,promoCode="",showCloseButton=!0}={})=>{addHandlers(trackingData,isPaymentFlow),window.tp=window.tp||[],window.tp.push(["init",()=>{window.tp.offer.show(function piano_objectSpread(e){for(var r=1;r<arguments.length;r++){var t=null!=arguments[r]?arguments[r]:{};r%2?piano_ownKeys(Object(t),!0).forEach((function(r){(0,defineProperty.A)(e,r,t[r])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(t)):piano_ownKeys(Object(t)).forEach((function(r){Object.defineProperty(e,r,Object.getOwnPropertyDescriptor(t,r))}))}return e}({offerId,termId,showCloseButton},promoCode&&{promoCode}))}])},showMyAccount=()=>{window.tp=window.tp||[],window.tp.push(["init",()=>{window.tp.myaccount.show({displayMode:"inline",containerSelector:`#${ids.b8}`})}])},updateDefaultPaymentMethodOnEvent=()=>{window.tp=window.tp||[],window.tp.push(["addHandler","customEvent",async({eventName,params})=>{if("default-payment-method"===eventName){const desiredPaymentMethodId=params.method;if((await internalApi.O.post("profile/set-default-payment-method",{desiredPaymentMethodId})).ok)return void showMyAccount();console.warn("Warning: failed to update default payment method.")}}])},handleCheckoutComplete=()=>{window.tp=window.tp||[],window.tp.push(["addHandler","checkoutComplete",()=>{setTimeout((()=>{(0,utils_redirect.V)("/subscribe/confirmation?save_offer=true")}))}])}},"./app/types/index.js":(__unused_webpack_module,__webpack_exports__,__webpack_require__)=>{"use strict";__webpack_require__.d(__webpack_exports__,{eO:()=>BenefitType,_g:()=>BreadcrumbItemsType,YI:()=>ElementIdType,pV:()=>FetchPriorityType,Gn:()=>NewsletterType,fT:()=>PaymentDetailsType,LG:()=>SellingPageBenefitType,pt:()=>UserSubscriptionInfoType});var prop_types=__webpack_require__("../node_modules/.pnpm/prop-types@15.8.1/node_modules/prop-types/index.js"),prop_types_default=__webpack_require__.n(prop_types);const PaymentDetailsType=prop_types_default().shape({resourceName:prop_types_default().string.isRequired,orderNumber:prop_types_default().string.isRequired,orderDate:prop_types_default().string.isRequired,paymentMethod:prop_types_default().string.isRequired,totalPaidToday:prop_types_default().string.isRequired,nextPayment:prop_types_default().string.isRequired,accessName:prop_types_default().string,imageSrc:prop_types_default().string}),BreadcrumbItemsType=prop_types_default().arrayOf(prop_types_default().shape({pageName:prop_types_default().string.isRequired,breadcrumb:prop_types_default().string.isRequired,path:prop_types_default().string.isRequired})),LinkType=prop_types_default().shape({imageSrc:prop_types_default().string.isRequired,imageAlt:prop_types_default().string.isRequired,href:prop_types_default().string.isRequired}),BenefitType=prop_types_default().shape({key:prop_types_default().string.isRequired,title:prop_types_default().string.isRequired,description:prop_types_default().string.isRequired,imageSrc:prop_types_default().string.isRequired,links:prop_types_default().arrayOf(LinkType)}),SellingPageBenefitType=prop_types_default().shape({title:prop_types_default().string.isRequired,description:prop_types_default().string.isRequired,image:prop_types_default().shape({src:prop_types_default().string.isRequired,width:prop_types_default().number,height:prop_types_default().number})});var fetchPriority=__webpack_require__("./app/constants/fetchPriority.js");const FetchPriorityType=prop_types_default().oneOf([fetchPriority.pc,fetchPriority.zz,fetchPriority.cw]),UserSubscriptionInfoType=prop_types_default().shape({userPaymentsInfo:prop_types_default().shape({transactionNumber:prop_types_default().string,autoRenew:prop_types_default().bool,endDate:prop_types_default().number,nextBillingDate:prop_types_default().number,term:prop_types_default().shape({resourceName:prop_types_default().string,name:prop_types_default().string,price:prop_types_default().number,firstPayment:prop_types_default().string,length:prop_types_default().string,currency:prop_types_default().string})}),accountHistory:prop_types_default().shape({startDate:prop_types_default().number,name:prop_types_default().string,price:prop_types_default().string,paymentMethod:prop_types_default().string})});var publication=__webpack_require__("./app/constants/publication.js");prop_types_default().oneOf([publication.Wd,publication.mv,publication.I8]);var taggedTemplates=__webpack_require__("./app/util/taggedTemplates.js");const createType=isRequired=>(props,propName,componentName)=>{const prop=props[propName];if([null,void 0].includes(prop)&&isRequired){const value=void 0===prop?"undefined":JSON.stringify(prop);return new Error(taggedTemplates.Z`
      The prop ${propName} is marked as required in ${componentName}, but its value is ${value}
    `)}if(!/^[a-z][a-z0-9-_]*$/i.test(prop))return new Error(taggedTemplates.Z`
        Invalid prop ${propName} supplied to ${componentName}.
        The prop must contain digits, alphabets, hyphen and underscore only.
      `)},Type=createType(!1);Type.isRequired=createType(!0);const ElementIdType=Type,NewsletterType=prop_types_default().shape({key:prop_types_default().string,type:prop_types_default().string,title:prop_types_default().string,desc:prop_types_default().string,preview:prop_types_default().string,author:prop_types_default().string,frequency:prop_types_default().string,additionalAuthor:prop_types_default().string,icon:prop_types_default().string,subscribed:prop_types_default().bool})},"./app/util/formatPriceByCurrency.js":(__unused_webpack_module,__webpack_exports__,__webpack_require__)=>{"use strict";__webpack_require__.d(__webpack_exports__,{$:()=>formatPriceByCurrency});var intl__WEBPACK_IMPORTED_MODULE_0__=__webpack_require__("../node_modules/.pnpm/intl@1.2.5/node_modules/intl/index.js"),intl__WEBPACK_IMPORTED_MODULE_0___default=__webpack_require__.n(intl__WEBPACK_IMPORTED_MODULE_0__),_app_constants_currencies__WEBPACK_IMPORTED_MODULE_3__=(__webpack_require__("../node_modules/.pnpm/intl@1.2.5/node_modules/intl/locale-data/jsonp/en-GB.js"),__webpack_require__("../node_modules/.pnpm/intl@1.2.5/node_modules/intl/locale-data/jsonp/en-US.js"),__webpack_require__("./app/constants/currencies.js"));const formatPriceByCurrency=(currency,price=0,pretty=!1)=>{const minimumFractionDigits=pretty&&price%1==0?0:2,options={style:"currency",currency,minimumFractionDigits,maximumFractionDigits:minimumFractionDigits};switch(currency){case _app_constants_currencies__WEBPACK_IMPORTED_MODULE_3__.tX:return new(intl__WEBPACK_IMPORTED_MODULE_0___default().NumberFormat)("en-GB",options).format(price);case _app_constants_currencies__WEBPACK_IMPORTED_MODULE_3__.tL:return new(intl__WEBPACK_IMPORTED_MODULE_0___default().NumberFormat)("en-US",options).format(price);case _app_constants_currencies__WEBPACK_IMPORTED_MODULE_3__.bz:return new(intl__WEBPACK_IMPORTED_MODULE_0___default().NumberFormat)("en-GB",options).format(price);default:return(new(intl__WEBPACK_IMPORTED_MODULE_0___default().NumberFormat)).format(price)}}},"./app/util/location.js":(__unused_webpack_module,__webpack_exports__,__webpack_require__)=>{"use strict";__webpack_require__.d(__webpack_exports__,{Ck:()=>getUrlForPath,_c:()=>pathWithParams,bp:()=>getCurrentUrl});var _location__WEBPACK_IMPORTED_MODULE_0__=__webpack_require__("./app/util/location.js");const pathWithParams=(path,queryParams)=>{const params=new URLSearchParams(queryParams);return 0===Array.from(params.keys()).length?`${path}`:`${path}?${params}`},getUrlForPath=(path,queryParams)=>{const baseUrl=new URL(path,window.location.origin);return _location__WEBPACK_IMPORTED_MODULE_0__._c(baseUrl,queryParams)},getCurrentUrl=()=>{const path=window.location.pathname,queryParams=new URLSearchParams(window.location.search);return _location__WEBPACK_IMPORTED_MODULE_0__.Ck(path,queryParams)}},"./app/util/redirects.js":(__unused_webpack_module,__webpack_exports__,__webpack_require__)=>{"use strict";__webpack_require__.d(__webpack_exports__,{xQ:()=>getDonateRegisterRedirect,BS:()=>getDonationPaymentRedirect,g8:()=>getDonationsRedirect,r_:()=>getRegisterOnboardingRedirect,nv:()=>getSubscribePaymentRedirect});var defineProperty=__webpack_require__("../node_modules/.pnpm/@babel+runtime@7.25.7/node_modules/@babel/runtime/helpers/esm/defineProperty.js"),objectWithoutProperties=__webpack_require__("../node_modules/.pnpm/@babel+runtime@7.25.7/node_modules/@babel/runtime/helpers/esm/objectWithoutProperties.js"),piano=__webpack_require__("./app/constants/piano.js");const setStripeFriendlyParams=({offerId,termId})=>({[piano.l_]:offerId,[piano.DC]:termId});var util_location=__webpack_require__("./app/util/location.js");const _excluded=["offerId","termId"],_excluded2=["offerId","termId"];function ownKeys(e,r){var t=Object.keys(e);if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(e);r&&(o=o.filter((function(r){return Object.getOwnPropertyDescriptor(e,r).enumerable}))),t.push.apply(t,o)}return t}function _objectSpread(e){for(var r=1;r<arguments.length;r++){var t=null!=arguments[r]?arguments[r]:{};r%2?ownKeys(Object(t),!0).forEach((function(r){(0,defineProperty.A)(e,r,t[r])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(t)):ownKeys(Object(t)).forEach((function(r){Object.defineProperty(e,r,Object.getOwnPropertyDescriptor(t,r))}))}return e}const getRegisterOnboardingRedirect=queryParams=>{const params=new URLSearchParams(queryParams);return(0,util_location._c)("/thank-you",params)},getSubscribePaymentRedirect=_ref=>{let{offerId,termId}=_ref,rest=(0,objectWithoutProperties.A)(_ref,_excluded);const stripeFriendlyParams=setStripeFriendlyParams({offerId,termId}),params=new URLSearchParams(_objectSpread(_objectSpread({},stripeFriendlyParams),rest));return(0,util_location._c)("/subscribe/payment",params)},getDonationsRedirect=queryParams=>(0,util_location._c)("/donate",queryParams),getDonationPaymentRedirect=_ref2=>{let{offerId,termId}=_ref2,rest=(0,objectWithoutProperties.A)(_ref2,_excluded2);const stripeFriendlyParams=setStripeFriendlyParams({offerId,termId}),params=new URLSearchParams(_objectSpread(_objectSpread({},stripeFriendlyParams),rest));return(0,util_location._c)("/donate/payment",params)},getDonateRegisterRedirect=queryParams=>(0,util_location._c)("/donate/register",queryParams)},"./app/util/taggedTemplates.js":(__unused_webpack_module,__webpack_exports__,__webpack_require__)=>{"use strict";__webpack_require__.d(__webpack_exports__,{Z:()=>minify});const minify=(strings,...expressions)=>strings.reduce(((acc,str,i)=>{var _expressions$i;return acc+=str.replace(/(?:\n(?:\s*))+/g," ")+(null!==(_expressions$i=expressions[i])&&void 0!==_expressions$i?_expressions$i:"")}),"").trim()},"../ui/dist/Button.js":(__unused_webpack_module,__webpack_exports__,__webpack_require__)=>{"use strict";__webpack_require__.d(__webpack_exports__,{Ay:()=>_Themed_8356d011_js__WEBPACK_IMPORTED_MODULE_0__.B,Gp:()=>f,HM:()=>_Themed_8356d011_js__WEBPACK_IMPORTED_MODULE_0__.f,Kn:()=>_Themed_8356d011_js__WEBPACK_IMPORTED_MODULE_0__.i,YG:()=>_Themed_8356d011_js__WEBPACK_IMPORTED_MODULE_0__.h,Zz:()=>_Themed_8356d011_js__WEBPACK_IMPORTED_MODULE_0__.c,pv:()=>_Themed_8356d011_js__WEBPACK_IMPORTED_MODULE_0__.d,wW:()=>_Themed_8356d011_js__WEBPACK_IMPORTED_MODULE_0__.a});var _Themed_8356d011_js__WEBPACK_IMPORTED_MODULE_0__=__webpack_require__("../ui/dist/Themed-8356d011.js");__webpack_require__("../node_modules/.pnpm/react@18.3.1/node_modules/react/jsx-runtime.js"),__webpack_require__("../ui/dist/themes-b13025dc.js"),__webpack_require__("../ui/dist/boxShadows-5b6845f3.js"),__webpack_require__("../ui/dist/colors.js"),__webpack_require__("../ui/dist/colors-5ce6aa8a.js"),__webpack_require__("../ui/dist/base-c94466c3.js"),__webpack_require__("../ui/dist/Icon.constants-aeed18dd.js"),__webpack_require__("../ui/dist/spacings-d75dc27d.js"),__webpack_require__("../ui/dist/fontWeights-aad220af.js"),__webpack_require__("../ui/dist/devices-331a8065.js"),__webpack_require__("../ui/dist/zIndex-7a2256c3.js"),__webpack_require__("../ui/dist/index-e71f7d5b.js"),__webpack_require__("../node_modules/.pnpm/react@18.3.1/node_modules/react/index.js"),__webpack_require__("../ui/dist/index-457e74fa.js"),__webpack_require__("../ui/dist/Icon-d4f7b391.js"),__webpack_require__("../ui/dist/Symbols-7395c1ec.js"),__webpack_require__("../node_modules/.pnpm/react-side-effect@2.1.2_react@18.3.1/node_modules/react-side-effect/lib/index.js");const{premium:f}=_Themed_8356d011_js__WEBPACK_IMPORTED_MODULE_0__.t},"../ui/dist/FeatureList.js":(__unused_webpack_module,__webpack_exports__,__webpack_require__)=>{"use strict";__webpack_require__.d(__webpack_exports__,{Ay:()=>C,hh:()=>f,mO:()=>m,sk:()=>_});var react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__=__webpack_require__("../node_modules/.pnpm/react@18.3.1/node_modules/react/jsx-runtime.js"),styled_components__WEBPACK_IMPORTED_MODULE_8__=__webpack_require__("../node_modules/.pnpm/styled-components@6.1.13_react-dom@18.3.1_react@18.3.1/node_modules/styled-components/dist/styled-components.browser.esm.js"),_index_457e74fa_js__WEBPACK_IMPORTED_MODULE_1__=__webpack_require__("../ui/dist/index-457e74fa.js"),_Icon_d4f7b391_js__WEBPACK_IMPORTED_MODULE_2__=__webpack_require__("../ui/dist/Icon-d4f7b391.js"),_Icon_constants_aeed18dd_js__WEBPACK_IMPORTED_MODULE_3__=__webpack_require__("../ui/dist/Icon.constants-aeed18dd.js"),_devices_331a8065_js__WEBPACK_IMPORTED_MODULE_5__=(__webpack_require__("../node_modules/.pnpm/react@18.3.1/node_modules/react/index.js"),__webpack_require__("../ui/dist/devices-331a8065.js")),d=(__webpack_require__("../ui/dist/Symbols-7395c1ec.js"),__webpack_require__("../node_modules/.pnpm/react-side-effect@2.1.2_react@18.3.1/node_modules/react-side-effect/lib/index.js"),Object.defineProperty),n=(t,e)=>d(t,"name",{value:e,configurable:!0});const b=styled_components__WEBPACK_IMPORTED_MODULE_8__.styled.ul.withConfig({componentId:"sc-1m0izjv-0"})(["display:flex;flex-direction:column;gap:","px;padding:0;margin:0;list-style:none;"],(({theme:t})=>t.spacing.x1)),m=styled_components__WEBPACK_IMPORTED_MODULE_8__.styled.li.withConfig({componentId:"sc-hpcqcg-0"})(["display:flex;align-items:center;gap:","px;color:",";font:"," / 20px ",";"],(({theme:t})=>t.spacing.x1),(t=>t.theme.color.ink.base),(t=>t.theme.fontSize.base),(({theme:t})=>t.fontFamily.secondaryFont)),f=styled_components__WEBPACK_IMPORTED_MODULE_8__.styled.div.withConfig({componentId:"sc-hpcqcg-1"})([""]),y=n((({icon:t=_index_457e74fa_js__WEBPACK_IMPORTED_MODULE_1__.e,iconSize:e=_Icon_constants_aeed18dd_js__WEBPACK_IMPORTED_MODULE_3__.S,children:o,className:i})=>(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxs)(m,{className:i,children:[(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsx)(f,{children:(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsx)(_Icon_d4f7b391_js__WEBPACK_IMPORTED_MODULE_2__.I,{svg:t,size:e})}),o]})),"FeatureListItem"),C=n((({features:t=[],className:e})=>(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsx)(b,{className:e,children:t.map((({feature:o,icon:i,iconSize:s},c)=>(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsx)(y,{icon:i,iconSize:s,children:o},c)))})),"FeatureList"),I=(0,styled_components__WEBPACK_IMPORTED_MODULE_8__.styled)(C).withConfig({componentId:"sc-t2axx9-0"})(["margin:0;--mobile-font:",";--tablet-font:",";--laptop-font:",";a{color:",";text-decoration:underline;&:hover{color:",";}}","{",";align-items:normal;font:var(--mobile-font);","{display:flex;height:1lh;align-items:center;}svg{color:",";}@media ","{font:var(--tablet-font);}@media ","{font:var(--laptop-font);}}"],(({theme:t,$size:e})=>t.textStyle.featureListChecked[e].mobile),(({theme:t,$size:e})=>t.textStyle.featureListChecked[e].tablet),(({theme:t,$size:e})=>t.textStyle.featureListChecked[e].laptop),(({theme:t})=>t.color.actionBase.base),(({theme:t})=>t.color.actionBase.alt),m,(({theme:t,$isCosy:e})=>e?`gap: ${t.spacing.x0_5}px`:""),f,(({theme:t})=>t.color.actionBrand.base),_devices_331a8065_js__WEBPACK_IMPORTED_MODULE_5__.t,_devices_331a8065_js__WEBPACK_IMPORTED_MODULE_5__.l),_=n((({features:t,className:e,size:o="base",isCosy:i=!1})=>{const s=t.map((c=>({feature:c,icon:_index_457e74fa_js__WEBPACK_IMPORTED_MODULE_1__.e,iconSize:_Icon_constants_aeed18dd_js__WEBPACK_IMPORTED_MODULE_3__.S})));return(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsx)(I,{$size:o,$isCosy:i,features:s,className:e})}),"FeatureListChecked")},"../ui/dist/MessageBanner.js":(__unused_webpack_module,__webpack_exports__,__webpack_require__)=>{"use strict";__webpack_require__.d(__webpack_exports__,{$8:()=>l,Ay:()=>d,HX:()=>O,MQ:()=>e,uq:()=>D});var _babel_runtime_helpers_defineProperty__WEBPACK_IMPORTED_MODULE_0__=__webpack_require__("../node_modules/.pnpm/@babel+runtime@7.25.7/node_modules/@babel/runtime/helpers/esm/defineProperty.js"),_babel_runtime_helpers_objectWithoutProperties__WEBPACK_IMPORTED_MODULE_11__=__webpack_require__("../node_modules/.pnpm/@babel+runtime@7.25.7/node_modules/@babel/runtime/helpers/esm/objectWithoutProperties.js"),react_jsx_runtime__WEBPACK_IMPORTED_MODULE_1__=__webpack_require__("../node_modules/.pnpm/react@18.3.1/node_modules/react/jsx-runtime.js"),_index_e71f7d5b_js__WEBPACK_IMPORTED_MODULE_2__=__webpack_require__("../ui/dist/index-e71f7d5b.js"),react__WEBPACK_IMPORTED_MODULE_3__=__webpack_require__("../node_modules/.pnpm/react@18.3.1/node_modules/react/index.js"),styled_components__WEBPACK_IMPORTED_MODULE_10__=__webpack_require__("../node_modules/.pnpm/styled-components@6.1.13_react-dom@18.3.1_react@18.3.1/node_modules/styled-components/dist/styled-components.browser.esm.js"),_index_457e74fa_js__WEBPACK_IMPORTED_MODULE_4__=__webpack_require__("../ui/dist/index-457e74fa.js"),_Icon_d4f7b391_js__WEBPACK_IMPORTED_MODULE_5__=__webpack_require__("../ui/dist/Icon-d4f7b391.js"),_devices_331a8065_js__WEBPACK_IMPORTED_MODULE_6__=__webpack_require__("../ui/dist/devices-331a8065.js");__webpack_require__("../ui/dist/Icon.constants-aeed18dd.js"),__webpack_require__("../ui/dist/Symbols-7395c1ec.js"),__webpack_require__("../node_modules/.pnpm/react-side-effect@2.1.2_react@18.3.1/node_modules/react-side-effect/lib/index.js");const _excluded=["children","messageTimeout","className","variant"],_excluded2=["children"],_excluded3=["children"];function ownKeys(e,r){var t=Object.keys(e);if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(e);r&&(o=o.filter((function(r){return Object.getOwnPropertyDescriptor(e,r).enumerable}))),t.push.apply(t,o)}return t}function _objectSpread(e){for(var r=1;r<arguments.length;r++){var t=null!=arguments[r]?arguments[r]:{};r%2?ownKeys(Object(t),!0).forEach((function(r){(0,_babel_runtime_helpers_defineProperty__WEBPACK_IMPORTED_MODULE_0__.A)(e,r,t[r])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(t)):ownKeys(Object(t)).forEach((function(r){Object.defineProperty(e,r,Object.getOwnPropertyDescriptor(t,r))}))}return e}var g=Object.defineProperty,r=(t,o)=>g(t,"name",{value:o,configurable:!0});const l="is-active",m="info",e="success",n="error",R={[m]:void 0,[n]:_index_457e74fa_js__WEBPACK_IMPORTED_MODULE_4__.s,[e]:_index_457e74fa_js__WEBPACK_IMPORTED_MODULE_4__.Y},T=styled_components__WEBPACK_IMPORTED_MODULE_10__.styled.header.attrs({role:"alert"}).withConfig({componentId:"sc-1strae-0"})(["--transition:300ms ease-in-out;--variant-color:",";display:flex;position:fixed;top:0;left:0;z-index:",";width:100%;min-height:56px;box-sizing:border-box;align-items:center;justify-content:flex-start;gap:10px;padding:","px ","px;border-bottom:4px solid var(--variant-color);background-color:",";box-shadow:0px 4px 4px ",";color:var(--variant-color);font:bold 16px/20px ",";opacity:0;transform:translateY(-100%);transition:transform var(--transition),opacity var(--transition);@media ","{justify-content:center;}@media ","{min-height:72px;font-size:20px;line-height:24px;}&.","{opacity:1;transform:translateY(0%);}"],(({theme:t,$variant:o})=>t.color.semiotic[o]),(({theme:t})=>t.zIndex.header+1),(({theme:t})=>t.spacing.x1),(({theme:t})=>t.spacing.x1_5),(({theme:t})=>t.color.canvas.base),(({theme:t})=>t.color.shadow.dark),(({theme:t})=>t.fontFamily.secondaryFont),_devices_331a8065_js__WEBPACK_IMPORTED_MODULE_6__.t,_devices_331a8065_js__WEBPACK_IMPORTED_MODULE_6__.l,l),_=(0,styled_components__WEBPACK_IMPORTED_MODULE_10__.styled)(_Icon_d4f7b391_js__WEBPACK_IMPORTED_MODULE_5__.I).attrs((({$variant:t})=>({svg:R[t]}))).withConfig({componentId:"sc-1strae-1"})(["flex-shrink:0;color:var(--variant-color);"]),d=r((_ref=>{let{children:t,messageTimeout:o=8e3,className:f,variant:s=m}=_ref,x=(0,_babel_runtime_helpers_objectWithoutProperties__WEBPACK_IMPORTED_MODULE_11__.A)(_ref,_excluded);const[i,c]=(0,react__WEBPACK_IMPORTED_MODULE_3__.useState)(!1);return(0,react__WEBPACK_IMPORTED_MODULE_3__.useEffect)((()=>{c(!0);const v=setTimeout((()=>c(!1)),o);return()=>clearTimeout(v)}),[o]),(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_1__.jsxs)(T,_objectSpread(_objectSpread({},x),{},{className:(0,_index_e71f7d5b_js__WEBPACK_IMPORTED_MODULE_2__.c)(f,{[l]:i}),$variant:s,"aria-hidden":!i,children:[[n,e].includes(s)&&(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_1__.jsx)(_,{$variant:s}),t]}))}),"MessageBannerBase"),D=r((_ref2=>{let{children:t}=_ref2,o=(0,_babel_runtime_helpers_objectWithoutProperties__WEBPACK_IMPORTED_MODULE_11__.A)(_ref2,_excluded2);return(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_1__.jsx)(d,_objectSpread(_objectSpread({variant:n},o),{},{children:t}))}),"MessageBannerError"),O=r((_ref3=>{let{children:t}=_ref3,o=(0,_babel_runtime_helpers_objectWithoutProperties__WEBPACK_IMPORTED_MODULE_11__.A)(_ref3,_excluded3);return(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_1__.jsx)(d,_objectSpread(_objectSpread({variant:e},o),{},{children:t}))}),"MessageBannerSuccess")},"../ui/dist/Themed-8356d011.js":(__unused_webpack_module,__webpack_exports__,__webpack_require__)=>{"use strict";__webpack_require__.d(__webpack_exports__,{B:()=>to,a:()=>s,c:()=>To,d:()=>vo,e:()=>po,f:()=>ho,g:()=>q,h:()=>G,i:()=>H,t:()=>xo});var _babel_runtime_helpers_defineProperty__WEBPACK_IMPORTED_MODULE_0__=__webpack_require__("../node_modules/.pnpm/@babel+runtime@7.25.7/node_modules/@babel/runtime/helpers/esm/defineProperty.js"),_babel_runtime_helpers_objectWithoutProperties__WEBPACK_IMPORTED_MODULE_10__=__webpack_require__("../node_modules/.pnpm/@babel+runtime@7.25.7/node_modules/@babel/runtime/helpers/esm/objectWithoutProperties.js"),react_jsx_runtime__WEBPACK_IMPORTED_MODULE_1__=__webpack_require__("../node_modules/.pnpm/react@18.3.1/node_modules/react/jsx-runtime.js"),styled_components__WEBPACK_IMPORTED_MODULE_9__=__webpack_require__("../node_modules/.pnpm/styled-components@6.1.13_react-dom@18.3.1_react@18.3.1/node_modules/styled-components/dist/styled-components.browser.esm.js"),_themes_b13025dc_js__WEBPACK_IMPORTED_MODULE_2__=__webpack_require__("../ui/dist/themes-b13025dc.js"),_index_e71f7d5b_js__WEBPACK_IMPORTED_MODULE_3__=__webpack_require__("../ui/dist/index-e71f7d5b.js"),react__WEBPACK_IMPORTED_MODULE_4__=__webpack_require__("../node_modules/.pnpm/react@18.3.1/node_modules/react/index.js"),_index_457e74fa_js__WEBPACK_IMPORTED_MODULE_5__=__webpack_require__("../ui/dist/index-457e74fa.js"),_Icon_d4f7b391_js__WEBPACK_IMPORTED_MODULE_6__=__webpack_require__("../ui/dist/Icon-d4f7b391.js"),_Icon_constants_aeed18dd_js__WEBPACK_IMPORTED_MODULE_7__=__webpack_require__("../ui/dist/Icon.constants-aeed18dd.js"),_devices_331a8065_js__WEBPACK_IMPORTED_MODULE_8__=__webpack_require__("../ui/dist/devices-331a8065.js");const _excluded=["forwardedAs","variant","size","id","className","disabled","children","icon","role","title","tabIndex"],_excluded2=["theme"];function ownKeys(e,r){var t=Object.keys(e);if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(e);r&&(o=o.filter((function(r){return Object.getOwnPropertyDescriptor(e,r).enumerable}))),t.push.apply(t,o)}return t}function _objectSpread(e){for(var r=1;r<arguments.length;r++){var t=null!=arguments[r]?arguments[r]:{};r%2?ownKeys(Object(t),!0).forEach((function(r){(0,_babel_runtime_helpers_defineProperty__WEBPACK_IMPORTED_MODULE_0__.A)(e,r,t[r])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(t)):ownKeys(Object(t)).forEach((function(r){Object.defineProperty(e,r,Object.getOwnPropertyDescriptor(t,r))}))}return e}var P=Object.defineProperty,a=(o,t)=>P(o,"name",{value:t,configurable:!0});const s="a",$="small",To="large",vo="button",ho="submit",po="reset",b="primary",G="secondary",H="tertiary",q="primary-uncap",F=(0,styled_components__WEBPACK_IMPORTED_MODULE_9__.css)(["--primary-color:",";--hover-color:",";--disabled-color:",";display:inline-flex;width:",";height:","px;box-sizing:border-box;align-items:center;justify-content:center;gap:","px;padding:0 ","px;border-radius:","px;font:",";text-align:center;text-transform:uppercase;transition:background-color ",";white-space:nowrap;&.is-disabled,&:disabled{&,&:focus,&:hover,&:active{pointer-events:none;}}"],(({theme:o})=>o.color.actionBrand.base),(({theme:o})=>o.color.actionBrand.alt),(({theme:o})=>o.color.actionBrand.disabled),(({$size:o})=>"large"===o?"100%":"auto"),(({theme:o})=>o.dimension.btn.height),(({theme:o})=>o.dimension.btn.iconSpacing),(({theme:o})=>o.spacing.x2),(({theme:o})=>o.dimension.btn.borderRadius),(({theme:o})=>o.textStyle.button.base),(({theme:o})=>o.transition.base)),d=(0,styled_components__WEBPACK_IMPORTED_MODULE_9__.css)(["--color:",";background-color:var(--primary-color);color:var(--color);&:focus,&:hover,&:active{background-color:var(--hover-color);color:var(--color);}&.is-disabled,&:disabled{&,&:focus,&:hover,&:active{background-color:var(--disabled-color);}}"],(({theme:o})=>o.color.ink.inverted)),J=(0,styled_components__WEBPACK_IMPORTED_MODULE_9__.css)(["box-shadow:inset 0 0 0 1px;color:var(--primary-color);&:focus,&:hover,&:active{color:var(--hover-color);}&.is-disabled,&:disabled{&,&:focus,&:hover,&:active{color:var(--disabled-color);}}"]),K=(0,styled_components__WEBPACK_IMPORTED_MODULE_9__.css)(["color:var(--primary-color);font:",";text-decoration:underline;text-transform:none;&:focus,&:hover,&:active{color:var(--hover-color);}&.is-disabled,&:disabled{&,&:focus,&:hover,&:active{color:var(--disabled-color);}}"],(({theme:o})=>o.textStyle.button.medium)),Q=(0,styled_components__WEBPACK_IMPORTED_MODULE_9__.css)([""," font:",";text-transform:none;@media ","{font:",";}"],d,(({theme:o})=>o.textStyle.button.large),_devices_331a8065_js__WEBPACK_IMPORTED_MODULE_8__.t,(({theme:o})=>o.textStyle.button.xLarge)),W=a((({$variant:o})=>{switch(o){case b:return d;case G:return J;case H:return K;case q:return Q;default:return d}}),"variantStyles"),X=styled_components__WEBPACK_IMPORTED_MODULE_9__.styled.button.withConfig({componentId:"sc-1aus1tj-0"})([""," ",""],F,W),oo=(0,styled_components__WEBPACK_IMPORTED_MODULE_9__.styled)(_Icon_d4f7b391_js__WEBPACK_IMPORTED_MODULE_6__.I).attrs({size:_Icon_constants_aeed18dd_js__WEBPACK_IMPORTED_MODULE_7__.S,svg:_index_457e74fa_js__WEBPACK_IMPORTED_MODULE_5__.n}).withConfig({componentId:"sc-1aus1tj-1"})(["flex-grow:0;flex-shrink:0;"]),to=(0,react__WEBPACK_IMPORTED_MODULE_4__.forwardRef)(a((function(_ref,S){let{forwardedAs:t,variant:c=b,size:i=$,id:f,className:T,disabled:m=!1,children:v,icon:h,role:p,title:x,tabIndex:y}=_ref,r=(0,_babel_runtime_helpers_objectWithoutProperties__WEBPACK_IMPORTED_MODULE_10__.A)(_ref,_excluded);const _=r.as===s&&r.isExternal,g=(()=>{if(r.as===s){const{href:E,target:R,rel:U,onClick:k,as:C}=r;return{href:E,target:R,rel:U,onClick:k,as:C}}const{name:l,value:N,type:A,onClick:I,as:O}=r;return{name:l,value:N,type:A,onClick:I,as:O}})(),B=Object.fromEntries(Object.entries(r).filter((([l])=>/^aria-|data-/.test(l))));return(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_1__.jsxs)(X,_objectSpread(_objectSpread(_objectSpread({forwardedAs:t,$variant:c,$size:i,id:f,className:(0,_index_e71f7d5b_js__WEBPACK_IMPORTED_MODULE_3__.c)(T,{"is-disabled":m&&(r.as===s||t===s)}),ref:S,role:p,title:x,tabIndex:y,disabled:m},g),B),{},{children:[v,h||_&&(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_1__.jsx)(oo,{})]}))}),"Button2")),ro=a((_ref2=>{let{theme:o}=_ref2,t=(0,_babel_runtime_helpers_objectWithoutProperties__WEBPACK_IMPORTED_MODULE_10__.A)(_ref2,_excluded2);return(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_1__.jsx)(styled_components__WEBPACK_IMPORTED_MODULE_9__.ThemeProvider,{theme:o,children:(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_1__.jsx)(to,_objectSpread({},t))})}),"Themed"),xo=Object.entries(_themes_b13025dc_js__WEBPACK_IMPORTED_MODULE_2__.t).reduce(((o,[t,c])=>(o[t]=i=>(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_1__.jsx)(ro,_objectSpread({theme:c},i)),o)),{})},"../ui/dist/index-e71f7d5b.js":(__unused_webpack_module,__webpack_exports__,__webpack_require__)=>{"use strict";__webpack_require__.d(__webpack_exports__,{c:()=>y});var c=Object.defineProperty,o=(e,f)=>c(e,"name",{value:f,configurable:!0});function p(e){return e&&e.__esModule&&Object.prototype.hasOwnProperty.call(e,"default")?e.default:e}o(p,"getDefaultExportFromCjs");var e,a={exports:{}};e=a,function(){var f={}.hasOwnProperty;function s(){for(var t="",r=0;r<arguments.length;r++){var n=arguments[r];n&&(t=i(t,u(n)))}return t}function u(t){if("string"==typeof t||"number"==typeof t)return t;if("object"!=typeof t)return"";if(Array.isArray(t))return s.apply(null,t);if(t.toString!==Object.prototype.toString&&!t.toString.toString().includes("[native code]"))return t.toString();var r="";for(var n in t)f.call(t,n)&&t[n]&&(r=i(r,n));return r}function i(t,r){return r?t?t+" "+r:t+r:t}o(s,"classNames"),o(u,"parseValue"),o(i,"appendClass"),e.exports?(s.default=s,e.exports=s):window.classNames=s}();const y=p(a.exports)},"../ui/dist/mixins.js":(__unused_webpack_module,__webpack_exports__,__webpack_require__)=>{"use strict";__webpack_require__.d(__webpack_exports__,{Oo:()=>m,QX:()=>v,Qg:()=>s,R:()=>a,TH:()=>k,dN:()=>g,xv:()=>u});var styled_components__WEBPACK_IMPORTED_MODULE_1__=__webpack_require__("../node_modules/.pnpm/styled-components@6.1.13_react-dom@18.3.1_react@18.3.1/node_modules/styled-components/dist/styled-components.browser.esm.js"),_devices_331a8065_js__WEBPACK_IMPORTED_MODULE_0__=__webpack_require__("../ui/dist/devices-331a8065.js"),e=Object.defineProperty,t=(r,i)=>e(r,"name",{value:i,configurable:!0});const a=(0,styled_components__WEBPACK_IMPORTED_MODULE_1__.css)(["display:none;"]),s=(0,styled_components__WEBPACK_IMPORTED_MODULE_1__.css)(["position:absolute;overflow:hidden;width:0.01em;height:0.01em;padding:0;border:none;clip:rect(0,0,0,0);white-space:nowrap;"]),u=(0,styled_components__WEBPACK_IMPORTED_MODULE_1__.css)(["overflow:hidden;text-overflow:ellipsis;white-space:nowrap;"]);function l(r,i){return Object.values(_devices_331a8065_js__WEBPACK_IMPORTED_MODULE_0__.d).includes(r)?(0,styled_components__WEBPACK_IMPORTED_MODULE_1__.css)(["@media ","{","}"],r,i):(console.warn(`No such feature: "${r}"`),null)}function m(r){return l(r,a)}t(l,"mq"),t(m,"hiddenOn"),t((function p(r){return l(r,s)}),"visuallyHiddenOn");const v=(0,styled_components__WEBPACK_IMPORTED_MODULE_1__.css)(["--scroll-thumb-width:4px;--scroll-track-width:0;--scroll-track-bg:",";--scroll-thumb-bg:",";@media ","{--scroll-track-width:16px;}&::-webkit-scrollbar{width:var(--scroll-width);}&::-webkit-scrollbar-track{background:var(--scroll-track-bg);}&::-webkit-scrollbar-thumb{border:solid var(--scroll-track-bg);border-width:0 calc((var(--scroll-track-width) - var(--scroll-thumb-width)) / 2);border-radius:2px;background:var(--scroll-thumb-bg);&:hover{border-width:0;}}"],(r=>r.theme.color.canvas.base),(r=>r.theme.color.ink.base),_devices_331a8065_js__WEBPACK_IMPORTED_MODULE_0__.t),k=(0,styled_components__WEBPACK_IMPORTED_MODULE_1__.css)(["scrollbar-width:none;&::-webkit-scrollbar{display:none;}"]),g=(0,styled_components__WEBPACK_IMPORTED_MODULE_1__.css)(["display:grid;grid-template-rows:",";transition:",";"],(({$isActive:r})=>r?"1fr":"0fr"),(({theme:r})=>r.transition.gridDropdown))},"?fb29":()=>{}}]);
//# sourceMappingURL=Other-ProfilePage-stories.d75ec611.iframe.bundle.js.map