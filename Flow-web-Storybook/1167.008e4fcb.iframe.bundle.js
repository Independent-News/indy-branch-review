"use strict";(self.webpackChunk_indy_flow_web=self.webpackChunk_indy_flow_web||[]).push([[1167],{"./app/component/library/Register/constants.ts":(__unused_webpack_module,__webpack_exports__,__webpack_require__)=>{__webpack_require__.d(__webpack_exports__,{Hj:()=>USER_FLOW_REGISTER,lC:()=>MAX_WIDTH_FORM,lv:()=>USER_FLOW_DONATE,qI:()=>USER_FLOW_SUBSCRIBE});const MAX_WIDTH_FORM=364,USER_FLOW_REGISTER="register",USER_FLOW_SUBSCRIBE="subscribe",USER_FLOW_DONATE="donate"},"./app/constants/adobeConstants.ts":(__unused_webpack_module,__webpack_exports__,__webpack_require__)=>{__webpack_require__.d(__webpack_exports__,{I:()=>TRACKING_PAYMENT_KEYS});const TRACKING_PAYMENT_KEYS=["subscription_length","subscription_price","subscription_package","initial_selected_package","marketing_opt_in","selling_page_variant"]},"./app/component/library/Forms/new/withCSR.js":(__unused_webpack_module,__webpack_exports__,__webpack_require__)=>{__webpack_require__.d(__webpack_exports__,{p:()=>withCsr});var _babel_runtime_helpers_defineProperty__WEBPACK_IMPORTED_MODULE_0__=__webpack_require__("../node_modules/.pnpm/@babel+runtime@7.25.7/node_modules/@babel/runtime/helpers/esm/defineProperty.js"),_babel_runtime_helpers_objectWithoutProperties__WEBPACK_IMPORTED_MODULE_3__=__webpack_require__("../node_modules/.pnpm/@babel+runtime@7.25.7/node_modules/@babel/runtime/helpers/esm/objectWithoutProperties.js"),prop_types__WEBPACK_IMPORTED_MODULE_4__=__webpack_require__("../node_modules/.pnpm/prop-types@15.8.1/node_modules/prop-types/index.js"),prop_types__WEBPACK_IMPORTED_MODULE_4___default=__webpack_require__.n(prop_types__WEBPACK_IMPORTED_MODULE_4__),react__WEBPACK_IMPORTED_MODULE_1__=__webpack_require__("../node_modules/.pnpm/react@18.3.1/node_modules/react/index.js"),react_jsx_runtime__WEBPACK_IMPORTED_MODULE_2__=__webpack_require__("../node_modules/.pnpm/react@18.3.1/node_modules/react/jsx-runtime.js");const _excluded=["handleInitialValue"];function ownKeys(e,r){var t=Object.keys(e);if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(e);r&&(o=o.filter((function(r){return Object.getOwnPropertyDescriptor(e,r).enumerable}))),t.push.apply(t,o)}return t}function _objectSpread(e){for(var r=1;r<arguments.length;r++){var t=null!=arguments[r]?arguments[r]:{};r%2?ownKeys(Object(t),!0).forEach((function(r){(0,_babel_runtime_helpers_defineProperty__WEBPACK_IMPORTED_MODULE_0__.A)(e,r,t[r])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(t)):ownKeys(Object(t)).forEach((function(r){Object.defineProperty(e,r,Object.getOwnPropertyDescriptor(t,r))}))}return e}const withCsr=WrappedComponent=>{const CompWithCsr=_ref=>{var _formElementRef$curre;let{handleInitialValue}=_ref,props=(0,_babel_runtime_helpers_objectWithoutProperties__WEBPACK_IMPORTED_MODULE_3__.A)(_ref,_excluded);const formElementRef=(0,react__WEBPACK_IMPORTED_MODULE_1__.useRef)(null),handleInitialValueRef=(0,react__WEBPACK_IMPORTED_MODULE_1__.useRef)(null);return handleInitialValueRef.current=handleInitialValue,(0,react__WEBPACK_IMPORTED_MODULE_1__.useEffect)((()=>{"button"===formElementRef.current.tagName.toLowerCase()&&(formElementRef.current.disabled=!0)}),[]),(0,react__WEBPACK_IMPORTED_MODULE_1__.useEffect)((()=>{"input"===formElementRef.current.tagName.toLowerCase()&&formElementRef.current.value&&handleInitialValueRef.current(formElementRef.current.value)}),[null==formElementRef||null===(_formElementRef$curre=formElementRef.current)||void 0===_formElementRef$curre?void 0:_formElementRef$curre.value]),CompWithCsr.propTypes=_objectSpread(_objectSpread({},WrappedComponent.propTypes),{},{handleInitialValue:prop_types__WEBPACK_IMPORTED_MODULE_4___default().func}),(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_2__.jsx)(WrappedComponent,_objectSpread({formElementRef},props))};return CompWithCsr}},"./app/component/library/OptInPolicyPreTicked.js":(__unused_webpack_module,__webpack_exports__,__webpack_require__)=>{__webpack_require__.d(__webpack_exports__,{A:()=>__WEBPACK_DEFAULT_EXPORT__});var _babel_runtime_helpers_defineProperty__WEBPACK_IMPORTED_MODULE_0__=__webpack_require__("../node_modules/.pnpm/@babel+runtime@7.25.7/node_modules/@babel/runtime/helpers/esm/defineProperty.js"),_indy_ui_Form__WEBPACK_IMPORTED_MODULE_1__=__webpack_require__("../ui/dist/Form.js"),_app_constants_ids__WEBPACK_IMPORTED_MODULE_3__=__webpack_require__("./app/constants/ids.js"),_app_constants_testIds__WEBPACK_IMPORTED_MODULE_4__=__webpack_require__("./app/constants/testIds.js"),react_jsx_runtime__WEBPACK_IMPORTED_MODULE_2__=__webpack_require__("../node_modules/.pnpm/react@18.3.1/node_modules/react/jsx-runtime.js");function ownKeys(e,r){var t=Object.keys(e);if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(e);r&&(o=o.filter((function(r){return Object.getOwnPropertyDescriptor(e,r).enumerable}))),t.push.apply(t,o)}return t}const __WEBPACK_DEFAULT_EXPORT__=props=>(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_2__.jsx)(_indy_ui_Form__WEBPACK_IMPORTED_MODULE_1__.Sc,function _objectSpread(e){for(var r=1;r<arguments.length;r++){var t=null!=arguments[r]?arguments[r]:{};r%2?ownKeys(Object(t),!0).forEach((function(r){(0,_babel_runtime_helpers_defineProperty__WEBPACK_IMPORTED_MODULE_0__.A)(e,r,t[r])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(t)):ownKeys(Object(t)).forEach((function(r){Object.defineProperty(e,r,Object.getOwnPropertyDescriptor(t,r))}))}return e}({id:_app_constants_ids__WEBPACK_IMPORTED_MODULE_3__.Et,"data-testid":_app_constants_testIds__WEBPACK_IMPORTED_MODULE_4__.Z,label:"By registering, you agree to receive emails about our services, offers and ways to enjoy our journalism. Untick to opt out",defaultChecked:!0},props))},"./app/component/library/Register/RegLoginForm/index.js":(__unused_webpack_module,__webpack_exports__,__webpack_require__)=>{__webpack_require__.d(__webpack_exports__,{O:()=>RegLoginForm});var defineProperty=__webpack_require__("../node_modules/.pnpm/@babel+runtime@7.25.7/node_modules/@babel/runtime/helpers/esm/defineProperty.js"),prop_types=__webpack_require__("../node_modules/.pnpm/prop-types@15.8.1/node_modules/prop-types/index.js"),prop_types_default=__webpack_require__.n(prop_types),react=__webpack_require__("../node_modules/.pnpm/react@18.3.1/node_modules/react/index.js"),styled_components_browser_esm=__webpack_require__("../node_modules/.pnpm/styled-components@6.1.13_react-dom@18.3.1_react@18.3.1/node_modules/styled-components/dist/styled-components.browser.esm.js"),Button=__webpack_require__("../ui/dist/Button.js"),classNames=__webpack_require__("./app/constants/classNames.js"),formErrorMessages=__webpack_require__("./app/constants/formErrorMessages.js"),formFieldNames=__webpack_require__("./app/constants/formFieldNames.js"),ids=__webpack_require__("./app/constants/ids.js"),testIds=__webpack_require__("./app/constants/testIds.js"),useFormLogic=__webpack_require__("./app/hooks/useFormLogic.ts"),log=__webpack_require__("./app/public/js/modules/log.js"),FakeForm=__webpack_require__("./app/component/library/Forms/new/FakeForm.js"),withCSR=__webpack_require__("./app/component/library/Forms/new/withCSR.js"),TextFieldWithHideShowPassword=__webpack_require__("./app/component/library/Forms/new/TextFieldWithHideShowPassword.js"),constants=__webpack_require__("./app/component/library/Register/constants.ts");const AccountExistingHint=styled_components_browser_esm.styled.p.withConfig({componentId:"sc-1097j05-0"})(["margin:20px 0 0 0;color:",";font-family:",";font-size:16px;font-weight:bold;line-height:20px;"],(({theme:{color}})=>color.ink.base),(({theme:{fontFamily}})=>fontFamily.secondaryFont)),ButtonsWrapper=styled_components_browser_esm.styled.div.withConfig({componentId:"sc-1hee6z2-0"})(["padding-top:24px;padding-bottom:8px;"]);var FormSubmit=__webpack_require__("./app/component/library/Forms/FormSubmit.tsx");const StyledFromSubmit=(0,styled_components_browser_esm.styled)(FormSubmit.Ay).withConfig({componentId:"sc-om532l-0"})(["margin:0;","{",";}"],FormSubmit.b7,(({theme:{color},$isPremium})=>$isPremium?(0,styled_components_browser_esm.css)(["background-color:",";&:hover{background-color:",";}&:disabled{background-color:",";}","{border-top-color:",";}"],color.premium.actionBrand.base,color.premium.actionBrand.alt,color.premium.actionBrand.disabled,FormSubmit.K0,color.premium.actionBrand.base):""));var FormTextFieldInput=__webpack_require__("./app/component/library/Forms/new/FormTextFieldInput.tsx");const StyledFormTextField=(0,styled_components_browser_esm.styled)(FormTextFieldInput.A).withConfig({componentId:"sc-6dsgve-0"})(["&.is-touched.user-valid{border-color:",";box-shadow:0 0 0 1px ",";}"],(({theme:{color}})=>color.semiotic.success),(({theme:{color}})=>color.semiotic.success));var jsx_runtime=__webpack_require__("../node_modules/.pnpm/react@18.3.1/node_modules/react/jsx-runtime.js");function ownKeys(e,r){var t=Object.keys(e);if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(e);r&&(o=o.filter((function(r){return Object.getOwnPropertyDescriptor(e,r).enumerable}))),t.push.apply(t,o)}return t}function _objectSpread(e){for(var r=1;r<arguments.length;r++){var t=null!=arguments[r]?arguments[r]:{};r%2?ownKeys(Object(t),!0).forEach((function(r){(0,defineProperty.A)(e,r,t[r])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(t)):ownKeys(Object(t)).forEach((function(r){Object.defineProperty(e,r,Object.getOwnPropertyDescriptor(t,r))}))}return e}const RegLoginForm_Button=Button.Ay.default||Button.Ay,Wrapper=styled_components_browser_esm.styled.div.withConfig({componentId:"sc-cr8ltb-0"})(["width:100%;max-width:","px;&.hide{display:none;}.gap-of-fields{& > *:not(:first-child){margin-top:",";}}.reg-login-form{padding-bottom:","px;border-bottom:0.5px solid ",";}"],constants.lC,(({theme})=>theme.dimension.formField.marginTop),(({theme})=>theme.spacing.x3),(({theme})=>theme.color.divider.dark)),SubmitErrorMsg=styled_components_browser_esm.styled.p.withConfig({componentId:"sc-cr8ltb-1"})(["color:",";font-size:16px;"],(({theme})=>theme.color.semiotic.error)),ForgotPassword=styled_components_browser_esm.styled.div.withConfig({componentId:"sc-cr8ltb-2"})(["a{color:",";font-family:",";font-size:14px;text-decoration:underline;&:hover{color:",";}}"],(({theme:{color},$isPremium})=>$isPremium?color.premium.actionBrand.base:color.actionBrand.base),(({theme})=>theme.fontFamily.secondaryFont),(({theme:{color},$isPremium})=>$isPremium?color.premium.actionBrand.alt:color.actionBrand.alt)),EmailField=(0,withCSR.p)(StyledFormTextField),PasswordField=(0,withCSR.p)(TextFieldWithHideShowPassword.A),SubmitButton=(0,withCSR.p)(StyledFromSubmit),INITIAL_STATE={[ids.I6]:"",[ids.jy]:""},RegLoginForm=({isPremium,alreadyHasAccountMessage,registerEmailField,newAccountClick,onForgottenPasswordClick,onLoginSuccess})=>{const{state:{formValues,inputBorderStyles,inputErrorMessages,isVerifying,isSubmitButtonDisabled,submitErrorMessage},stateHandlers:{setFormValues,setInputBorderStyles,setInputErrorMessages,setSubmitErrorMessage,toggleSubmitButtonState,toggleVerifyingState},debounce}=(0,useFormLogic.C)(INITIAL_STATE),hasEnteredValidEmail=(0,react.useRef)(!1),lastLoginEmail=(0,react.useRef)(""),postInternalApi=async(path,formData)=>await fetch(`${path}?__amp_source_origin=${window.location.protocol}//${window.location.host}`,{method:"POST",body:new URLSearchParams(formData)}),updateBorderStyles=evt=>{const{id,value}=evt.target,hasNoValue=""===value,validateCondition=id.includes("email")?hasNoValue||inputErrorMessages[ids.I6]:hasNoValue;setInputBorderStyles(_objectSpread(_objectSpread({},inputBorderStyles),{},{[id]:validateCondition?"invalid":"valid"}))},debouncedRefreshState=debounce((async()=>{formValues[ids.I6]&&formValues[ids.I6]!==lastLoginEmail.current&&(await(async()=>{try{const formData=new FormData;if(formData.append(formFieldNames.Pl,formValues[ids.I6]),!(await postInternalApi("/internal-api/user/login/verify",formData)).ok)throw new Error;setInputErrorMessages((prevState=>_objectSpread(_objectSpread({},prevState),{},{[ids.I6]:""}))),hasEnteredValidEmail.current=!0}catch(error){hasEnteredValidEmail.current=!1,setInputErrorMessages((prevState=>_objectSpread(_objectSpread({},prevState),{},{[ids.I6]:formErrorMessages.BK}))),!isSubmitButtonDisabled&&toggleSubmitButtonState(!0)}})(),lastLoginEmail.current=formValues[ids.I6]),formValues[ids.I6]||setInputErrorMessages((prevState=>_objectSpread(_objectSpread({},prevState),{},{[ids.I6]:""}))),formValues[ids.I6]&&formValues[ids.jy]&&hasEnteredValidEmail.current?toggleSubmitButtonState(!1):toggleSubmitButtonState(!0),toggleVerifyingState(!1)}),500);(0,react.useEffect)((()=>{toggleVerifyingState(!0),debouncedRefreshState()}),[formValues]),(0,react.useEffect)((()=>{setFormValues((prevState=>_objectSpread(_objectSpread({},prevState),{},{[ids.I6]:registerEmailField})))}),[registerEmailField,setFormValues]);const StyledButton=isPremium?Button.Gp:RegLoginForm_Button;return(0,jsx_runtime.jsxs)(Wrapper,{className:classNames.rs,children:[(0,jsx_runtime.jsxs)(FakeForm.k,{id:ids.UC,"data-testid":testIds.Ql,className:"reg-login-form gap-of-fields",formDescription:"Login form",children:[(0,jsx_runtime.jsxs)("div",{children:[(0,jsx_runtime.jsx)(EmailField,{value:formValues[ids.I6],fieldName:formFieldNames.Pl,fieldId:ids.I6,displayName:"Email Address",requiredField:!0,placeholder:"Enter your email",errorMsg:inputErrorMessages[ids.I6],"data-testid":testIds.Ts,className:inputErrorMessages[ids.I6]||"invalid"===inputBorderStyles[ids.I6]?"invalid":inputBorderStyles[ids.I6],onChange:evt=>{setFormValues((prevState=>_objectSpread(_objectSpread({},prevState),{},{[ids.I6]:evt.target.value}))),updateBorderStyles(evt)},onBlur:updateBorderStyles,handleInitialValue:initialValue=>setFormValues((prevState=>_objectSpread(_objectSpread({},prevState),{},{[ids.I6]:initialValue})))}),registerEmailField&&(0,jsx_runtime.jsx)(AccountExistingHint,{dangerouslySetInnerHTML:{__html:alreadyHasAccountMessage}})]}),(0,jsx_runtime.jsx)(PasswordField,{value:formValues[ids.jy],fieldName:"password",inputType:"password",fieldId:ids.jy,displayName:"Password",requiredField:!0,placeholder:"Enter your password","data-testid":testIds.kh,className:inputBorderStyles[ids.jy],onChange:evt=>{setFormValues((prevState=>_objectSpread(_objectSpread({},prevState),{},{[ids.jy]:evt.target.value}))),updateBorderStyles(evt)},onBlur:updateBorderStyles,handleInitialValue:initialValue=>setFormValues((prevState=>_objectSpread(_objectSpread({},prevState),{},{[ids.jy]:initialValue})))}),(0,jsx_runtime.jsx)("div",{className:"form-errors",children:(0,jsx_runtime.jsx)(SubmitErrorMsg,{children:submitErrorMessage})}),(0,jsx_runtime.jsx)(SubmitButton,{$isPremium:isPremium,disabled:isVerifying||isSubmitButtonDisabled,onClick:async evt=>{evt.preventDefault();try{var _window$__XDOMAIN_LOG;const email=formValues[ids.I6],password=formValues[ids.jy],formData=new FormData;formData.append(formFieldNames.Pl,email),formData.append("password",password);const res=await postInternalApi("/internal-api/user/login/submit",formData),resJson=await res.json();if(!res.ok)throw Error(resJson.message);(0,log.Rm)(resJson.message),await(null===(_window$__XDOMAIN_LOG=window.__XDOMAIN_LOGIN__)||void 0===_window$__XDOMAIN_LOG?void 0:_window$__XDOMAIN_LOG.doCrossDomainLogin(email,password)),onLoginSuccess&&onLoginSuccess()}catch(error){setSubmitErrorMessage(error.message)}},"data-testid":testIds.EG,children:"LOGIN"}),(0,jsx_runtime.jsx)(ForgotPassword,{$isPremium:isPremium,children:(0,jsx_runtime.jsx)("a",_objectSpread(_objectSpread({href:"/forgotten-password"},onForgottenPasswordClick&&{onClick:onForgottenPasswordClick}),{},{children:"Forgotten your password?"}))})]}),(0,jsx_runtime.jsx)(ButtonsWrapper,{className:"gap-of-fields",children:(0,jsx_runtime.jsx)(StyledButton,{id:ids.Nl,variant:Button.YG,size:Button.Zz,onClick:newAccountClick,children:"or create a new account"})})]})};RegLoginForm.propTypes={alreadyHasAccountMessage:prop_types_default().string.isRequired,isPremium:prop_types_default().bool,registerEmailField:prop_types_default().string,newAccountClick:prop_types_default().func,onForgottenPasswordClick:prop_types_default().func,onLoginSuccess:prop_types_default().func}},"./app/component/library/Register/RegisterForm/Policies.js":(__unused_webpack_module,__webpack_exports__,__webpack_require__)=>{__webpack_require__.d(__webpack_exports__,{IN:()=>RecaptchaPolicy,ZZ:()=>Privacy,lx:()=>Policies});var prop_types__WEBPACK_IMPORTED_MODULE_3__=__webpack_require__("../node_modules/.pnpm/prop-types@15.8.1/node_modules/prop-types/index.js"),prop_types__WEBPACK_IMPORTED_MODULE_3___default=__webpack_require__.n(prop_types__WEBPACK_IMPORTED_MODULE_3__),styled_components__WEBPACK_IMPORTED_MODULE_1__=__webpack_require__("../node_modules/.pnpm/styled-components@6.1.13_react-dom@18.3.1_react@18.3.1/node_modules/styled-components/dist/styled-components.browser.esm.js"),_app_constants_links__WEBPACK_IMPORTED_MODULE_2__=__webpack_require__("./app/constants/links.js"),react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__=__webpack_require__("../node_modules/.pnpm/react@18.3.1/node_modules/react/jsx-runtime.js");const Wrapper=styled_components__WEBPACK_IMPORTED_MODULE_1__.styled.div.withConfig({componentId:"sc-1gvjd3p-0"})(["margin-top:24px;"]),Privacy=styled_components__WEBPACK_IMPORTED_MODULE_1__.styled.div.withConfig({componentId:"sc-1gvjd3p-1"})(["color:",";font-family:",";font-size:12px;line-height:16px;text-align:left;a{color:",";font-weight:bold;text-decoration:underline;&:hover{color:",";}}"],(({theme:{color}})=>color.ink.base),(({theme:{fontFamily}})=>fontFamily.secondaryFont),(({theme:{color}})=>color.ink.base),(({$isPremium,theme:{color}})=>$isPremium?color.premium.actionBrand.alt:color.actionBrand.alt)),RecaptchaPolicy=(0,styled_components__WEBPACK_IMPORTED_MODULE_1__.styled)(Privacy).withConfig({componentId:"sc-1gvjd3p-2"})(["margin-top:16px;"]),Policies=({isPremium,buttonCopy,className,tabIndex=0})=>(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxs)(Wrapper,{$isPremium:isPremium,className,children:[(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxs)(Privacy,{children:["By clicking ‘",buttonCopy,"’ you confirm that your data has been entered correctly and you have read and agree to our ",(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsx)("a",{href:_app_constants_links__WEBPACK_IMPORTED_MODULE_2__.IC,target:"_blank",rel:"noopener noreferrer",tabIndex,children:"Terms of use,"})," ",(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsx)("a",{href:_app_constants_links__WEBPACK_IMPORTED_MODULE_2__.xv,rel:"noopener noreferrer",target:"_blank",tabIndex,children:"Cookie policy"})," and ",(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsx)("a",{href:_app_constants_links__WEBPACK_IMPORTED_MODULE_2__.RS,target:"_blank",rel:"noopener noreferrer",tabIndex,children:"Privacy policy"}),"."]}),(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxs)(RecaptchaPolicy,{children:["This site is protected by reCAPTCHA and the Google ",(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsx)("a",{target:"_blank",rel:"noopener noreferrer",href:"https://policies.google.com/privacy?hl=en",tabIndex,children:"Privacy notice"})," and ",(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsx)("a",{target:"_blank",rel:"noopener noreferrer",href:"https://policies.google.com/terms?hl=en",tabIndex,children:"Terms of service"})," apply."]})]});Policies.propTypes={buttonCopy:prop_types__WEBPACK_IMPORTED_MODULE_3___default().string.isRequired,isPremium:prop_types__WEBPACK_IMPORTED_MODULE_3___default().bool,className:prop_types__WEBPACK_IMPORTED_MODULE_3___default().string,tabIndex:prop_types__WEBPACK_IMPORTED_MODULE_3___default().number}},"./app/component/library/Register/RegisterForm/index.js":(__unused_webpack_module,__webpack_exports__,__webpack_require__)=>{__webpack_require__.d(__webpack_exports__,{s:()=>RegisterForm});var defineProperty=__webpack_require__("../node_modules/.pnpm/@babel+runtime@7.25.7/node_modules/@babel/runtime/helpers/esm/defineProperty.js"),prop_types=__webpack_require__("../node_modules/.pnpm/prop-types@15.8.1/node_modules/prop-types/index.js"),prop_types_default=__webpack_require__.n(prop_types),react=__webpack_require__("../node_modules/.pnpm/react@18.3.1/node_modules/react/index.js"),styled_components_browser_esm=__webpack_require__("../node_modules/.pnpm/styled-components@6.1.13_react-dom@18.3.1_react@18.3.1/node_modules/styled-components/dist/styled-components.browser.esm.js"),Button=__webpack_require__("../ui/dist/Button.js"),Styles=__webpack_require__("./app/config/theme/Styles.js"),adobeConstants=__webpack_require__("./app/constants/adobeConstants.ts"),classNames=__webpack_require__("./app/constants/classNames.js"),customEvents=__webpack_require__("./app/constants/customEvents.js"),formErrorMessages=__webpack_require__("./app/constants/formErrorMessages.js"),formFieldNames=__webpack_require__("./app/constants/formFieldNames.js"),ids=__webpack_require__("./app/constants/ids.js"),registerPage=__webpack_require__("./app/constants/registerPage.js"),testIds=__webpack_require__("./app/constants/testIds.js"),useFormLogic=__webpack_require__("./app/hooks/useFormLogic.ts"),useToggle=__webpack_require__("./app/hooks/useToggle.ts"),initBrazeSDKAndOpenSession=__webpack_require__("./app/public/js/modules/braze/initBrazeSDKAndOpenSession.js"),custom_event_dispatchers=__webpack_require__("./app/public/js/modules/custom-event-dispatchers.js"),digital_data_session=__webpack_require__("./app/public/js/modules/digital-data/digital-data-session.ts"),log=__webpack_require__("./app/public/js/modules/log.js"),loadCaptcha=__webpack_require__("./app/public/js/utils/loadCaptcha.js"),FakeForm=__webpack_require__("./app/component/library/Forms/new/FakeForm.js"),FieldWrapper=__webpack_require__("./app/component/library/Forms/new/FieldWrapper.js"),withCSR=__webpack_require__("./app/component/library/Forms/new/withCSR.js"),OptInPolicy=__webpack_require__("./app/component/library/OptInPolicy.js"),Register=__webpack_require__("./app/component/library/Register/index.js"),helper=__webpack_require__("./app/component/library/helper.js"),TextFieldWithHideShowPassword=__webpack_require__("./app/component/library/Forms/new/TextFieldWithHideShowPassword.js"),OptInPolicyPreTicked=__webpack_require__("./app/component/library/OptInPolicyPreTicked.js"),RegLoginForm=__webpack_require__("./app/component/library/Register/RegLoginForm/index.js"),jsx_runtime=__webpack_require__("../node_modules/.pnpm/react@18.3.1/node_modules/react/jsx-runtime.js");const Spinner=styled_components_browser_esm.styled.div.withConfig({componentId:"sc-fzkyyf-0"})(["--dark-color:",";--light-color:",";position:fixed;top:0px;right:0px;bottom:0px;left:0px;z-index:30000;height:100%;background:var(--dark-color);opacity:0;transform:scale(0);.spinner{display:block;position:absolute;top:30%;left:50%;width:64px;height:64px;opacity:1;transform:translate(-50%,0%);div{display:block;position:absolute;width:64px;height:64px;box-sizing:border-box;margin:6px;border:6px solid var(--light-color);border-color:var(--light-color) transparent transparent transparent;border-radius:50%;animation:spinner 1.2s cubic-bezier(0.5,0,0.5,1) infinite;&:nth-child(1){animation-delay:-0.45s;}&:nth-child(2){animation-delay:-0.3s;}&:nth-child(3){animation-delay:-0.15s;}}}@keyframes spinner{0%{transform:rotate(0deg);}100%{transform:rotate(360deg);}}@keyframes fadeIn{0%{opacity:0;}100%{opacity:0.7;}}&.show{animation:fadeIn 0.5s cubic-bezier(0.165,0.84,0.44,1) forwards;transform:scale(1);}&.hide-spinner{.spinner{display:none;}}"],(props=>props.theme.color.ink.base),(props=>props.theme.color.canvas.base)),Register_RegisterSpinner=(0,styled_components_browser_esm.styled)((()=>(0,jsx_runtime.jsx)(Spinner,{className:classNames.Dj,children:(0,jsx_runtime.jsxs)("div",{className:"spinner",children:[(0,jsx_runtime.jsx)("div",{}),(0,jsx_runtime.jsx)("div",{}),(0,jsx_runtime.jsx)("div",{}),(0,jsx_runtime.jsx)("div",{})]})}))).withConfig({componentId:"sc-fzkyyf-1"})([""]),Container=styled_components_browser_esm.styled.div.withConfig({componentId:"sc-wh09rw-0"})(["display:flex;flex-direction:column;align-items:center;padding:0 12px;"]),FormError=styled_components_browser_esm.styled.span.withConfig({componentId:"sc-15coakn-0"})(["color:",";font-size:18px;font-weight:normal;"],(({theme:{color}})=>color.primary.base));var FormSelect=__webpack_require__("./app/component/library/Forms/new/FormSelect.js");const StyledFormSelect=(0,styled_components_browser_esm.styled)(FormSelect.A).withConfig({componentId:"sc-1h7sh2u-0"})(["&.is-touched.user-valid{border-color:",";box-shadow:0 0 0 1px ",";}"],(({theme:{color}})=>color.semiotic.success),(({theme:{color}})=>color.semiotic.success));var FormTextFieldInput=__webpack_require__("./app/component/library/Forms/new/FormTextFieldInput.tsx");const StyledFormTextField=(0,styled_components_browser_esm.styled)(FormTextFieldInput.A).withConfig({componentId:"sc-17m2zqe-0"})(["&::placeholder{color:",";}&.is-touched.user-valid{border-color:",";box-shadow:0 0 0 1px ",";}"],(({theme})=>theme.color.ink.light),(({theme:{color}})=>color.semiotic.success),(({theme:{color}})=>color.semiotic.success));var Policies=__webpack_require__("./app/component/library/Register/RegisterForm/Policies.js"),objectWithoutProperties=__webpack_require__("../node_modules/.pnpm/@babel+runtime@7.25.7/node_modules/@babel/runtime/helpers/esm/objectWithoutProperties.js");var cookies=__webpack_require__("./app/constants/cookies.ts"),decodeJWT=__webpack_require__("./app/util/decodeJWT.ts"),cookie=__webpack_require__("./app/public/js/utils/cookie.ts");var redirect=__webpack_require__("./app/public/js/utils/redirect.ts"),redirects=__webpack_require__("./app/util/redirects.js"),storedRedirects=__webpack_require__("./app/util/storedRedirects.js"),constants=__webpack_require__("./app/component/library/Register/constants.ts");const _excluded=["offerId","termId"];function ownKeys(e,r){var t=Object.keys(e);if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(e);r&&(o=o.filter((function(r){return Object.getOwnPropertyDescriptor(e,r).enumerable}))),t.push.apply(t,o)}return t}function _objectSpread(e){for(var r=1;r<arguments.length;r++){var t=null!=arguments[r]?arguments[r]:{};r%2?ownKeys(Object(t),!0).forEach((function(r){(0,defineProperty.A)(e,r,t[r])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(t)):ownKeys(Object(t)).forEach((function(r){Object.defineProperty(e,r,Object.getOwnPropertyDescriptor(t,r))}))}return e}const onRegLoginSuccess=(defaultRedirectUrl,isAdFreeSubscription)=>{var _decodeUserJWTOnClien,_decodeUserJWTOnClien2;if(!isAdFreeSubscription)return void(0,redirect.V)(defaultRedirectUrl);const isAdFreeOnlySubscriber=null!==(_decodeUserJWTOnClien=null===(_decodeUserJWTOnClien2=(()=>{var _getCookie;const userToken=null!==(_getCookie=(0,cookie.Ri)(cookies.QO))&&void 0!==_getCookie?_getCookie:"";return(0,decodeJWT.A)(userToken)})())||void 0===_decodeUserJWTOnClien2?void 0:_decodeUserJWTOnClien2.isAdFreeUser)&&void 0!==_decodeUserJWTOnClien&&_decodeUserJWTOnClien;if(!("true"===(0,cookie.Ri)(cookies.iR)||isAdFreeOnlySubscriber))return void(0,redirect.V)(defaultRedirectUrl);const consentOrPayRedirectUrl=storedRedirects.fl.retrieve();storedRedirects.fl.clear(),(0,redirect.V)(consentOrPayRedirectUrl)};function RegisterForm_ownKeys(e,r){var t=Object.keys(e);if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(e);r&&(o=o.filter((function(r){return Object.getOwnPropertyDescriptor(e,r).enumerable}))),t.push.apply(t,o)}return t}function RegisterForm_objectSpread(e){for(var r=1;r<arguments.length;r++){var t=null!=arguments[r]?arguments[r]:{};r%2?RegisterForm_ownKeys(Object(t),!0).forEach((function(r){(0,defineProperty.A)(e,r,t[r])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(t)):RegisterForm_ownKeys(Object(t)).forEach((function(r){Object.defineProperty(e,r,Object.getOwnPropertyDescriptor(t,r))}))}return e}const RegisterForm_Button=Button.Ay.default||Button.Ay,Wrapper=(0,styled_components_browser_esm.styled)(FieldWrapper.e).withConfig({componentId:"sc-1a3x834-0"})(["width:100%;.valid{border-color:",";box-shadow:0 0 0 1px ",";}.reg-form{max-width:","px;margin:0 auto;&.hide{display:none;}}.input-password:focus ~ a svg use{fill:",";}"],(({theme})=>theme.color.semiotic.success),(({theme})=>theme.color.semiotic.success),Register.lC,(({theme})=>theme.color.ink.base)),Fields=styled_components_browser_esm.styled.div.withConfig({componentId:"sc-1a3x834-1"})(["& > *:not(:first-child){margin-top:",";}"],(({theme})=>theme.dimension.formField.marginTop)),SubmitError=(0,styled_components_browser_esm.styled)(FormError).withConfig({componentId:"sc-1a3x834-2"})(["display:block;margin-top:17px;text-align:center;"]),LoginLink=(0,styled_components_browser_esm.styled)(RegisterForm_Button).attrs({variant:Button.Kn}).withConfig({componentId:"sc-1a3x834-3"})(["padding:","px ","px;color:",";&:hover{color:",";}"],(({theme})=>theme.spacing.x1_5),(({theme})=>theme.spacing.x0_5),(({theme,$isPremium})=>$isPremium?theme.color.premium.actionBrand.base:theme.color.actionBrand.base),(({theme,$isPremium})=>$isPremium?theme.color.premium.actionBrand.alt:theme.color.actionBrand.alt)),ExistingCustomerLinkWrapper=styled_components_browser_esm.styled.div.withConfig({componentId:"sc-1a3x834-4"})(["display:flex;align-items:center;justify-content:center;margin-bottom:10px;font-family:",";font-size:14px;"],(({theme})=>theme.fontFamily.secondaryFont)),LinkText=styled_components_browser_esm.styled.span.withConfig({componentId:"sc-1a3x834-5"})([""]),EmailField=(0,withCSR.p)(StyledFormTextField),PasswordField=(0,withCSR.p)(TextFieldWithHideShowPassword.A),FirstNameField=(0,withCSR.p)(StyledFormTextField),LastNameField=(0,withCSR.p)(StyledFormTextField),INITIAL_STATE={[ids.DO]:"",[ids.bh]:"",[ids.Rm]:"",[ids.EI]:"",[ids.mU]:""},dispatchCustomEvent=(eventName,data)=>{return event=((name,eventData={})=>new CustomEvent(name,{detail:RegisterForm_objectSpread({},eventData)}))(eventName,data),void document.body.dispatchEvent(event);var event},RegisterForm=({isDonation,isPremium,submitButtonCopy="Submit",className,regSourceSection="",regSourceMethod="",alreadyHasAccountMessage,termId,offerId,shouldRenderSoftOptIn=isPremium,onForgottenPasswordClick,userFlowType=Register.Hj,forceLogin=!1,isAdFreeSubscription,isUsingShortRegistrationForm=!1})=>{const{state:{formValues,inputBorderStyles:inputErrorMessageStyles,submitErrorMessage,isVerifying,inputErrorMessages:inputErrorMessage},stateHandlers:{setFormValues,setInputBorderStyles:setInputErrorMessageStyles,setInputErrorMessages:setInputErrorMessage,setSubmitErrorMessage,toggleVerifyingState},debounce}=(0,useFormLogic.C)(INITIAL_STATE),[hasOptedIn,toggleHasOptedIn]=(0,useToggle.e)(shouldRenderSoftOptIn),[isForceLogin,toggleIsForceLogin]=(0,useToggle.e)(forceLogin),[existingEmail,setExistingEmail]=(0,react.useState)(""),[recaptchaToken,setRecaptchaToken]=(0,react.useState)(""),OptInPolicyComponent=shouldRenderSoftOptIn?OptInPolicyPreTicked.A:OptInPolicy.A,storedTrackingData=(0,react.useMemo)((()=>{try{return(0,digital_data_session.SA)(adobeConstants.I)}catch{return{}}}),[]),years=(0,helper.pL)().map((count=>(0,jsx_runtime.jsx)("option",{value:count,children:count},count))),postInternalApi=async(path,formData)=>await fetch(`${path}?__amp_source_origin=${window.location.protocol}//${window.location.host}`,{method:"POST",body:new URLSearchParams(formData)}),verifyForm=async()=>{const formData=new FormData;formData.append(formFieldNames.TI,formValues[ids.DO]),formData.append("password",formValues[ids.mU]),isUsingShortRegistrationForm||(formData.append("firstName",formValues[ids.bh]),formData.append("lastName",formValues[ids.Rm]),formData.append("birthYear",formValues[ids.EI]));const res=await postInternalApi(isUsingShortRegistrationForm?"/internal-api/registration-lite/verify":"/internal-api/registration/verify",formData);if(res.ok)return void setInputErrorMessage(INITIAL_STATE);const{verifyErrors}=await res.json(),existingEmailValue=verifyErrors.some((({name,message})=>message===formErrorMessages.q1&&name===formFieldNames.TI))?formValues[ids.DO]:"";existingEmailValue!==existingEmail&&setExistingEmail(existingEmailValue);const newErrorMessageStateEntries=((serverResponse,formValues,inputErrorMessage)=>{const currentFieldKey=name=>`reg-form-${name}`,serverErrorMessages=serverResponse.filter((({name})=>formValues[currentFieldKey(name)])).reduce(((acc,{name,message})=>RegisterForm_objectSpread(RegisterForm_objectSpread({},acc),{},{[name]:acc[name]?[...acc[name],message]:[message]})),{}),serverErrorMessagesSorted=Object.entries(serverErrorMessages).map((([name,errorMessages])=>[currentFieldKey(name),errorMessages.sort()[0]]));return Object.entries(RegisterForm_objectSpread(RegisterForm_objectSpread({},Object.fromEntries(Object.entries(inputErrorMessage).map((([key])=>[key,""])))),Object.fromEntries(serverErrorMessagesSorted))).map((([name,message])=>[name,message]))})(verifyErrors,formValues,inputErrorMessage);newErrorMessageStateEntries.filter((([name,message])=>inputErrorMessage[name]!==message)).length>0&&setInputErrorMessage(Object.fromEntries(newErrorMessageStateEntries))},updateBorderStyles=id=>{const validateCondition=""===formValues[id]||inputErrorMessage[id];setInputErrorMessageStyles(RegisterForm_objectSpread(RegisterForm_objectSpread({},inputErrorMessageStyles),{},{[id]:validateCondition?"invalid":"valid"}))},onChange=evt=>{const{id,value}=evt.target;updateBorderStyles(id),setFormValues(RegisterForm_objectSpread(RegisterForm_objectSpread({},formValues),{},{[id]:value}))},onBlur=evt=>{const{id}=evt.target;updateBorderStyles(id)},onFocus=evt=>{const formDataName=evt.target.dataset.trackingName;(0,custom_event_dispatchers.dispatchFocusOnSubsRegField)(RegisterForm_objectSpread(RegisterForm_objectSpread({},storedTrackingData),{},{name_form_field:`Subscription Funnel|Form Field details|${formDataName}`}))},determineClassName=inputId=>inputErrorMessage[inputId]||"invalid"===inputErrorMessageStyles[inputId]?"invalid":inputErrorMessageStyles[inputId],debouncedRefreshState=debounce((async()=>{await verifyForm(),toggleVerifyingState(!1)}),500);(0,react.useEffect)((()=>{(0,loadCaptcha.g)().then((token=>setRecaptchaToken(token))).catch((()=>{}))}),[isPremium,regSourceMethod]),(0,react.useEffect)((()=>{toggleVerifyingState(!0),debouncedRefreshState()}),[formValues]);const handleInitialValue=(initialValue,inputId)=>setFormValues(RegisterForm_objectSpread(RegisterForm_objectSpread({},formValues),{},{[inputId]:initialValue})),FormSubmitRegister=isPremium?Button.Gp:RegisterForm_Button,canSubmit=((isVerifying,inputErrorMessage,isUsingShortRegistrationForm,formValues)=>!isVerifying&&!Object.entries(inputErrorMessage).some((([,value])=>""!==value))&&(isUsingShortRegistrationForm?!(!formValues[ids.DO]||!formValues[ids.mU]):Object.entries(formValues).every((([,value])=>""!==value))))(isVerifying,inputErrorMessage,isUsingShortRegistrationForm,formValues);return(0,jsx_runtime.jsx)(Wrapper,{className,children:(0,jsx_runtime.jsxs)(Container,{children:[!existingEmail&&!isForceLogin&&(0,jsx_runtime.jsxs)(jsx_runtime.Fragment,{children:[(0,jsx_runtime.jsxs)(ExistingCustomerLinkWrapper,{children:[(0,jsx_runtime.jsx)(LinkText,{children:"Already have an account? "})," ",(0,jsx_runtime.jsx)(LoginLink,{name:ids.i7,onClick:()=>toggleIsForceLogin(!0),$isPremium:isPremium,"data-testid":testIds.Lk,children:"Log in"})]}),(0,jsx_runtime.jsxs)(FakeForm.k,{"data-testid":testIds.vP,id:ids.EB,className:"reg-form",formDescription:"Enter registration details",children:[(0,jsx_runtime.jsxs)(Fields,{children:[(0,jsx_runtime.jsx)(EmailField,RegisterForm_objectSpread({dataTrackingName:"Email","data-testid":testIds.DL,fieldName:formFieldNames.TI,fieldId:ids.DO,displayName:"Email",placeholder:"Enter your email",requiredField:!0,onChange,onBlur,errorMsg:inputErrorMessage[ids.DO],className:determineClassName(ids.DO),handleInitialValue:initialValue=>handleInitialValue(initialValue,ids.DO)},isPremium&&{onFocus})),!isUsingShortRegistrationForm&&(0,jsx_runtime.jsxs)(jsx_runtime.Fragment,{children:[(0,jsx_runtime.jsx)(FirstNameField,RegisterForm_objectSpread({dataTrackingName:"First Name","data-testid":testIds.vw,fieldName:"firstName",fieldId:ids.bh,displayName:"First name",placeholder:"Enter your first name",requiredField:!0,maxLength:registerPage.J,onChange,onBlur,errorMsg:inputErrorMessage[ids.bh],className:determineClassName(ids.bh),handleInitialValue:initialValue=>handleInitialValue(initialValue,ids.bh)},isPremium&&{onFocus})),(0,jsx_runtime.jsx)(LastNameField,RegisterForm_objectSpread({dataTrackingName:"Last Name","data-testid":testIds.fG,fieldName:"lastName",fieldId:ids.Rm,displayName:"Last name",placeholder:"Enter your last name",requiredField:!0,maxLength:registerPage.V,onChange,onBlur,errorMsg:inputErrorMessage[ids.Rm],className:determineClassName(ids.Rm),handleInitialValue:initialValue=>handleInitialValue(initialValue,ids.Rm)},isPremium&&{onFocus})),(0,jsx_runtime.jsx)(StyledFormSelect,RegisterForm_objectSpread({dataTrackingName:"Year of Birth","data-testid":testIds.Y3,fieldName:"birthYear",fieldId:ids.EI,displayName:"Year of birth",placeholder:"Select your year of birth",fieldRequired:!0,options:years,onChange,onBlur,errorMsg:inputErrorMessage[ids.EI],className:determineClassName(ids.EI)},isPremium&&{onFocus}))]}),(0,jsx_runtime.jsx)(PasswordField,RegisterForm_objectSpread({dataTrackingName:"Password","data-testid":testIds.CJ,fieldName:"password",fieldId:ids.mU,inputType:"password",autocomplete:"new-password",displayName:"Password",placeholder:"Enter your password",requiredField:!0,onChange,onBlur,errorMsg:inputErrorMessage[ids.mU],className:determineClassName(ids.mU),handleInitialValue:initialValue=>handleInitialValue(initialValue,ids.mU)},isPremium&&{onFocus}))]}),(0,jsx_runtime.jsx)(styled_components_browser_esm.ThemeProvider,{theme:isPremium?Styles.lF:Styles.$7,children:(0,jsx_runtime.jsx)(OptInPolicyComponent,{controlled:!1,checked:hasOptedIn,onChange:()=>{toggleHasOptedIn((prevState=>!prevState)),(0,custom_event_dispatchers.dispatchMarketingOpt)(RegisterForm_objectSpread(RegisterForm_objectSpread({},storedTrackingData),{},{marketing_opt_in:!hasOptedIn}))}})}),(0,jsx_runtime.jsx)(FormSubmitRegister,{type:Button.pv,name:"register-form-submit","data-testid":testIds.lX,size:Button.Zz,className:classNames.lr,disabled:!canSubmit,onClick:async()=>{try{var _window$__XDOMAIN_LOG;const email=formValues[ids.DO],password=formValues[ids.mU],formData=new FormData;formData.append(formFieldNames.TI,email),formData.append("password",password),formData.append("regSourceMethod",regSourceMethod),formData.append("regSourceSection",regSourceSection),formData.append("terms",!0),formData.append("isDonation",isDonation||!1),formData.append(formFieldNames.QK,recaptchaToken),formData.append(formFieldNames.gx,hasOptedIn),isUsingShortRegistrationForm||(formData.append("firstName",formValues[ids.bh]),formData.append("lastName",formValues[ids.Rm]),formData.append("birthYear",formValues[ids.EI]));const res=await postInternalApi(isUsingShortRegistrationForm?"/internal-api/registration-lite/submit":"/internal-api/registration/submit",formData),resJson=await res.json();if(!res.ok)throw new Error(resJson.message);if((0,log.Rm)(resJson.message),await(0,initBrazeSDKAndOpenSession.A)(),await(null===(_window$__XDOMAIN_LOG=window.__XDOMAIN_LOGIN__)||void 0===_window$__XDOMAIN_LOG?void 0:_window$__XDOMAIN_LOG.doCrossDomainLogin(email,password)),dispatchCustomEvent(customEvents.P2,{}),userFlowType===Register.lv){const redirectUrl=((userFlowType,queryParams)=>{const{offerId,termId}=queryParams,restParams=(0,objectWithoutProperties.A)(queryParams,_excluded);return userFlowType===constants.qI?(0,redirects.nv)(_objectSpread({offerId,termId},restParams)):userFlowType===constants.lv?(0,redirects.BS)(_objectSpread({offerId,termId},restParams)):(0,redirects.r_)(restParams)})(userFlowType,{termId,offerId});((redirectUrl,receiveOffers)=>{const trackingData=(0,digital_data_session.SA)(adobeConstants.I);window.hj&&window.hj("formSubmitSuccessful"),(0,digital_data_session.mb)(_objectSpread(_objectSpread({},trackingData),{},{marketing_opt_in:receiveOffers})),(0,redirect.V)(redirectUrl)})(redirectUrl,hasOptedIn)}}catch(e){(0,log.z3)(e),setSubmitErrorMessage(e.message),dispatchCustomEvent(customEvents.Iw)}},children:submitButtonCopy}),(0,jsx_runtime.jsx)(Policies.lx,{buttonCopy:submitButtonCopy}),(0,jsx_runtime.jsx)(SubmitError,{children:submitErrorMessage})]})]}),(existingEmail||isForceLogin)&&(0,jsx_runtime.jsx)(RegLoginForm.O,{isPremium,alreadyHasAccountMessage,registerEmailField:existingEmail,newAccountClick:()=>{toggleIsForceLogin(!1),setExistingEmail(""),setInputErrorMessage(INITIAL_STATE),setInputErrorMessageStyles(INITIAL_STATE),setFormValues(INITIAL_STATE),toggleHasOptedIn(shouldRenderSoftOptIn)},onForgottenPasswordClick,onLoginSuccess:()=>onRegLoginSuccess(((userFlowType,queryParams)=>userFlowType===constants.qI?(0,redirects.nv)(_objectSpread(_objectSpread({},queryParams),{},{isLoginForm:!0})):userFlowType===constants.lv?(0,redirects.BS)(queryParams):"/")(userFlowType,{termId,offerId}),isAdFreeSubscription)}),(0,jsx_runtime.jsx)(Register_RegisterSpinner,{})]})})};RegisterForm.propTypes={alreadyHasAccountMessage:prop_types_default().string.isRequired,isDonation:prop_types_default().bool,isPremium:prop_types_default().bool,submitButtonCopy:prop_types_default().string,regSourceSection:prop_types_default().string,regSourceMethod:prop_types_default().string,className:prop_types_default().string,termId:prop_types_default().string,offerId:prop_types_default().string,shouldRenderSoftOptIn:prop_types_default().bool,onForgottenPasswordClick:prop_types_default().func,userFlowType:prop_types_default().oneOf(["register","subscribe","donate"]),isAdFreeSubscription:prop_types_default().bool,forceLogin:prop_types_default().bool,isUsingShortRegistrationForm:prop_types_default().bool}},"./app/component/library/Register/index.js":(__unused_webpack_module,__webpack_exports__,__webpack_require__)=>{__webpack_require__.d(__webpack_exports__,{Hj:()=>_constants__WEBPACK_IMPORTED_MODULE_0__.Hj,lC:()=>_constants__WEBPACK_IMPORTED_MODULE_0__.lC,lv:()=>_constants__WEBPACK_IMPORTED_MODULE_0__.lv,qI:()=>_constants__WEBPACK_IMPORTED_MODULE_0__.qI,s4:()=>_RegisterForm__WEBPACK_IMPORTED_MODULE_1__.s});var _constants__WEBPACK_IMPORTED_MODULE_0__=__webpack_require__("./app/component/library/Register/constants.ts"),_RegisterForm__WEBPACK_IMPORTED_MODULE_1__=__webpack_require__("./app/component/library/Register/RegisterForm/index.js");__webpack_require__("./app/component/library/Register/RegLoginForm/index.js")},"./app/public/js/utils/loadCaptcha.js":(__unused_webpack_module,__webpack_exports__,__webpack_require__)=>{__webpack_require__.d(__webpack_exports__,{g:()=>getToken});var _modules_util__WEBPACK_IMPORTED_MODULE_0__=__webpack_require__("./app/public/js/modules/util.ts");const getToken=async()=>{const RECAPTCHA_KEY=(()=>{try{return JSGlobals.recaptureV3Key}catch{return null}})();if(!RECAPTCHA_KEY)throw new Error("Can't get token on server side");return await(0,_modules_util__WEBPACK_IMPORTED_MODULE_0__.kG)([`https://www.google.com/recaptcha/api.js?render=${RECAPTCHA_KEY}`]),await(async()=>(await new Promise((resolve=>{grecaptcha.ready(resolve)})),await grecaptcha.execute(RECAPTCHA_KEY,{action:"load_register_page"})))()}}}]);