var yr=Object.defineProperty;var u=(e,r)=>yr(e,"name",{value:r,configurable:!0});import{_ as Q,a as Fr}from"./inheritsLoose-289c47e1.js";import{r as v,R as Er}from"./index-29d3bc65.js";import{_ as xr}from"./styled-components.browser.esm-852d80e5.js";function Or(e,r){if(e==null)return{};var n={};for(var t in e)if({}.hasOwnProperty.call(e,t)){if(r.includes(t))continue;n[t]=e[t]}return n}u(Or,"_objectWithoutPropertiesLoose");var Y="data-focus-lock",Se="data-focus-lock-disabled",Sr="data-no-focus-lock",Ir="data-autofocus-inside",wr="data-no-autofocus";function $(e,r){return typeof e=="function"?e(r):e&&(e.current=r),e}u($,"assignRef");function Pr(e,r){var n=v.useState(function(){return{value:e,callback:r,facade:{get current(){return n.value},set current(t){var a=n.value;a!==t&&(n.value=t,n.callback(t,a))}}}})[0];return n.callback=r,n.facade}u(Pr,"useCallbackRef");var pe=new WeakMap;function Ar(e,r){var n=Pr(r||null,function(t){return e.forEach(function(a){return $(a,t)})});return v.useLayoutEffect(function(){var t=pe.get(n);if(t){var a=new Set(t),o=new Set(e),i=n.current;a.forEach(function(c){o.has(c)||$(c,null)}),o.forEach(function(c){a.has(c)||$(c,i)})}pe.set(n,e)},[e]),n}u(Ar,"useMergeRefs");var j={width:"1px",height:"0px",padding:0,overflow:"hidden",position:"fixed",top:"1px",left:"1px"};function Ie(e){return e}u(Ie,"ItoI");function we(e,r){r===void 0&&(r=Ie);var n=[],t=!1,a={read:function(){if(t)throw new Error("Sidecar: could not `read` from an `assigned` medium. `read` could be used only with `useMedium`.");return n.length?n[n.length-1]:e},useMedium:function(o){var i=r(o,t);return n.push(i),function(){n=n.filter(function(c){return c!==i})}},assignSyncMedium:function(o){for(t=!0;n.length;){var i=n;n=[],i.forEach(o)}n={push:function(c){return o(c)},filter:function(){return n}}},assignMedium:function(o){t=!0;var i=[];if(n.length){var c=n;n=[],c.forEach(o),i=n}var h=u(function(){var d=i;i=[],d.forEach(o)},"executeQueue"),f=u(function(){return Promise.resolve().then(h)},"cycle");f(),n={push:function(d){i.push(d),f()},filter:function(d){return i=i.filter(d),n}}}};return a}u(we,"innerCreateMedium");function Z(e,r){return r===void 0&&(r=Ie),we(e,r)}u(Z,"createMedium");function Tr(e){e===void 0&&(e={});var r=we(null);return r.options=xr({async:!0,ssr:!1},e),r}u(Tr,"createSidecarMedium");var Pe=Z({},function(e){var r=e.target,n=e.currentTarget;return{target:r,currentTarget:n}}),Ae=Z(),kr=Z(),Cr=Tr({async:!0,ssr:typeof document<"u"}),Mr=v.createContext(void 0),Nr=[],Te=v.forwardRef(u(function(r,n){var t,a=v.useState(),o=a[0],i=a[1],c=v.useRef(),h=v.useRef(!1),f=v.useRef(null),d=v.useState({}),s=d[1],b=r.children,p=r.disabled,l=p===void 0?!1:p,m=r.noFocusGuards,g=m===void 0?!1:m,y=r.persistentFocus,O=y===void 0?!1:y,x=r.crossFrame,Je=x===void 0?!0:x,se=r.autoFocus,Xe=se===void 0?!0:se;r.allowTextSelection;var Ze=r.group,er=r.className,rr=r.whiteList,nr=r.hasPositiveIndices,de=r.shards,B=de===void 0?Nr:de,le=r.as,tr=le===void 0?"div":le,ve=r.lockProps,ur=ve===void 0?{}:ve,ar=r.sideCar,me=r.returnFocus,_=me===void 0?!1:me,or=r.focusOptions,G=r.onActivation,H=r.onDeactivation,ir=v.useState({}),cr=ir[0],fr=v.useCallback(function(E){var P=E.captureFocusRestore;if(!f.current){var A,S=(A=document)==null?void 0:A.activeElement;f.current=S,S!==document.body&&(f.current=P(S))}c.current&&G&&G(c.current),h.current=!0,s()},[G]),sr=v.useCallback(function(){h.current=!1,H&&H(c.current),s()},[H]),dr=v.useCallback(function(E){var P=f.current;if(P){var A=(typeof P=="function"?P():P)||document.body,S=typeof _=="function"?_(A):_;if(S){var he=typeof S=="object"?S:void 0;f.current=null,E?Promise.resolve().then(function(){return A.focus(he)}):A.focus(he)}}},[_]),lr=v.useCallback(function(E){h.current&&Pe.useMedium(E)},[]),vr=Ae.useMedium,mr=v.useCallback(function(E){c.current!==E&&(c.current=E,i(E))},[]),br=Q((t={},t[Se]=l&&"disabled",t[Y]=Ze,t),ur),be=g!==!0,hr=be&&g!=="tail",pr=Ar([n,mr]),gr=v.useMemo(function(){return{observed:c,shards:B,enabled:!l,active:h.current}},[l,h.current,B,o]);return v.createElement(v.Fragment,null,be&&[v.createElement("div",{key:"guard-first","data-focus-guard":!0,tabIndex:l?-1:0,style:j}),nr?v.createElement("div",{key:"guard-nearest","data-focus-guard":!0,tabIndex:l?-1:1,style:j}):null],!l&&v.createElement(ar,{id:cr,sideCar:Cr,observed:o,disabled:l,persistentFocus:O,crossFrame:Je,autoFocus:Xe,whiteList:rr,shards:B,onActivation:fr,onDeactivation:sr,returnFocus:dr,focusOptions:or}),v.createElement(tr,Q({ref:pr},br,{className:er,onBlur:vr,onFocus:lr}),v.createElement(Mr.Provider,{value:gr},b)),hr&&v.createElement("div",{"data-focus-guard":!0,tabIndex:l?-1:0,style:j}))},"FocusLockUI"));Te.propTypes={};const ke=Te;function L(e){"@babel/helpers - typeof";return L=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(r){return typeof r}:function(r){return r&&typeof Symbol=="function"&&r.constructor===Symbol&&r!==Symbol.prototype?"symbol":typeof r},L(e)}u(L,"_typeof");function Lr(e,r){if(L(e)!="object"||!e)return e;var n=e[Symbol.toPrimitive];if(n!==void 0){var t=n.call(e,r||"default");if(L(t)!="object")return t;throw new TypeError("@@toPrimitive must return a primitive value.")}return(r==="string"?String:Number)(e)}u(Lr,"toPrimitive");function Dr(e){var r=Lr(e,"string");return L(r)=="symbol"?r:r+""}u(Dr,"toPropertyKey");function Rr(e,r,n){return(r=Dr(r))in e?Object.defineProperty(e,r,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[r]=n,e}u(Rr,"_defineProperty");function _r(e,r){function n(t){return t.displayName||t.name||"Component"}return u(n,"getDisplayName"),u(function(a){var o=[],i;function c(){i=e(o.map(function(f){return f.props})),r(i)}u(c,"emitChange");var h=function(f){Fr(d,f);function d(){return f.apply(this,arguments)||this}u(d,"SideEffect"),d.peek=u(function(){return i},"peek");var s=d.prototype;return s.componentDidMount=u(function(){o.push(this),c()},"componentDidMount"),s.componentDidUpdate=u(function(){c()},"componentDidUpdate"),s.componentWillUnmount=u(function(){var p=o.indexOf(this);o.splice(p,1),c()},"componentWillUnmount"),s.render=u(function(){return Er.createElement(a,this.props)},"render"),d}(v.PureComponent);return Rr(h,"displayName","SideEffect("+n(a)+")"),h},"wrap")}u(_r,"withSideEffect");var F=u(function(e){for(var r=Array(e.length),n=0;n<e.length;++n)r[n]=e[n];return r},"toArray"),w=u(function(e){return Array.isArray(e)?e:[e]},"asArray"),Ce=u(function(e){return Array.isArray(e)?e[0]:e},"getFirst"),Wr=u(function(e){if(e.nodeType!==Node.ELEMENT_NODE)return!1;var r=window.getComputedStyle(e,null);return!r||!r.getPropertyValue?!1:r.getPropertyValue("display")==="none"||r.getPropertyValue("visibility")==="hidden"},"isElementHidden"),Me=u(function(e){return e.parentNode&&e.parentNode.nodeType===Node.DOCUMENT_FRAGMENT_NODE?e.parentNode.host:e.parentNode},"getParentNode"),Ne=u(function(e){return e===document||e&&e.nodeType===Node.DOCUMENT_NODE},"isTopNode"),Ur=u(function(e){return e.hasAttribute("inert")},"isInert"),Br=u(function(e,r){return!e||Ne(e)||!Wr(e)&&!Ur(e)&&r(Me(e))},"isVisibleUncached"),Le=u(function(e,r){var n=e.get(r);if(n!==void 0)return n;var t=Br(r,Le.bind(void 0,e));return e.set(r,t),t},"isVisibleCached"),Gr=u(function(e,r){return e&&!Ne(e)?jr(e)?r(Me(e)):!1:!0},"isAutoFocusAllowedUncached"),De=u(function(e,r){var n=e.get(r);if(n!==void 0)return n;var t=Gr(r,De.bind(void 0,e));return e.set(r,t),t},"isAutoFocusAllowedCached"),Re=u(function(e){return e.dataset},"getDataset"),Hr=u(function(e){return e.tagName==="BUTTON"},"isHTMLButtonElement"),_e=u(function(e){return e.tagName==="INPUT"},"isHTMLInputElement"),We=u(function(e){return _e(e)&&e.type==="radio"},"isRadioElement"),$r=u(function(e){return!((_e(e)||Hr(e))&&(e.type==="hidden"||e.disabled))},"notHiddenInput"),jr=u(function(e){var r=e.getAttribute(wr);return![!0,"true",""].includes(r)},"isAutoFocusAllowed"),ee=u(function(e){var r;return!!(e&&(!((r=Re(e))===null||r===void 0)&&r.focusGuard))},"isGuard"),z=u(function(e){return!ee(e)},"isNotAGuard"),qr=u(function(e){return!!e},"isDefined"),Vr=u(function(e,r){var n=Math.max(0,e.tabIndex),t=Math.max(0,r.tabIndex),a=n-t,o=e.index-r.index;if(a){if(!n)return 1;if(!t)return-1}return a||o},"tabSort"),Kr=u(function(e){return e.tabIndex<0&&!e.hasAttribute("tabindex")?0:e.tabIndex},"getTabIndex"),re=u(function(e,r,n){return F(e).map(function(t,a){var o=Kr(t);return{node:t,index:a,tabIndex:n&&o===-1?(t.dataset||{}).focusGuard?0:-1:o}}).filter(function(t){return!r||t.tabIndex>=0}).sort(Vr)},"orderByTabIndex"),Qr=["button:enabled","select:enabled","textarea:enabled","input:enabled","a[href]","area[href]","summary","iframe","object","embed","audio[controls]","video[controls]","[tabindex]","[contenteditable]","[autofocus]"],ne=Qr.join(","),Yr="".concat(ne,", [data-focus-guard]"),Ue=u(function(e,r){return F((e.shadowRoot||e).children).reduce(function(n,t){return n.concat(t.matches(r?Yr:ne)?[t]:[],Ue(t))},[])},"getFocusablesWithShadowDom"),zr=u(function(e,r){var n;return e instanceof HTMLIFrameElement&&(!((n=e.contentDocument)===null||n===void 0)&&n.body)?M([e.contentDocument.body],r):[e]},"getFocusablesWithIFrame"),M=u(function(e,r){return e.reduce(function(n,t){var a,o=Ue(t,r),i=(a=[]).concat.apply(a,o.map(function(c){return zr(c,r)}));return n.concat(i,t.parentNode?F(t.parentNode.querySelectorAll(ne)).filter(function(c){return c===t}):[])},[])},"getFocusables"),Jr=u(function(e){var r=e.querySelectorAll("[".concat(Ir,"]"));return F(r).map(function(n){return M([n])}).reduce(function(n,t){return n.concat(t)},[])},"getParentAutofocusables"),te=u(function(e,r){return F(e).filter(function(n){return Le(r,n)}).filter(function(n){return $r(n)})},"filterFocusable"),ge=u(function(e,r){return r===void 0&&(r=new Map),F(e).filter(function(n){return De(r,n)})},"filterAutoFocusable"),ue=u(function(e,r,n){return re(te(M(e,n),r),!0,n)},"getTabbableNodes"),W=u(function(e,r){return re(te(M(e),r),!1)},"getFocusableNodes"),Xr=u(function(e,r){return te(Jr(e),r)},"parentAutofocusables"),I=u(function(e,r){return e.shadowRoot?I(e.shadowRoot,r):Object.getPrototypeOf(e).contains!==void 0&&Object.getPrototypeOf(e).contains.call(e,r)?!0:F(e.children).some(function(n){var t;if(n instanceof HTMLIFrameElement){var a=(t=n.contentDocument)===null||t===void 0?void 0:t.body;return a?I(a,r):!1}return I(n,r)})},"contains"),Zr=u(function(e){for(var r=new Set,n=e.length,t=0;t<n;t+=1)for(var a=t+1;a<n;a+=1){var o=e[t].compareDocumentPosition(e[a]);(o&Node.DOCUMENT_POSITION_CONTAINED_BY)>0&&r.add(a),(o&Node.DOCUMENT_POSITION_CONTAINS)>0&&r.add(t)}return e.filter(function(i,c){return!r.has(c)})},"filterNested"),Be=u(function(e){return e.parentNode?Be(e.parentNode):e},"getTopParent"),ae=u(function(e){var r=w(e);return r.filter(Boolean).reduce(function(n,t){var a=t.getAttribute(Y);return n.push.apply(n,a?Zr(F(Be(t).querySelectorAll("[".concat(Y,'="').concat(a,'"]:not([').concat(Se,'="disabled"])')))):[t]),n},[])},"getAllAffectedNodes"),en=u(function(e){try{return e()}catch{return}},"safeProbe"),D=u(function(e){if(e===void 0&&(e=document),!(!e||!e.activeElement)){var r=e.activeElement;return r.shadowRoot?D(r.shadowRoot):r instanceof HTMLIFrameElement&&en(function(){return r.contentWindow.document})?D(r.contentWindow.document):r}},"getActiveElement"),rn=u(function(e,r){return e===r},"focusInFrame"),nn=u(function(e,r){return!!F(e.querySelectorAll("iframe")).some(function(n){return rn(n,r)})},"focusInsideIframe"),Ge=u(function(e,r){return r===void 0&&(r=D(Ce(e).ownerDocument)),!r||r.dataset&&r.dataset.focusGuard?!1:ae(e).some(function(n){return I(n,r)||nn(n,r)})},"focusInside"),tn=u(function(e){e===void 0&&(e=document);var r=D(e);return r?F(e.querySelectorAll("[".concat(Sr,"]"))).some(function(n){return I(n,r)}):!1},"focusIsHidden"),un=u(function(e,r){return r.filter(We).filter(function(n){return n.name===e.name}).filter(function(n){return n.checked})[0]||e},"findSelectedRadio"),oe=u(function(e,r){return We(e)&&e.name?un(e,r):e},"correctNode"),an=u(function(e){var r=new Set;return e.forEach(function(n){return r.add(oe(n,e))}),e.filter(function(n){return r.has(n)})},"correctNodes"),ye=u(function(e){return e[0]&&e.length>1?oe(e[0],e):e[0]},"pickFirstFocus"),Fe=u(function(e,r){return e.indexOf(oe(r,e))},"pickFocusable"),J="NEW_FOCUS",on=u(function(e,r,n,t,a){var o=e.length,i=e[0],c=e[o-1],h=ee(t);if(!(t&&e.indexOf(t)>=0)){var f=t!==void 0?n.indexOf(t):-1,d=a?n.indexOf(a):f,s=a?e.indexOf(a):-1;if(f===-1)return s!==-1?s:J;if(s===-1)return J;var b=f-d,p=n.indexOf(i),l=n.indexOf(c),m=an(n),g=t!==void 0?m.indexOf(t):-1,y=g-(a?m.indexOf(a):f);if(!b&&s>=0||r.length===0)return s;var O=Fe(e,r[0]),x=Fe(e,r[r.length-1]);if(f<=p&&h&&Math.abs(b)>1)return x;if(f>=l&&h&&Math.abs(b)>1)return O;if(b&&Math.abs(y)>1)return s;if(f<=p)return x;if(f>l)return O;if(b)return Math.abs(b)>1?s:(o+s+b)%o}},"newFocus"),cn=u(function(e){return function(r){var n,t=(n=Re(r))===null||n===void 0?void 0:n.autofocus;return r.autofocus||t!==void 0&&t!=="false"||e.indexOf(r)>=0}},"findAutoFocused"),Ee=u(function(e,r,n){var t=e.map(function(o){var i=o.node;return i}),a=ge(t.filter(cn(n)));return a&&a.length?ye(a):ye(ge(r))},"pickAutofocus"),X=u(function(e,r){return r===void 0&&(r=[]),r.push(e),e.parentNode&&X(e.parentNode.host||e.parentNode,r),r},"getParents"),q=u(function(e,r){for(var n=X(e),t=X(r),a=0;a<n.length;a+=1){var o=n[a];if(t.indexOf(o)>=0)return o}return!1},"getCommonParent"),He=u(function(e,r,n){var t=w(e),a=w(r),o=t[0],i=!1;return a.filter(Boolean).forEach(function(c){i=q(i||c,c)||i,n.filter(Boolean).forEach(function(h){var f=q(o,h);f&&(!i||I(f,i)?i=f:i=q(f,i))})}),i},"getTopCommonParent"),xe=u(function(e,r){return e.reduce(function(n,t){return n.concat(Xr(t,r))},[])},"allParentAutofocusables"),fn=u(function(e,r){var n=new Map;return r.forEach(function(t){return n.set(t.node,t)}),e.map(function(t){return n.get(t)}).filter(qr)},"reorderNodes"),sn=u(function(e,r){var n=D(w(e).length>0?document:Ce(e).ownerDocument),t=ae(e).filter(z),a=He(n||e,e,t),o=new Map,i=W(t,o),c=i.filter(function(l){var m=l.node;return z(m)});if(c[0]){var h=W([a],o).map(function(l){var m=l.node;return m}),f=fn(h,c),d=f.map(function(l){var m=l.node;return m}),s=f.filter(function(l){var m=l.tabIndex;return m>=0}).map(function(l){var m=l.node;return m}),b=on(d,s,h,n,r);if(b===J){var p=Ee(i,s,xe(t,o))||Ee(i,d,xe(t,o));if(p)return{node:p};console.warn("focus-lock: cannot find any node to move focus into");return}return b===void 0?b:f[b]}},"focusSolver"),dn=u(function(e){var r=ae(e).filter(z),n=He(e,e,r),t=re(M([n],!0),!0,!0),a=M(r,!1);return t.map(function(o){var i=o.node,c=o.index;return{node:i,index:c,lockItem:a.indexOf(i)>=0,guard:ee(i)}})},"expandFocusableNodes"),ie=u(function(e,r){e&&("focus"in e&&e.focus(r),"contentWindow"in e&&e.contentWindow&&e.contentWindow.focus())},"focusOn"),V=0,K=!1,$e=u(function(e,r,n){n===void 0&&(n={});var t=sn(e,r);if(!K&&t){if(V>2){console.error("FocusLock: focus-fighting detected. Only one focus management system could be active. See https://github.com/theKashey/focus-lock/#focus-fighting"),K=!0,setTimeout(function(){K=!1},1);return}V++,ie(t.node,n.focusOptions),V--}},"moveFocusInside");function N(e){if(!e)return null;var r=e?new WeakRef(e):null;return function(){return(r==null?void 0:r.deref())||null}}u(N,"weakRef");var ln=u(function(e){if(!e)return null;for(var r=[],n=e;n&&n!==document.body;)r.push({current:N(n),parent:N(n.parentElement),left:N(n.previousElementSibling),right:N(n.nextElementSibling)}),n=n.parentElement;return{element:N(e),stack:r,ownerDocument:e.ownerDocument}},"recordElementLocation"),vn=u(function(e){var r,n,t,a,o;if(e)for(var i=e.stack,c=e.ownerDocument,h=new Map,f=0,d=i;f<d.length;f++){var s=d[f],b=(r=s.parent)===null||r===void 0?void 0:r.call(s);if(b&&c.contains(b)){for(var p=(n=s.left)===null||n===void 0?void 0:n.call(s),l=(t=s.right)===null||t===void 0?void 0:t.call(s),m=ue([b],h),g=(o=(a=p==null?void 0:p.nextElementSibling)!==null&&a!==void 0?a:l)!==null&&o!==void 0?o:p;g;){for(var y=0,O=m;y<O.length;y++){var x=O[y];if(g!=null&&g.contains(x.node))return x.node}g=g.nextElementSibling}if(m.length)return m[0].node}}},"restoreFocusTo"),mn=u(function(e){var r=ln(e);return function(){return vn(r)}},"captureFocusRestore"),bn=u(function(e,r,n){if(!e||!r)return console.error("no element or scope given"),{};var t=w(r);if(t.every(function(i){return!I(i,e)}))return console.error("Active element is not contained in the scope"),{};var a=n?ue(t,new Map):W(t,new Map),o=a.findIndex(function(i){var c=i.node;return c===e});if(o!==-1)return{prev:a[o-1],next:a[o+1],first:a[0],last:a[a.length-1]}},"getRelativeFocusable"),hn=u(function(e,r){var n=r?ue(w(e),new Map):W(w(e),new Map);return{first:n[0],last:n[n.length-1]}},"getBoundary"),pn=u(function(e){return Object.assign({scope:document.body,cycle:!0,onlyTabbable:!0},e)},"defaultOptions"),je=u(function(e,r,n){r===void 0&&(r={});var t=pn(r),a=bn(e,t.scope,t.onlyTabbable);if(a){var o=n(a,t.cycle);o&&ie(o.node,t.focusOptions)}},"moveFocus"),gn=u(function(e,r){r===void 0&&(r={}),je(e,r,function(n,t){var a=n.next,o=n.first;return a||t&&o})},"focusNextElement"),yn=u(function(e,r){r===void 0&&(r={}),je(e,r,function(n,t){var a=n.prev,o=n.last;return a||t&&o})},"focusPrevElement"),qe=u(function(e,r,n){var t,a=hn(e,(t=r.onlyTabbable)!==null&&t!==void 0?t:!0),o=a[n];o&&ie(o.node,r.focusOptions)},"pickBoundary"),Fn=u(function(e,r){r===void 0&&(r={}),qe(e,r,"first")},"focusFirstElement"),En=u(function(e,r){r===void 0&&(r={}),qe(e,r,"last")},"focusLastElement");function ce(e){setTimeout(e,1)}u(ce,"deferAction");var xn=u(function(r){return r&&"current"in r?r.current:r},"extractRef"),On=u(function(){return document&&document.activeElement===document.body},"focusOnBody"),Sn=u(function(){return On()||tn()},"isFreeFocus"),k=null,T=null,C=null,R=!1,In=u(function(){return!0},"defaultWhitelist"),wn=u(function(r){return(k.whiteList||In)(r)},"focusWhitelisted"),Pn=u(function(r,n){C={observerNode:r,portaledElement:n}},"recordPortal"),An=u(function(r){return C&&C.portaledElement===r},"focusIsPortaledPair");function Oe(e,r,n,t){var a=null,o=e;do{var i=t[o];if(i.guard)i.node.dataset.focusAutoGuard&&(a=i);else if(i.lockItem){if(o!==e)return;a=null}else break}while((o+=n)!==r);a&&(a.node.tabIndex=0)}u(Oe,"autoGuard");var Tn=u(function(r){return r?!!R:R==="meanwhile"},"focusWasOutside"),kn=u(function e(r,n,t){return n&&(n.host===r&&(!n.activeElement||t.contains(n.activeElement))||n.parentNode&&e(r,n.parentNode,t))},"checkInHost"),Cn=u(function(r,n){return n.some(function(t){return kn(r,t,t)})},"withinHost"),U=u(function(){var r=!1;if(k){var n=k,t=n.observed,a=n.persistentFocus,o=n.autoFocus,i=n.shards,c=n.crossFrame,h=n.focusOptions,f=t||C&&C.portaledElement,d=document&&document.activeElement;if(f){var s=[f].concat(i.map(xn).filter(Boolean));if((!d||wn(d))&&(a||Tn(c)||!Sn()||!T&&o)&&(f&&!(Ge(s)||d&&Cn(d,s)||An(d))&&(document&&!T&&d&&!o?(d.blur&&d.blur(),document.body.focus()):(r=$e(s,T,{focusOptions:h}),C={})),R=!1,T=document&&document.activeElement),document&&d!==document.activeElement&&document.querySelector("[data-focus-auto-guard]")){var b=document&&document.activeElement,p=dn(s),l=p.map(function(m){var g=m.node;return g}).indexOf(b);l>-1&&(p.filter(function(m){var g=m.guard,y=m.node;return g&&y.dataset.focusAutoGuard}).forEach(function(m){var g=m.node;return g.removeAttribute("tabIndex")}),Oe(l,p.length,1,p),Oe(l,-1,-1,p))}}}return r},"activateTrap"),Ve=u(function(r){U()&&r&&(r.stopPropagation(),r.preventDefault())},"onTrap"),fe=u(function(){return ce(U)},"onBlur"),Mn=u(function(r){var n=r.target,t=r.currentTarget;t.contains(n)||Pn(t,n)},"onFocus"),Nn=u(function(){return null},"FocusWatcher"),Ke=u(function(){R="just",ce(function(){R="meanwhile"})},"onWindowBlur"),Ln=u(function(){document.addEventListener("focusin",Ve),document.addEventListener("focusout",fe),window.addEventListener("blur",Ke)},"attachHandler"),Dn=u(function(){document.removeEventListener("focusin",Ve),document.removeEventListener("focusout",fe),window.removeEventListener("blur",Ke)},"detachHandler");function Rn(e){return e.filter(function(r){var n=r.disabled;return!n})}u(Rn,"reducePropsToState");var Qe={moveFocusInside:$e,focusInside:Ge,focusNextElement:gn,focusPrevElement:yn,focusFirstElement:Fn,focusLastElement:En,captureFocusRestore:mn};function _n(e){var r=e.slice(-1)[0];r&&!k&&Ln();var n=k,t=n&&r&&r.id===n.id;k=r,n&&!t&&(n.onDeactivation(),e.filter(function(a){var o=a.id;return o===n.id}).length||n.returnFocus(!r)),r?(T=null,(!t||n.observed!==r.observed)&&r.onActivation(Qe),U(),ce(U)):(Dn(),T=null)}u(_n,"handleStateChangeOnClient");Pe.assignSyncMedium(Mn);Ae.assignMedium(fe);kr.assignMedium(function(e){return e(Qe)});const Wn=_r(Rn,_n)(Nn);var Ye=v.forwardRef(u(function(r,n){return v.createElement(ke,Q({sideCar:Wn,ref:n},r))},"FocusLockUICombination")),ze=ke.propTypes||{};ze.sideCar;Or(ze,["sideCar"]);Ye.propTypes={};const $n=Ye;export{$n as F};
