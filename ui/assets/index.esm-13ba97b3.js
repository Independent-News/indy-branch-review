var ht=Object.defineProperty;var n=(e,s)=>ht(e,"name",{value:s,configurable:!0});import{R as C}from"./index-29d3bc65.js";var fe=n(e=>e.type==="checkbox","isCheckBoxInput"),se=n(e=>e instanceof Date,"isDateObject"),L=n(e=>e==null,"isNullOrUndefined");const Ze=n(e=>typeof e=="object","isObjectType");var k=n(e=>!L(e)&&!Array.isArray(e)&&Ze(e)&&!se(e),"isObject"),vt=n(e=>k(e)&&e.target?fe(e.target)?e.target.checked:e.target.value:e,"getEventValue"),_t=n(e=>e.substring(0,e.search(/\.\d+(\.|$)/))||e,"getNodeParentName"),bt=n((e,s)=>e.has(_t(s)),"isNameInFieldArray"),Vt=n(e=>{const s=e.constructor&&e.constructor.prototype;return k(s)&&s.hasOwnProperty("isPrototypeOf")},"isPlainObject"),Oe=typeof window<"u"&&typeof window.HTMLElement<"u"&&typeof document<"u";function p(e){let s;const r=Array.isArray(e);if(e instanceof Date)s=new Date(e);else if(e instanceof Set)s=new Set(e);else if(!(Oe&&(e instanceof Blob||e instanceof FileList))&&(r||k(e)))if(s=r?[]:{},!r&&!Vt(e))s=e;else for(const a in e)e.hasOwnProperty(a)&&(s[a]=p(e[a]));else return e;return s}n(p,"cloneObject");var ce=n(e=>Array.isArray(e)?e.filter(Boolean):[],"compact"),w=n(e=>e===void 0,"isUndefined"),y=n((e,s,r)=>{if(!s||!k(e))return r;const a=ce(s.split(/[,[\].]+?/)).reduce((o,u)=>L(o)?o:o[u],e);return w(a)||a===e?w(e[s])?r:e[s]:a},"get"),z=n(e=>typeof e=="boolean","isBoolean");const je={BLUR:"blur",FOCUS_OUT:"focusout",CHANGE:"change"},q={onBlur:"onBlur",onChange:"onChange",onSubmit:"onSubmit",onTouched:"onTouched",all:"all"},K={max:"max",min:"min",maxLength:"maxLength",minLength:"minLength",pattern:"pattern",required:"required",validate:"validate"},et=C.createContext(null),qt=n(()=>C.useContext(et),"useFormContext"),Ht=n(e=>{const{children:s,...r}=e;return C.createElement(et.Provider,{value:r},s)},"FormProvider");var Ft=n((e,s,r,a=!0)=>{const o={defaultValues:s._defaultValues};for(const u in e)Object.defineProperty(o,u,{get:()=>{const h=u;return s._proxyFormState[h]!==q.all&&(s._proxyFormState[h]=!a||q.all),r&&(r[h]=!0),e[h]}});return o},"getProxyFormState"),B=n(e=>k(e)&&!Object.keys(e).length,"isEmptyObject"),At=n((e,s,r,a)=>{r(e);const{name:o,...u}=e;return B(u)||Object.keys(u).length>=Object.keys(s).length||Object.keys(u).find(h=>s[h]===(!a||q.all))},"shouldRenderFormState"),me=n(e=>Array.isArray(e)?e:[e],"convertToArrayPayload");function xt(e){const s=C.useRef(e);s.current=e,C.useEffect(()=>{const r=!e.disabled&&s.current.subject&&s.current.subject.subscribe({next:s.current.next});return()=>{r&&r.unsubscribe()}},[e.disabled])}n(xt,"useSubscribe");var W=n(e=>typeof e=="string","isString"),wt=n((e,s,r,a,o)=>W(e)?(a&&s.watch.add(e),y(r,e,o)):Array.isArray(e)?e.map(u=>(a&&s.watch.add(u),y(r,u))):(a&&(s.watchAll=!0),r),"generateWatchOutput"),Le=n(e=>/^\w*$/.test(e),"isKey"),tt=n(e=>ce(e.replace(/["|']|\]/g,"").split(/\.|\[/)),"stringToPath"),x=n((e,s,r)=>{let a=-1;const o=Le(s)?[s]:tt(s),u=o.length,h=u-1;for(;++a<u;){const v=o[a];let I=r;if(a!==h){const H=e[v];I=k(H)||Array.isArray(H)?H:isNaN(+o[a+1])?{}:[]}e[v]=I,e=e[v]}return e},"set"),Dt=n((e,s,r,a,o)=>s?{...r[e],types:{...r[e]&&r[e].types?r[e].types:{},[a]:o||!0}}:{},"appendErrors"),$e=n(e=>({isOnSubmit:!e||e===q.onSubmit,isOnBlur:e===q.onBlur,isOnChange:e===q.onChange,isOnAll:e===q.all,isOnTouch:e===q.onTouched}),"getValidationModes"),Ke=n((e,s,r)=>!r&&(s.watchAll||s.watch.has(e)||[...s.watch].some(a=>e.startsWith(a)&&/^\.\w+/.test(e.slice(a.length)))),"isWatched");const oe=n((e,s,r,a)=>{for(const o of r||Object.keys(e)){const u=y(e,o);if(u){const{_f:h,...v}=u;if(h){if(h.refs&&h.refs[0]&&s(h.refs[0],o)&&!a)break;if(h.ref&&s(h.ref,h.name)&&!a)break;oe(v,s)}else k(v)&&oe(v,s)}}},"iterateFieldsByAction");var kt=n((e,s,r)=>{const a=ce(y(e,r));return x(a,"root",s[r]),x(e,r,a),e},"updateFieldArrayRootError"),Ce=n(e=>e.type==="file","isFileInput"),Q=n(e=>typeof e=="function","isFunction"),_e=n(e=>{if(!Oe)return!1;const s=e?e.ownerDocument:0;return e instanceof(s&&s.defaultView?s.defaultView.HTMLElement:HTMLElement)},"isHTMLElement"),ve=n(e=>W(e),"isMessage"),Re=n(e=>e.type==="radio","isRadioInput"),be=n(e=>e instanceof RegExp,"isRegex");const ze={value:!1,isValid:!1},Ge={value:!0,isValid:!0};var rt=n(e=>{if(Array.isArray(e)){if(e.length>1){const s=e.filter(r=>r&&r.checked&&!r.disabled).map(r=>r.value);return{value:s,isValid:!!s.length}}return e[0].checked&&!e[0].disabled?e[0].attributes&&!w(e[0].attributes.value)?w(e[0].value)||e[0].value===""?Ge:{value:e[0].value,isValid:!0}:Ge:ze}return ze},"getCheckboxValue");const Je={isValid:!1,value:null};var st=n(e=>Array.isArray(e)?e.reduce((s,r)=>r&&r.checked&&!r.disabled?{isValid:!0,value:r.value}:s,Je):Je,"getRadioValue");function Qe(e,s,r="validate"){if(ve(e)||Array.isArray(e)&&e.every(ve)||z(e)&&!e)return{type:r,message:ve(e)?e:"",ref:s}}n(Qe,"getValidateError");var re=n(e=>k(e)&&!be(e)?e:{value:e,message:""},"getValueAndMessage"),Xe=n(async(e,s,r,a,o)=>{const{ref:u,refs:h,required:v,maxLength:I,minLength:H,min:D,max:b,pattern:de,validate:G,name:R,valueAsNumber:Ae,mount:J,disabled:ie}=e._f,V=y(s,R);if(!J||ie)return{};const j=h?h[0]:u,$=n(_=>{a&&j.reportValidity&&(j.setCustomValidity(z(_)?"":_||""),j.reportValidity())},"setCustomValidity"),m={},Z=Re(u),ye=fe(u),X=Z||ye,ee=(Ae||Ce(u))&&w(u.value)&&w(V)||_e(u)&&u.value===""||V===""||Array.isArray(V)&&!V.length,M=Dt.bind(null,R,r,m),ge=n((_,F,E,O=K.maxLength,P=K.minLength)=>{const N=_?F:E;m[R]={type:_?O:P,message:N,ref:u,...M(_?O:P,N)}},"getMinMaxMessage");if(o?!Array.isArray(V)||!V.length:v&&(!X&&(ee||L(V))||z(V)&&!V||ye&&!rt(h).isValid||Z&&!st(h).isValid)){const{value:_,message:F}=ve(v)?{value:!!v,message:v}:re(v);if(_&&(m[R]={type:K.required,message:F,ref:j,...M(K.required,F)},!r))return $(F),m}if(!ee&&(!L(D)||!L(b))){let _,F;const E=re(b),O=re(D);if(!L(V)&&!isNaN(V)){const P=u.valueAsNumber||V&&+V;L(E.value)||(_=P>E.value),L(O.value)||(F=P<O.value)}else{const P=u.valueAsDate||new Date(V),N=n(ue=>new Date(new Date().toDateString()+" "+ue),"convertTimeToDate"),le=u.type=="time",ne=u.type=="week";W(E.value)&&V&&(_=le?N(V)>N(E.value):ne?V>E.value:P>new Date(E.value)),W(O.value)&&V&&(F=le?N(V)<N(O.value):ne?V<O.value:P<new Date(O.value))}if((_||F)&&(ge(!!_,E.message,O.message,K.max,K.min),!r))return $(m[R].message),m}if((I||H)&&!ee&&(W(V)||o&&Array.isArray(V))){const _=re(I),F=re(H),E=!L(_.value)&&V.length>+_.value,O=!L(F.value)&&V.length<+F.value;if((E||O)&&(ge(E,_.message,F.message),!r))return $(m[R].message),m}if(de&&!ee&&W(V)){const{value:_,message:F}=re(de);if(be(_)&&!V.match(_)&&(m[R]={type:K.pattern,message:F,ref:u,...M(K.pattern,F)},!r))return $(F),m}if(G){if(Q(G)){const _=await G(V,s),F=Qe(_,j);if(F&&(m[R]={...F,...M(K.validate,F.message)},!r))return $(F.message),m}else if(k(G)){let _={};for(const F in G){if(!B(_)&&!r)break;const E=Qe(await G[F](V,s),j,F);E&&(_={...E,...M(F,E.message)},$(E.message),r&&(m[R]=_))}if(!B(_)&&(m[R]={ref:j,..._},!r))return m}}return $(!0),m},"validateField");function mt(e,s){const r=s.slice(0,-1).length;let a=0;for(;a<r;)e=w(e)?a++:e[s[a++]];return e}n(mt,"baseGet");function Et(e){for(const s in e)if(e.hasOwnProperty(s)&&!w(e[s]))return!1;return!0}n(Et,"isEmptyArray");function T(e,s){const r=Array.isArray(s)?s:Le(s)?[s]:tt(s),a=r.length===1?e:mt(e,r),o=r.length-1,u=r[o];return a&&delete a[u],o!==0&&(k(a)&&B(a)||Array.isArray(a)&&Et(a))&&T(e,r.slice(0,-1)),e}n(T,"unset");var Ee=n(()=>{let e=[];return{get observers(){return e},next:n(o=>{for(const u of e)u.next&&u.next(o)},"next"),subscribe:n(o=>(e.push(o),{unsubscribe:()=>{e=e.filter(u=>u!==o)}}),"subscribe"),unsubscribe:n(()=>{e=[]},"unsubscribe")}},"createSubject"),Ve=n(e=>L(e)||!Ze(e),"isPrimitive");function Y(e,s){if(Ve(e)||Ve(s))return e===s;if(se(e)&&se(s))return e.getTime()===s.getTime();const r=Object.keys(e),a=Object.keys(s);if(r.length!==a.length)return!1;for(const o of r){const u=e[o];if(!a.includes(o))return!1;if(o!=="ref"){const h=s[o];if(se(u)&&se(h)||k(u)&&k(h)||Array.isArray(u)&&Array.isArray(h)?!Y(u,h):u!==h)return!1}}return!0}n(Y,"deepEqual");var it=n(e=>e.type==="select-multiple","isMultipleSelect"),St=n(e=>Re(e)||fe(e),"isRadioOrCheckbox"),Se=n(e=>_e(e)&&e.isConnected,"live"),Tt=n(e=>k(e)&&Object.values(e).some(s=>s),"objectHasTruthyValue"),lt=n(e=>{for(const s in e)if(Q(e[s]))return!0;return!1},"objectHasFunction");function Fe(e,s={}){const r=Array.isArray(e);if(k(e)||r)for(const a in e)Array.isArray(e[a])||k(e[a])&&!lt(e[a])?(s[a]=Array.isArray(e[a])?[]:{},Fe(e[a],s[a])):L(e[a])||(s[a]=!0);return s}n(Fe,"markFieldsDirty");function nt(e,s,r){const a=Array.isArray(e);if(k(e)||a)for(const o in e)Array.isArray(e[o])||k(e[o])&&!lt(e[o])?w(s)||Ve(r[o])?r[o]=Array.isArray(e[o])?Fe(e[o],[]):{...Fe(e[o])}:nt(e[o],L(s)?{}:s[o],r[o]):r[o]=!Y(e[o],s[o]);return r}n(nt,"getDirtyFieldsFromDefaultValues");var he=n((e,s)=>nt(e,s,Fe(s)),"getDirtyFields"),ut=n((e,{valueAsNumber:s,valueAsDate:r,setValueAs:a})=>w(e)?e:s?e===""?NaN:e&&+e:r&&W(e)?new Date(e):a?a(e):e,"getFieldValueAs");function Te(e){const s=e.ref;if(!(e.refs?e.refs.every(r=>r.disabled):s.disabled))return Ce(s)?s.files:Re(s)?st(e.refs).value:it(s)?[...s.selectedOptions].map(({value:r})=>r):fe(s)?rt(e.refs).value:ut(w(s.value)?e.ref.value:s.value,e)}n(Te,"getFieldValue");var Ot=n((e,s,r,a)=>{const o={};for(const u of e){const h=y(s,u);h&&x(o,u,h._f)}return{criteriaMode:r,names:[...e],fields:o,shouldUseNativeValidation:a}},"getResolverOptions"),ae=n(e=>w(e)?e:be(e)?e.source:k(e)?be(e.value)?e.value.source:e.value:e,"getRuleValue"),Lt=n(e=>e.mount&&(e.required||e.min||e.max||e.maxLength||e.minLength||e.pattern||e.validate),"hasValidation");function Ye(e,s,r){const a=y(e,r);if(a||Le(r))return{error:a,name:r};const o=r.split(".");for(;o.length;){const u=o.join("."),h=y(s,u),v=y(e,u);if(h&&!Array.isArray(h)&&r!==u)return{name:r};if(v&&v.type)return{name:u,error:v};o.pop()}return{name:r}}n(Ye,"schemaErrorLookup");var Ct=n((e,s,r,a,o)=>o.isOnAll?!1:!r&&o.isOnTouch?!(s||e):(r?a.isOnBlur:o.isOnBlur)?!e:(r?a.isOnChange:o.isOnChange)?e:!0,"skipValidation"),Rt=n((e,s)=>!ce(y(e,s)).length&&T(e,s),"unsetEmptyArray");const Ut={mode:q.onSubmit,reValidateMode:q.onChange,shouldFocusError:!0};function Mt(e={}){let s={...Ut,...e},r={submitCount:0,isDirty:!1,isLoading:Q(s.defaultValues),isValidating:!1,isSubmitted:!1,isSubmitting:!1,isSubmitSuccessful:!1,isValid:!1,touchedFields:{},dirtyFields:{},validatingFields:{},errors:s.errors||{},disabled:s.disabled||!1},a={},o=k(s.defaultValues)||k(s.values)?p(s.defaultValues||s.values)||{}:{},u=s.shouldUnregister?{}:p(o),h={action:!1,mount:!1,watch:!1},v={mount:new Set,unMount:new Set,array:new Set,watch:new Set},I,H=0;const D={isDirty:!1,dirtyFields:!1,validatingFields:!1,touchedFields:!1,isValidating:!1,isValid:!1,errors:!1},b={values:Ee(),array:Ee(),state:Ee()},de=$e(s.mode),G=$e(s.reValidateMode),R=s.criteriaMode===q.all,Ae=n(t=>i=>{clearTimeout(H),H=setTimeout(t,i)},"debounce"),J=n(async t=>{if(D.isValid||t){const i=s.resolver?B((await X()).errors):await M(a,!0);i!==r.isValid&&b.state.next({isValid:i})}},"_updateValid"),ie=n((t,i)=>{(D.isValidating||D.validatingFields)&&(i.forEach(l=>{x(r.validatingFields,l,t)}),r.isValidating=Tt(r.validatingFields),b.state.next({validatingFields:r.validatingFields,isValidating:r.isValidating}))},"_updateIsValidating"),V=n((t,i=[],l,d,c=!0,f=!0)=>{if(d&&l){if(h.action=!0,f&&Array.isArray(y(a,t))){const g=l(y(a,t),d.argA,d.argB);c&&x(a,t,g)}if(f&&Array.isArray(y(r.errors,t))){const g=l(y(r.errors,t),d.argA,d.argB);c&&x(r.errors,t,g),Rt(r.errors,t)}if(D.touchedFields&&f&&Array.isArray(y(r.touchedFields,t))){const g=l(y(r.touchedFields,t),d.argA,d.argB);c&&x(r.touchedFields,t,g)}D.dirtyFields&&(r.dirtyFields=he(o,u)),b.state.next({name:t,isDirty:_(t,i),dirtyFields:r.dirtyFields,errors:r.errors,isValid:r.isValid})}else x(u,t,i)},"_updateFieldArray"),j=n((t,i)=>{x(r.errors,t,i),b.state.next({errors:r.errors})},"updateErrors"),$=n(t=>{r.errors=t,b.state.next({errors:r.errors,isValid:!1})},"_setErrors"),m=n((t,i,l,d)=>{const c=y(a,t);if(c){const f=y(u,t,w(l)?y(o,t):l);w(f)||d&&d.defaultChecked||i?x(u,t,i?f:Te(c._f)):O(t,f),h.mount&&J()}},"updateValidAndValue"),Z=n((t,i,l,d,c)=>{let f=!1,g=!1;const A={name:t},S=!!(y(a,t)&&y(a,t)._f.disabled);if(!l||d){D.isDirty&&(g=r.isDirty,r.isDirty=A.isDirty=_(),f=g!==A.isDirty);const U=S||Y(y(o,t),i);g=!!(!S&&y(r.dirtyFields,t)),U||S?T(r.dirtyFields,t):x(r.dirtyFields,t,!0),A.dirtyFields=r.dirtyFields,f=f||D.dirtyFields&&g!==!U}if(l){const U=y(r.touchedFields,t);U||(x(r.touchedFields,t,l),A.touchedFields=r.touchedFields,f=f||D.touchedFields&&U!==l)}return f&&c&&b.state.next(A),f?A:{}},"updateTouchAndDirty"),ye=n((t,i,l,d)=>{const c=y(r.errors,t),f=D.isValid&&z(i)&&r.isValid!==i;if(e.delayError&&l?(I=Ae(()=>j(t,l)),I(e.delayError)):(clearTimeout(H),I=null,l?x(r.errors,t,l):T(r.errors,t)),(l?!Y(c,l):c)||!B(d)||f){const g={...d,...f&&z(i)?{isValid:i}:{},errors:r.errors,name:t};r={...r,...g},b.state.next(g)}ie(!1,Object.keys(r.validatingFields).filter(g=>g===t))},"shouldRenderByError"),X=n(async t=>s.resolver(u,s.context,Ot(t||v.mount,a,s.criteriaMode,s.shouldUseNativeValidation)),"_executeSchema"),ee=n(async t=>{const{errors:i}=await X(t);if(t)for(const l of t){const d=y(i,l);d?x(r.errors,l,d):T(r.errors,l)}else r.errors=i;return i},"executeSchemaAndUpdateState"),M=n(async(t,i,l={valid:!0})=>{for(const d in t){const c=t[d];if(c){const{_f:f,...g}=c;if(f){const A=v.array.has(f.name),S=await Xe(c,u,R,s.shouldUseNativeValidation&&!i,A);if(S[f.name]&&(l.valid=!1,i))break;!i&&(y(S,f.name)?A?kt(r.errors,S,f.name):x(r.errors,f.name,S[f.name]):T(r.errors,f.name))}g&&await M(g,i,l)}}return l.valid},"executeBuiltInValidation"),ge=n(()=>{for(const t of v.unMount){const i=y(a,t);i&&(i._f.refs?i._f.refs.every(l=>!Se(l)):!Se(i._f.ref))&&xe(t)}v.unMount=new Set},"_removeUnmounted"),_=n((t,i)=>(t&&i&&x(u,t,i),!Y(Ue(),o)),"_getDirty"),F=n((t,i,l)=>wt(t,v,{...h.mount?u:w(i)?o:W(t)?{[t]:i}:i},l,i),"_getWatch"),E=n(t=>ce(y(h.mount?u:o,t,e.shouldUnregister?y(o,t,[]):[])),"_getFieldArray"),O=n((t,i,l={})=>{const d=y(a,t);let c=i;if(d){const f=d._f;f&&(!f.disabled&&x(u,t,ut(i,f)),c=_e(f.ref)&&L(i)?"":i,it(f.ref)?[...f.ref.options].forEach(g=>g.selected=c.includes(g.value)):f.refs?fe(f.ref)?f.refs.length>1?f.refs.forEach(g=>(!g.defaultChecked||!g.disabled)&&(g.checked=Array.isArray(c)?!!c.find(A=>A===g.value):c===g.value)):f.refs[0]&&(f.refs[0].checked=!!c):f.refs.forEach(g=>g.checked=g.value===c):Ce(f.ref)?f.ref.value="":(f.ref.value=c,f.ref.type||b.values.next({name:t,values:{...u}})))}(l.shouldDirty||l.shouldTouch)&&Z(t,c,l.shouldTouch,l.shouldDirty,!0),l.shouldValidate&&ue(t)},"setFieldValue"),P=n((t,i,l)=>{for(const d in i){const c=i[d],f=`${t}.${d}`,g=y(a,f);(v.array.has(t)||!Ve(c)||g&&!g._f)&&!se(c)?P(f,c,l):O(f,c,l)}},"setValues"),N=n((t,i,l={})=>{const d=y(a,t),c=v.array.has(t),f=p(i);x(u,t,f),c?(b.array.next({name:t,values:{...u}}),(D.isDirty||D.dirtyFields)&&l.shouldDirty&&b.state.next({name:t,dirtyFields:he(o,u),isDirty:_(t,f)})):d&&!d._f&&!L(f)?P(t,f,l):O(t,f,l),Ke(t,v)&&b.state.next({...r}),b.values.next({name:h.mount?t:void 0,values:{...u}})},"setValue"),le=n(async t=>{const i=t.target;let l=i.name,d=!0;const c=y(a,l),f=n(()=>i.type?Te(c._f):vt(t),"getCurrentFieldValue"),g=n(A=>{d=Number.isNaN(A)||A===y(u,l,A)},"_updateIsFieldValueUpdated");if(c){let A,S;const U=f(),te=t.type===je.BLUR||t.type===je.FOCUS_OUT,dt=!Lt(c._f)&&!s.resolver&&!y(r.errors,l)&&!c._f.deps||Ct(te,y(r.touchedFields,l),r.isSubmitted,G,de),De=Ke(l,v,te);x(u,l,U),te?(c._f.onBlur&&c._f.onBlur(t),I&&I(0)):c._f.onChange&&c._f.onChange(t);const ke=Z(l,U,te,!1),yt=!B(ke)||De;if(!te&&b.values.next({name:l,type:t.type,values:{...u}}),dt)return D.isValid&&J(),yt&&b.state.next({name:l,...De?{}:ke});if(!te&&De&&b.state.next({...r}),ie(!0,[l]),s.resolver){const{errors:He}=await X([l]);if(g(U),d){const gt=Ye(r.errors,a,l),We=Ye(He,a,gt.name||l);A=We.error,l=We.name,S=B(He)}}else A=(await Xe(c,u,R,s.shouldUseNativeValidation))[l],g(U),d&&(A?S=!1:D.isValid&&(S=await M(a,!0)));d&&(c._f.deps&&ue(c._f.deps),ye(l,S,A,ke))}},"onChange"),ne=n((t,i)=>{if(y(r.errors,i)&&t.focus)return t.focus(),1},"_focusInput"),ue=n(async(t,i={})=>{let l,d;const c=me(t);if(ie(!0,c),s.resolver){const f=await ee(w(t)?t:c);l=B(f),d=t?!c.some(g=>y(f,g)):l}else t?(d=(await Promise.all(c.map(async f=>{const g=y(a,f);return await M(g&&g._f?{[f]:g}:g)}))).every(Boolean),!(!d&&!r.isValid)&&J()):d=l=await M(a);return b.state.next({...!W(t)||D.isValid&&l!==r.isValid?{}:{name:t},...s.resolver||!t?{isValid:l}:{},errors:r.errors,isValidating:!1}),i.shouldFocus&&!d&&oe(a,ne,t?c:v.mount),d},"trigger"),Ue=n(t=>{const i={...o,...h.mount?u:{}};return w(t)?i:W(t)?y(i,t):t.map(l=>y(i,l))},"getValues"),Me=n((t,i)=>({invalid:!!y((i||r).errors,t),isDirty:!!y((i||r).dirtyFields,t),isTouched:!!y((i||r).touchedFields,t),isValidating:!!y((i||r).validatingFields,t),error:y((i||r).errors,t)}),"getFieldState"),at=n(t=>{t&&me(t).forEach(i=>T(r.errors,i)),b.state.next({errors:t?r.errors:{}})},"clearErrors"),Ne=n((t,i,l)=>{const d=(y(a,t,{_f:{}})._f||{}).ref;x(r.errors,t,{...i,ref:d}),b.state.next({name:t,errors:r.errors,isValid:!1}),l&&l.shouldFocus&&d&&d.focus&&d.focus()},"setError"),ot=n((t,i)=>Q(t)?b.values.subscribe({next:l=>t(F(void 0,i),l)}):F(t,i,!0),"watch"),xe=n((t,i={})=>{for(const l of t?me(t):v.mount)v.mount.delete(l),v.array.delete(l),i.keepValue||(T(a,l),T(u,l)),!i.keepError&&T(r.errors,l),!i.keepDirty&&T(r.dirtyFields,l),!i.keepTouched&&T(r.touchedFields,l),!i.keepIsValidating&&T(r.validatingFields,l),!s.shouldUnregister&&!i.keepDefaultValue&&T(o,l);b.values.next({values:{...u}}),b.state.next({...r,...i.keepDirty?{isDirty:_()}:{}}),!i.keepIsValid&&J()},"unregister"),pe=n(({disabled:t,name:i,field:l,fields:d,value:c})=>{if(z(t)){const f=t?void 0:w(c)?Te(l?l._f:y(d,i)._f):c;x(u,i,f),Z(i,f,!1,!1,!0)}},"_updateDisabledField"),we=n((t,i={})=>{let l=y(a,t);const d=z(i.disabled);return x(a,t,{...l||{},_f:{...l&&l._f?l._f:{ref:{name:t}},name:t,mount:!0,...i}}),v.mount.add(t),l?pe({field:l,disabled:i.disabled,name:t,value:i.value}):m(t,!0,i.value),{...d?{disabled:i.disabled}:{},...s.progressive?{required:!!i.required,min:ae(i.min),max:ae(i.max),minLength:ae(i.minLength),maxLength:ae(i.maxLength),pattern:ae(i.pattern)}:{},name:t,onChange:le,onBlur:le,ref:c=>{if(c){we(t,i),l=y(a,t);const f=w(c.value)&&c.querySelectorAll&&c.querySelectorAll("input,select,textarea")[0]||c,g=St(f),A=l._f.refs||[];if(g?A.find(S=>S===f):f===l._f.ref)return;x(a,t,{_f:{...l._f,...g?{refs:[...A.filter(Se),f,...Array.isArray(y(o,t))?[{}]:[]],ref:{type:f.type,name:t}}:{ref:f}}}),m(t,!1,void 0,f)}else l=y(a,t,{}),l._f&&(l._f.mount=!1),(s.shouldUnregister||i.shouldUnregister)&&!(bt(v.array,t)&&h.action)&&v.unMount.add(t)}}},"register"),Be=n(()=>s.shouldFocusError&&oe(a,ne,v.mount),"_focusError"),ft=n(t=>{z(t)&&(b.state.next({disabled:t}),oe(a,(i,l)=>{let d=t;const c=y(a,l);c&&z(c._f.disabled)&&(d||(d=c._f.disabled)),i.disabled=d},0,!1))},"_disableForm"),Ie=n((t,i)=>async l=>{let d;l&&(l.preventDefault&&l.preventDefault(),l.persist&&l.persist());let c=p(u);if(b.state.next({isSubmitting:!0}),s.resolver){const{errors:f,values:g}=await X();r.errors=f,c=g}else await M(a);if(T(r.errors,"root"),B(r.errors)){b.state.next({errors:{}});try{await t(c,l)}catch(f){d=f}}else i&&await i({...r.errors},l),Be(),setTimeout(Be);if(b.state.next({isSubmitted:!0,isSubmitting:!1,isSubmitSuccessful:B(r.errors)&&!d,submitCount:r.submitCount+1,errors:r.errors}),d)throw d},"handleSubmit"),ct=n((t,i={})=>{y(a,t)&&(w(i.defaultValue)?N(t,p(y(o,t))):(N(t,i.defaultValue),x(o,t,p(i.defaultValue))),i.keepTouched||T(r.touchedFields,t),i.keepDirty||(T(r.dirtyFields,t),r.isDirty=i.defaultValue?_(t,p(y(o,t))):_()),i.keepError||(T(r.errors,t),D.isValid&&J()),b.state.next({...r}))},"resetField"),Pe=n((t,i={})=>{const l=t?p(t):o,d=p(l),c=B(t),f=c?o:d;if(i.keepDefaultValues||(o=l),!i.keepValues){if(i.keepDirtyValues)for(const g of v.mount)y(r.dirtyFields,g)?x(f,g,y(u,g)):N(g,y(f,g));else{if(Oe&&w(t))for(const g of v.mount){const A=y(a,g);if(A&&A._f){const S=Array.isArray(A._f.refs)?A._f.refs[0]:A._f.ref;if(_e(S)){const U=S.closest("form");if(U){U.reset();break}}}}a={}}u=e.shouldUnregister?i.keepDefaultValues?p(o):{}:p(f),b.array.next({values:{...f}}),b.values.next({values:{...f}})}v={mount:i.keepDirtyValues?v.mount:new Set,unMount:new Set,array:new Set,watch:new Set,watchAll:!1,focus:""},h.mount=!D.isValid||!!i.keepIsValid||!!i.keepDirtyValues,h.watch=!!e.shouldUnregister,b.state.next({submitCount:i.keepSubmitCount?r.submitCount:0,isDirty:c?!1:i.keepDirty?r.isDirty:!!(i.keepDefaultValues&&!Y(t,o)),isSubmitted:i.keepIsSubmitted?r.isSubmitted:!1,dirtyFields:c?[]:i.keepDirtyValues?i.keepDefaultValues&&u?he(o,u):r.dirtyFields:i.keepDefaultValues&&t?he(o,t):{},touchedFields:i.keepTouched?r.touchedFields:{},errors:i.keepErrors?r.errors:{},isSubmitSuccessful:i.keepIsSubmitSuccessful?r.isSubmitSuccessful:!1,isSubmitting:!1})},"_reset"),qe=n((t,i)=>Pe(Q(t)?t(u):t,i),"reset");return{control:{register:we,unregister:xe,getFieldState:Me,handleSubmit:Ie,setError:Ne,_executeSchema:X,_getWatch:F,_getDirty:_,_updateValid:J,_removeUnmounted:ge,_updateFieldArray:V,_updateDisabledField:pe,_getFieldArray:E,_reset:Pe,_resetDefaultValues:n(()=>Q(s.defaultValues)&&s.defaultValues().then(t=>{qe(t,s.resetOptions),b.state.next({isLoading:!1})}),"_resetDefaultValues"),_updateFormState:n(t=>{r={...r,...t}},"_updateFormState"),_disableForm:ft,_subjects:b,_proxyFormState:D,_setErrors:$,get _fields(){return a},get _formValues(){return u},get _state(){return h},set _state(t){h=t},get _defaultValues(){return o},get _names(){return v},set _names(t){v=t},get _formState(){return r},set _formState(t){r=t},get _options(){return s},set _options(t){s={...s,...t}}},trigger:ue,register:we,handleSubmit:Ie,watch:ot,setValue:N,getValues:Ue,reset:qe,resetField:ct,clearErrors:at,unregister:xe,setError:Ne,setFocus:n((t,i={})=>{const l=y(a,t),d=l&&l._f;if(d){const c=d.refs?d.refs[0]:d.ref;c.focus&&(c.focus(),i.shouldSelect&&c.select())}},"setFocus"),getFieldState:Me}}n(Mt,"createFormControl");function Wt(e={}){const s=C.useRef(),r=C.useRef(),[a,o]=C.useState({isDirty:!1,isValidating:!1,isLoading:Q(e.defaultValues),isSubmitted:!1,isSubmitting:!1,isSubmitSuccessful:!1,isValid:!1,submitCount:0,dirtyFields:{},touchedFields:{},validatingFields:{},errors:e.errors||{},disabled:e.disabled||!1,defaultValues:Q(e.defaultValues)?void 0:e.defaultValues});s.current||(s.current={...Mt(e),formState:a});const u=s.current.control;return u._options=e,xt({subject:u._subjects.state,next:h=>{At(h,u._proxyFormState,u._updateFormState,!0)&&o({...u._formState})}}),C.useEffect(()=>u._disableForm(e.disabled),[u,e.disabled]),C.useEffect(()=>{if(u._proxyFormState.isDirty){const h=u._getDirty();h!==a.isDirty&&u._subjects.state.next({isDirty:h})}},[u,a.isDirty]),C.useEffect(()=>{e.values&&!Y(e.values,r.current)?(u._reset(e.values,u._options.resetOptions),r.current=e.values,o(h=>({...h}))):u._resetDefaultValues()},[e.values,u]),C.useEffect(()=>{e.errors&&u._setErrors(e.errors)},[e.errors,u]),C.useEffect(()=>{u._state.mount||(u._updateValid(),u._state.mount=!0),u._state.watch&&(u._state.watch=!1,u._subjects.state.next({...u._formState})),u._removeUnmounted()}),C.useEffect(()=>{e.shouldUnregister&&u._subjects.values.next({values:u._getWatch()})},[e.shouldUnregister,u]),s.current.formState=Ft(a,u),s.current}n(Wt,"useForm");export{Ht as F,Wt as a,qt as u};
